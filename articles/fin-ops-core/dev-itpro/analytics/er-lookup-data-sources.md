---
title: Konfigurowanie źródeł danych wyszukiwania do używania parametrów specyficznych dla raportowania elektronicznego
description: W tym temacie wyjaśniono, jak skonfigurować źródła danych wyszukiwania w formatach raportowania elektronicznego (ER), aby używać parametrów specyficznych dla aplikacji ER.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 131d14f1f1aa329bd71b1f8a4015192736bd8e44
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022582"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="32785-103">Konfigurowanie źródeł danych wyszukiwania do używania parametrów specyficznych dla raportowania elektronicznego</span><span class="sxs-lookup"><span data-stu-id="32785-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="32785-104">Funkcja parametrów specyficznych dla aplikacji [Raportowanie elektroniczne (ER)](general-electronic-reporting.md) umożliwia użytkownikom zaawansowanym konfigurowanie filtrowania danych w formacie ER, tak aby były oparte na zbiorze reguł abstrakcyjnych.</span><span class="sxs-lookup"><span data-stu-id="32785-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="32785-105">Ten zestaw reguł można skonfigurować tak, aby używał źródła danych typu **Wyszukiwanie**, które jest dostępne w formacie ER.</span><span class="sxs-lookup"><span data-stu-id="32785-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="32785-106">Następnie można określić rzeczywiste reguły wykraczające poza projektantów komponentów ER, korzystając z interfejsu użytkownika (UI), który jest generowany automatycznie na podstawie ustawień źródła danych **Wyszukiwanie** odpowiedniego formatu ER i bieżących danych podmiotu prawnego.</span><span class="sxs-lookup"><span data-stu-id="32785-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="32785-107">Po wykonaniu tego formatu ER określone reguły będą dostępne w źródle danych **Wyszukiwanie** formatu ER.</span><span class="sxs-lookup"><span data-stu-id="32785-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="32785-108">Skorzystaj ze skonfigurowanych źródeł danych w edytowalnym formacie ER, aby określić, które dane aplikacji są używane do konfigurowania rzeczywistych reguł.</span><span class="sxs-lookup"><span data-stu-id="32785-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="32785-109">Za pomocą [projektanta Operacji ER](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) można wprowadzić źródło danych typu **Wyszukiwanie** do formatu ER.</span><span class="sxs-lookup"><span data-stu-id="32785-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="32785-110">Źródło danych należy skonfigurować tak, aby opisywało wygląd reguł abstrakcyjnych, w tym:</span><span class="sxs-lookup"><span data-stu-id="32785-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="32785-111">Zestaw parametrów określonego typu danych, którego wartość jest dostarczana w celu określenia jednej reguły.</span><span class="sxs-lookup"><span data-stu-id="32785-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="32785-112">Typ wartości określonego typu danych zwracany przez pojedynczą regułę, gdy ta reguła jest uważana za najbardziej odpowiednią między innymi.</span><span class="sxs-lookup"><span data-stu-id="32785-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="32785-113">Możesz skonfigurować następujące typy źródeł danych **Wyszukiwanie** w zależności od typu wartości zwracanej przez dowolną skonfigurowaną regułę:</span><span class="sxs-lookup"><span data-stu-id="32785-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="32785-114">Użyj typu **Model danych\Wyszukiwanie**, gdy musi zostać zwrócona wartość wyliczenia modelu.</span><span class="sxs-lookup"><span data-stu-id="32785-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="32785-115">Użyj typu **Dynamics 365 Operations\Wyszukiwanie**, gdy musi zostać zwrócona wartość wyliczenia aplikacji lub wartość [rozszerzonego typu danych aplikacji](../extensibility/extensible-edts.md).</span><span class="sxs-lookup"><span data-stu-id="32785-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="32785-116">Użyj typu **Wyliczenie formatów\Wyszukiwanie**, gdy musi zostać zwrócona wartość wyliczenia formatów.</span><span class="sxs-lookup"><span data-stu-id="32785-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="32785-117">Na poniższej ilustracji pokazano, jak można skonfigurować wyliczenie formatów w przykładowym formacie ER.</span><span class="sxs-lookup"><span data-stu-id="32785-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Wyświetlanie wyliczenia formatów jako podstawy skonfigurowanego źródła danych wyszukiwania](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="32785-119">Na poniższej ilustracji przedstawiono składniki formatu skonfigurowane do zgłaszania różnych typów podatków w innej sekcji generowanego raportu.</span><span class="sxs-lookup"><span data-stu-id="32785-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Wyświetlanie sekcji formatu osobno raportujących różne typy podatków](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="32785-121">Na poniższej ilustracji pokazano, w jaki sposób projektant ER Operations umożliwia dodanie źródła danych **Wyliczenie formatów\Wyszukiwanie**.</span><span class="sxs-lookup"><span data-stu-id="32785-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="32785-122">Dodane źródło danych jest skonfigurowane jako zwracające wartość wyliczenia formatów `List of taxation levels`.</span><span class="sxs-lookup"><span data-stu-id="32785-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Dodawanie źródła danych ER wyliczenia formatów\wyszukiwania](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="32785-124">Na poniższej ilustracji pokazano, w jaki sposób dodano źródło danych skonfigurowane do używania pola **Kod** z listy rekordów **Model.Data.Tax** źródła danych **modelu** jako parametru, który należy określić dla każdej skonfigurowanej reguły.</span><span class="sxs-lookup"><span data-stu-id="32785-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Konfigurowanie parametrów dodanego źródła danych typu Wyliczenie formatu \ Wyszukiwanie](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="32785-126">Dodane źródło danych `Model.Data.Tax` jest skonfigurowane tak, aby określać kod podatku dla każdej skonfigurowanej reguły, uzyskując dostęp do rekordów tabeli aplikacji **TaxTable**.</span><span class="sxs-lookup"><span data-stu-id="32785-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Przegląd źródła danych wyszukiwania dla pojedynczej firmy typu Wyliczenie formatu \ Wyszukiwanie](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="32785-128">Reguły wyszukiwania dla wybranego formatu ER można skonfigurować za pomocą interfejsu użytkownika, który jest automatycznie dopasowywany do struktury skonfigurowanego źródła danych.</span><span class="sxs-lookup"><span data-stu-id="32785-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="32785-129">Obecnie ten interfejs użytkownika wymaga, aby dla każdej reguły określić zwracaną wartość jako wartość wyliczenia w formacie `List of taxation levels`, a także kod podatku jako parametr.</span><span class="sxs-lookup"><span data-stu-id="32785-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Umożliwia ustawianie reguł dla skonfigurowanego źródła danych](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="32785-131">Na poniższej ilustracji pokazano, jak źródło danych `Model.Data.Summary.LevelByLookup` typu **Pole obliczeniowe** można skonfigurować tak, aby wywoływało skonfigurowane źródło danych **Wyszukiwanie** z wymaganymi parametrami.</span><span class="sxs-lookup"><span data-stu-id="32785-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="32785-132">Aby przetworzyć to wywołanie w czasie wykonywania, ER przegląda listę skonfigurowanych reguł w zdefiniowanej kolejności, aby zlokalizować pierwszą regułę, która spełnia podane warunki.</span><span class="sxs-lookup"><span data-stu-id="32785-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="32785-133">W tym przykładzie jest to reguła zawierająca kod podatku, który pasuje do podanego kodu.</span><span class="sxs-lookup"><span data-stu-id="32785-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="32785-134">W związku z tym znaleziono najo odpowiednią regułę, a wartość wyliczenia skonfigurowana dla znalezionej reguły jest zwracana przez to źródło danych.</span><span class="sxs-lookup"><span data-stu-id="32785-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="32785-135">Wystąpił wyjątek, gdy nie znaleziono właściwej reguły.</span><span class="sxs-lookup"><span data-stu-id="32785-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="32785-136">Aby zapobiec tym wyjątkom, skonfiguruj dodatkowe reguły na końcu listy reguł, aby obsługiwały przypadki, gdy nie została podana nieskonfigurowana wartość lub żadna wartość nie została podana.</span><span class="sxs-lookup"><span data-stu-id="32785-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="32785-137">Użyj odpowiednio opcji **\*Niepuste\*** i **\*Puste\***.</span><span class="sxs-lookup"><span data-stu-id="32785-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Dodaj źródło danych, aby wywołać skonfigurowane źródło danych wyszukiwania](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="32785-139">W przypadku ustawienia opcji **Między firmami** na wartość **Tak** dla edytowalnego źródła danych wyszukiwania należy dodać nowy wymagany parametr **Firma** do zestawu parametrów tego źródła danych.</span><span class="sxs-lookup"><span data-stu-id="32785-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="32785-140">Podczas wywoływania źródła danych wyszukiwania należy określić wartość parametru **Firma** w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="32785-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="32785-141">Gdy kod firmy jest określony w czasie wykonywania, reguły skonfigurowane dla tej firmy są używane do znalezienia najbardziej odpowiedniej reguły i zwracana jest odpowiednia wartość.</span><span class="sxs-lookup"><span data-stu-id="32785-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="32785-142">Poniższa ilustracja przedstawia, jak można to zrobić i jak zmienia się zestaw parametrów edytowalnego źródła danych.</span><span class="sxs-lookup"><span data-stu-id="32785-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Przejrzyj źródło danych wyszukiwania międzyfirmowego typu Wyliczenie formatu \ Wyszukiwanie](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="32785-144">Wybierz każdą firmę oddzielnie, aby skonfigurować zestaw reguł dla tego źródła danych wyszukiwania w edytowalnym formacie ER.</span><span class="sxs-lookup"><span data-stu-id="32785-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="32785-145">Wyjątek jest generowany w czasie wykonywania, gdy wyszukiwanie międzyfirmowe jest wywoływane z kodem firmy, dla której ustawienie wyszukiwania nie zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="32785-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="32785-146">Upewnij się, że masz uprawnienia użytkownika, który uruchamia format ER za pomocą między firmowego źródła danych **wyszukiwania**, do dostępu do danych każdej firmy, która znajduje się w zakresie tego źródła danych.</span><span class="sxs-lookup"><span data-stu-id="32785-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="32785-147">W przeciwnym razie wyjątek jest zgłaszany w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="32785-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="32785-148">Począwszy od wersji 10.0.19 są dostępne rozszerzone możliwości źródeł danych **Wyszukiwania**.</span><span class="sxs-lookup"><span data-stu-id="32785-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="32785-149">Po skonfigurowaniu opcji **Rozszerzone** na wartość **Tak** dla edytowalnego źródła danych wyszukiwania skonfigurowane źródło danych wyszukiwania zostanie przekształcone w strukturalne źródło danych, które oferuje dodatkowe możliwości analizowania skonfigurowanego zestawu reguł.</span><span class="sxs-lookup"><span data-stu-id="32785-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="32785-150">Poniższa ilustracja przedstawia tę transformację.</span><span class="sxs-lookup"><span data-stu-id="32785-150">The following illustration shows this transformation.</span></span>

   ![Przegląd źródła danych wyszukiwania strukturalnego typu Wyliczenie formatu \ Wyszukiwanie](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="32785-152">Pozycja podrzędna **Wyszukiwanie** została zaprojektowana jako funkcja znajdująca najbardziej odpowiednią regułę ze zbioru konfigurowalnych reguł w oparciu o dostarczony zestaw parametrów.</span><span class="sxs-lookup"><span data-stu-id="32785-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="32785-153">Element podrzędny **IsLookupResultSet** jest przeznaczony do akceptowania podanej wartości źródła danych wyliczenia podstawowego i zwracania wartości *logicznych* **True**, jeśli zestaw reguł zawiera co najmniej jedną regułę, dla której dostarczana wartość wyliczenia została skonfigurowana jako zwracana wartość.</span><span class="sxs-lookup"><span data-stu-id="32785-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="32785-154">Ta funkcja zwraca wartość *logiczną* **False**, jeśli nie skonfigurowano reguł zwracania podanej wartości wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="32785-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="32785-155">Pozycja podrzędna **Ustawienie** została zaprojektowana jako funkcja zwracająca zestaw skonfigurowanych reguł jako rekordy listy rekordów.</span><span class="sxs-lookup"><span data-stu-id="32785-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="32785-156">Zwracane wartości i zestaw parametrów skonfigurowanych reguł prezentowane są w każdym zwracanym rekordzie jako pola odpowiednich typów danych:</span><span class="sxs-lookup"><span data-stu-id="32785-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="32785-157">Zwracana wartość jest prezentowana jako pole **Wynik wyszukiwania**.</span><span class="sxs-lookup"><span data-stu-id="32785-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="32785-158">Skonfigurowane parametry są prezentowane jako pola mające nazwy parametrów (pole **Kod** w tym przykładzie).</span><span class="sxs-lookup"><span data-stu-id="32785-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="32785-159">Aby uzyskać więcej informacji dotyczących konfigurowania źródła danych **wyszukiwania**, zobacz temat [Konfiguracja formatów raportowania elektronicznego do używania parametrów określonych dla firmy](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="32785-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="32785-160">Aby się dowiedzieć, jak skonfigurować reguły wyszukiwania, zobacz temat [Konfiguracja parametrów formatu raportowania elektronicznego dla firmy](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="32785-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="32785-161">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="32785-161">Additional resources</span></span>

[<span data-ttu-id="32785-162">Konfiguracja formatów raportowania elektronicznego do używania parametrów określonych dla firmy</span><span class="sxs-lookup"><span data-stu-id="32785-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="32785-163">Konfiguracja parametrów formatu raportowania elektronicznego dla firmy</span><span class="sxs-lookup"><span data-stu-id="32785-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
