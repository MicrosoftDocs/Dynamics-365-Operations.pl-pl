---
title: Integracja zaopatrzenia między aplikacjami Supply Chain Management i Field Service
description: W tym temacie opisano, w jaki sposób integracja podwójnego zapisu obsługuje tworzenie i aktualizacje zamówień zakupu zarówno z aplikacji Supply Chain Management i Field Service.
author: RichardLuan
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: riluan
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: fcbede8b1a0a9a1dfcb9acbfd7cadb49eb48eecd
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/31/2021
ms.locfileid: "5750697"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a><span data-ttu-id="648bf-103">Integracja zaopatrzenia między aplikacjami Supply Chain Management i Field Service</span><span class="sxs-lookup"><span data-stu-id="648bf-103">Integrate procurement between Supply Chain Management and Field Service</span></span>

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="648bf-104">Aplikacja Microsoft Dynamics 365 Supply Chain Management oferuje zaawansowane funkcje zaopatrzenia.</span><span class="sxs-lookup"><span data-stu-id="648bf-104">Microsoft Dynamics 365 Supply Chain Management provides robust procurement functionality.</span></span> <span data-ttu-id="648bf-105">Aplikacja Dynamics 365 Field Service oferuje podobne funkcje, które obsługują procesy zakupów skojarzone z procesem usług.</span><span class="sxs-lookup"><span data-stu-id="648bf-105">Dynamics 365 Field Service offers similar functionality that supports the purchasing processes that are associated with the service process.</span></span> <span data-ttu-id="648bf-106">Funkcjonalność tych dwóch aplikacji jest zintegrowana za pośrednictwem podwójnego zapisu, a wynikające z nich międzyfunkcjonalne przypadki użycia są włączane za pomocą mapowań tabel, logiki rozwiązań, widoków i formularzy.</span><span class="sxs-lookup"><span data-stu-id="648bf-106">The functionality in these two apps is integrated through dual-write, and the resulting cross-functional use cases are enabled through table mappings, solution logic, views, and forms.</span></span>

<span data-ttu-id="648bf-107">Integracja ta obsługuje tworzenie zamówień zakupu, a w większości przypadków aktualizacje z obu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="648bf-107">This integration supports purchase order creation and, in most cases, updates from both apps.</span></span> <span data-ttu-id="648bf-108">Aplikacja Supply Chain Management kontroluje natomiast ceny, adresy i przyjęcia produktów.</span><span class="sxs-lookup"><span data-stu-id="648bf-108">However, Supply Chain Management controls pricing, addresses, and product receipt.</span></span> <span data-ttu-id="648bf-109">Kilka rozbudowanych przypadków użycia obejmujących wiele funkcji jest włączonych dla organizacji, które korzystają z aplikacji Field Service i Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-109">Several powerful cross-functional use cases are enabled for organizations that use both Field Service and Supply Chain Management.</span></span> <span data-ttu-id="648bf-110">Umożliwiają one włączanie i śledzenie zaopatrzenia na obu platformach.</span><span class="sxs-lookup"><span data-stu-id="648bf-110">These use cases enable procurements to be initiated and tracked across both systems.</span></span>

<span data-ttu-id="648bf-111">Na poniższej ilustracji przedstawiono tabele na obu platformach oraz sposób ich wzajemnego mapowania.</span><span class="sxs-lookup"><span data-stu-id="648bf-111">The following illustration shows the tables in both systems and how they are mapped to each other.</span></span> <span data-ttu-id="648bf-112">Zamówienia zakupu w usłudze Field Service odwołują się do wiersza *konta*, podczas gdy zamówienia zakupu w aplikacji Supply Chain Management odwołują się do wiersza *dostawcy*.</span><span class="sxs-lookup"><span data-stu-id="648bf-112">Purchase orders in Field Service reference an *account* row, whereas purchase orders in Supply Chain Management reference a *vendor* row.</span></span> <span data-ttu-id="648bf-113">Aby rozwiązać ten problem, w przypadku podwójnego zapisu odwołanie jest używane do łączenia wierszy *dostawcy* z wierszami *konta*.</span><span class="sxs-lookup"><span data-stu-id="648bf-113">To resolve the integration, dual-write uses a reference to link *vendor* rows with *account* rows.</span></span> <span data-ttu-id="648bf-114">Aby uzyskać więcej informacji, zobacz temat [Zintegrowane dane główne dostawcy](vendor-mapping.md)</span><span class="sxs-lookup"><span data-stu-id="648bf-114">For more information, see [Integrated vendor master](vendor-mapping.md).</span></span>

![Mapowania zaopatrzenia](media/scm-field-service-tables.png)

## <a name="prerequisites"></a><span data-ttu-id="648bf-116">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="648bf-116">Prerequisites</span></span>

<span data-ttu-id="648bf-117">Aby zintegrować aplikację Supply Chain Management z usługą Field Service, należy zainstalować następujące składniki:</span><span class="sxs-lookup"><span data-stu-id="648bf-117">To integrate Supply Chain Management with Field Service, you must install the following components:</span></span>

- <span data-ttu-id="648bf-118">Wersja usługi Field Service 8.8.31.60 lub nowsza w celu kompleksowej integracji zamówień zakupu</span><span class="sxs-lookup"><span data-stu-id="648bf-118">Field Service version 8.8.31.60 or later, for comprehensive purchase order integration</span></span>
- <span data-ttu-id="648bf-119">Supply Chain Management w wersji 10.0.14 lub nowszej</span><span class="sxs-lookup"><span data-stu-id="648bf-119">Supply Chain Management version 10.0.14 or later</span></span>
- <span data-ttu-id="648bf-120">Podwójny zapis, aby uruchomić rozwiązanie OneFSSCM</span><span class="sxs-lookup"><span data-stu-id="648bf-120">Dual-write, to run the OneFSSCM solution</span></span>

## <a name="installation-guidelines"></a><span data-ttu-id="648bf-121">Wytyczne dotyczące instalacji</span><span class="sxs-lookup"><span data-stu-id="648bf-121">Installation guidelines</span></span>

### <a name="prerequisites"></a><span data-ttu-id="648bf-122">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="648bf-122">Prerequisites</span></span>

- <span data-ttu-id="648bf-123">**Podwójny zapis** — aby uzyskać więcej informacji, zobacz temat [Strona główna podwójnego zapisu](dual-write-home-page.md#dual-write-setup).</span><span class="sxs-lookup"><span data-stu-id="648bf-123">**Dual-write** – For more information, see the [Dual-write home page](dual-write-home-page.md#dual-write-setup).</span></span>
- <span data-ttu-id="648bf-124">**Dynamics 365 Field Service** — aby uzyskać więcej informacji, zobacz temat [Jak zainstalować aplikację Dynamics 365 Field Service](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span><span class="sxs-lookup"><span data-stu-id="648bf-124">**Dynamics 365 Field Service** – For more information, see [How to install Dynamics 365 Field Service](https://docs.microsoft.com/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span></span>

<span data-ttu-id="648bf-125">Gdy są one włączone w usłudze Microsoft Dataverse, podwójny zapis i usługa Field Service wprowadzają kilka warstw rozwiązania rozszerzających środowisko o nowe metadane, formularze, widoki i logikę.</span><span class="sxs-lookup"><span data-stu-id="648bf-125">When they are enabled in Microsoft Dataverse, dual-write and Field Service introduce several solution layers that extend the environment with new metadata, forms, views, and logic.</span></span> <span data-ttu-id="648bf-126">Te rozwiązania można włączyć w dowolnej kolejności, chociaż instalacja jest zazwyczaj przeprowadzana w podanej tutaj kolejności:</span><span class="sxs-lookup"><span data-stu-id="648bf-126">These solutions can be enabled in any order, though you typically install in the order that is given here:</span></span>

1. <span data-ttu-id="648bf-127">**Field Service Common** — rozwiązanie Field Service Common jest instalowane, gdy w środowisku jest zainstalowana usługa Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-127">**Field Service Common** – Field Service Common is installed when Field Service is installed in the environment.</span></span>
2. <span data-ttu-id="648bf-128">**Field Service (Anchor)** — rozwiązanie Field Service (Anchor) jest instalowane, gdy w środowisku jest zainstalowana usługa Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-128">**Field Service (Anchor)** – Field Service (Anchor) is installed when Field Service is installed in the environment.</span></span> 
3. <span data-ttu-id="648bf-129">**Rozszerzona aplikacja Supply Chain Management** — rozszerzona aplikacja Supply Chain Management jest instalowana automatycznie, gdy w środowisku jest włączona funkcja podwójnego zapisu.</span><span class="sxs-lookup"><span data-stu-id="648bf-129">**Supply Chain Management Extended** – Supply Chain Management Extended is automatically installed when dual-write is enabled in an environment.</span></span> 
4. <span data-ttu-id="648bf-130">**Rozwiązanie OneFSSCM** — rozwiązanie OneFSSCM jest instalowane automatycznie przez ostatnie zainstalowane rozwiązanie (Field Service lub Supply Chain Management).</span><span class="sxs-lookup"><span data-stu-id="648bf-130">**OneFSSCM solution** – OneFSSCM is automatically installed by whichever solution (Field Service or Supply Chain Management) is installed last.</span></span>

    - <span data-ttu-id="648bf-131">Jeśli usługa Field Service jest już zainstalowana w środowisku i zostanie uaktywniona funkcja podwójnego zapisu, która instaluje rozszerzona aplikację Supply Chain Management, instalowane jest rozwiązanie OneFSSCM.</span><span class="sxs-lookup"><span data-stu-id="648bf-131">If Field Service is already installed in the environment, and you enable dual-write, which installs Supply Chain Management Extended, OneFSSCM is installed.</span></span>
    - <span data-ttu-id="648bf-132">Jeśli rozszerzona aplikacja Supply Chain Management jest już zainstalowana w środowisku i zostanie zainstalowana aplikacja Field Service, instalowane jest rozwiązanie OneFSSCM.</span><span class="sxs-lookup"><span data-stu-id="648bf-132">If Supply Chain Management Extended is already installed in the environment, and you install Field Service, OneFSSCM is installed.</span></span>

## <a name="initial-synchronization"></a><span data-ttu-id="648bf-133">Wstępna synchronizacja</span><span class="sxs-lookup"><span data-stu-id="648bf-133">Initial synchronization</span></span>

<span data-ttu-id="648bf-134">Aby utworzyć nowe zamówienia zakupu i pracować z istniejącymi zamówieniami zakupu, należy zsynchronizować dane referencyjne między aplikacją Supply Chain Management i usługą Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-134">To create new purchase orders and work with existing purchase orders, you must sync the reference data between Supply Chain Management and Dataverse.</span></span> <span data-ttu-id="648bf-135">Początkowej funkcji zapisu można użyć do wykrywania relacji tabel i znajdowania tabel, które należy włączyć dla danej mapy.</span><span class="sxs-lookup"><span data-stu-id="648bf-135">You use the initial write functionality to detect the table relationships and find the tables that you must enable for a given map.</span></span>

<span data-ttu-id="648bf-136">Należy zsynchronizować następujące tabele:</span><span class="sxs-lookup"><span data-stu-id="648bf-136">You must sync the following tables:</span></span>

- <span data-ttu-id="648bf-137">Szablony produktów</span><span class="sxs-lookup"><span data-stu-id="648bf-137">Product templates</span></span>

    <span data-ttu-id="648bf-138">Po uruchomieniu początkowego zapisu zostanie wyświetlona pełna lista wymaganych tabel.</span><span class="sxs-lookup"><span data-stu-id="648bf-138">When you run the initial write, you get a full list of the tables that are required.</span></span> <span data-ttu-id="648bf-139">Oto kilka z tych szablonów:</span><span class="sxs-lookup"><span data-stu-id="648bf-139">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="648bf-140">Wszystkie produkty</span><span class="sxs-lookup"><span data-stu-id="648bf-140">All products</span></span>
    - <span data-ttu-id="648bf-141">Zwolnione produkty (wersja 2)</span><span class="sxs-lookup"><span data-stu-id="648bf-141">Released products V2</span></span>
    - <span data-ttu-id="648bf-142">Dataverse odrębne produkty zwolnione w usłudze CDS</span><span class="sxs-lookup"><span data-stu-id="648bf-142">Dataverse released distinct products</span></span>

- <span data-ttu-id="648bf-143">Oddziały</span><span class="sxs-lookup"><span data-stu-id="648bf-143">Sites</span></span>
- <span data-ttu-id="648bf-144">Magazyny</span><span class="sxs-lookup"><span data-stu-id="648bf-144">Warehouses</span></span>
- <span data-ttu-id="648bf-145">Szablony kategorii zaopatrzenia</span><span class="sxs-lookup"><span data-stu-id="648bf-145">Procurement categories templates</span></span>

    <span data-ttu-id="648bf-146">Oto kilka z tych szablonów:</span><span class="sxs-lookup"><span data-stu-id="648bf-146">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="648bf-147">Kategorie zaopatrzenia</span><span class="sxs-lookup"><span data-stu-id="648bf-147">Procurement categories</span></span>
    - <span data-ttu-id="648bf-148">Pro</span><span class="sxs-lookup"><span data-stu-id="648bf-148">Pro</span></span>
    - <span data-ttu-id="648bf-149">Hierarchia kategorii produktów</span><span class="sxs-lookup"><span data-stu-id="648bf-149">Product category hierarchy</span></span>
    - <span data-ttu-id="648bf-150">Przypisania kategorii produktów</span><span class="sxs-lookup"><span data-stu-id="648bf-150">Product category assignments</span></span>

- <span data-ttu-id="648bf-151">Szablony dostawców, takie jak Dostawca (wersja 2)</span><span class="sxs-lookup"><span data-stu-id="648bf-151">Vendor templates, such as Vendor V2</span></span>
- <span data-ttu-id="648bf-152">Szablony osób kontaktowej, takie jak Osoby kontaktowe usługi Dataverse (wersja 2)</span><span class="sxs-lookup"><span data-stu-id="648bf-152">Contact person templates, such as Dataverse Contacts V2</span></span>
- <span data-ttu-id="648bf-153">Szablony pracowników, takie jak Pracownik</span><span class="sxs-lookup"><span data-stu-id="648bf-153">Worker templates, such as Worker</span></span>

<span data-ttu-id="648bf-154">Synchronizacja tabel zapewnia, że wszystkie dokumenty (zamówienia zakupu i dokumenty przyjęcia produktów) w aplikacji Supply Chain Management są dostępne w programie Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-154">Synchronization of the tables ensures that all documents (purchase orders and product receipts) in Supply Chain Management are available in Dataverse.</span></span>

### <a name="account-and-vendor-tables"></a><span data-ttu-id="648bf-155">Tabele Konto i Dostawca</span><span class="sxs-lookup"><span data-stu-id="648bf-155">Account and Vendor tables</span></span>

<span data-ttu-id="648bf-156">Zamówienia zakupu w usłudze Field Service śledzą dostawców przy użyciu tabeli Konto.</span><span class="sxs-lookup"><span data-stu-id="648bf-156">Purchase orders in Field Service rely on the Account table to track vendors.</span></span> <span data-ttu-id="648bf-157">Dlatego tabele Dataverse dla zamówień zakupu używają kont do śledzenia dostawców.</span><span class="sxs-lookup"><span data-stu-id="648bf-157">Therefore, the Dataverse tables for purchase orders use accounts to track vendors.</span></span> <span data-ttu-id="648bf-158">Aby uwzględnić tę kluczową różnicę, należy aktywować następujące cztery przepływy pracy, aby konta i dostawcy były zsynchronizowane:</span><span class="sxs-lookup"><span data-stu-id="648bf-158">To accommodate this key difference, the following four workflows must be activated to keep the accounts and vendors in sync:</span></span> 

- <span data-ttu-id="648bf-159">Tworzenie dostawców w tabeli kont</span><span class="sxs-lookup"><span data-stu-id="648bf-159">Create Vendors in Accounts table</span></span>
- <span data-ttu-id="648bf-160">Tworzenie dostawców w tabeli dostawców</span><span class="sxs-lookup"><span data-stu-id="648bf-160">Create Vendors in Vendors table</span></span>
- <span data-ttu-id="648bf-161">Aktualizowanie dostawców w tabeli kont</span><span class="sxs-lookup"><span data-stu-id="648bf-161">Update Vendors in Accounts table</span></span>
- <span data-ttu-id="648bf-162">Aktualizowanie dostawców w tabeli dostawców</span><span class="sxs-lookup"><span data-stu-id="648bf-162">Update Vendors in Vendors table</span></span>

<span data-ttu-id="648bf-163">Jeśli zainstalowano rozwiązanie OneCM, przepływy pracy są aktywowane automatycznie, ponieważ są zainstalowano aplikacje Field Service i Supply Chain Management Extended.</span><span class="sxs-lookup"><span data-stu-id="648bf-163">If OneFSSCM is installed, because both Field Service and Supply Chain Management Extended are installed, these workflows are automatically activated.</span></span> <span data-ttu-id="648bf-164">Jeśli usługa Field Service nie jest zainstalowana, ale chcesz zintegrować z nią tabele zamówień zakupu usługi Dataverse, należy aktywować te przepływy pracy.</span><span class="sxs-lookup"><span data-stu-id="648bf-164">If Field Service isn't installed, but you want to integrate the purchase order tables with Dataverse, you must activate these workflows.</span></span> <span data-ttu-id="648bf-165">W obu przypadkach, o ile nie rozpoczniesz się od początku, przed utworzeniem zamówień zakupu konieczne może się okazać utworzenie kont Dataverse dla wszystkich dostawców.</span><span class="sxs-lookup"><span data-stu-id="648bf-165">In both cases, unless you start from scratch, you might have to ensure that all vendors are created as accounts in Dataverse before you create purchase orders.</span></span> <span data-ttu-id="648bf-166">W przeciwnym razie mogą wystąpić błędy.</span><span class="sxs-lookup"><span data-stu-id="648bf-166">Otherwise, errors might occur.</span></span>

### <a name="initial-synchronization"></a><span data-ttu-id="648bf-167">Wstępna synchronizacja</span><span class="sxs-lookup"><span data-stu-id="648bf-167">Initial synchronization</span></span>

<span data-ttu-id="648bf-168">Gdy wszystkie warunki wstępne są spełnione, aby istniejące zamówienia zakupu i przyjęcia produktów były dostępne na obu platformach, należy wykonać wstępną synchronizację następujących szablonów:</span><span class="sxs-lookup"><span data-stu-id="648bf-168">After all the prerequisites are in place, if you want existing purchase orders and product receipts to be available in both systems, you must do an initial synchronization of the following templates:</span></span>

- <span data-ttu-id="648bf-169">Nagłówek zamówienia zakupu (wersja 2)</span><span class="sxs-lookup"><span data-stu-id="648bf-169">Purchase Order Header V2</span></span>
- <span data-ttu-id="648bf-170">Wiersz zamówienia zakupu CDS</span><span class="sxs-lookup"><span data-stu-id="648bf-170">CDS Purchase Order Line</span></span>
- <span data-ttu-id="648bf-171">Usunięcie nietrwałe wiersza zamówienia zakupu CDS</span><span class="sxs-lookup"><span data-stu-id="648bf-171">CDS Purchase Order Line soft delete</span></span>
- <span data-ttu-id="648bf-172">Przyjęcie zamówienia zakupu</span><span class="sxs-lookup"><span data-stu-id="648bf-172">Purchase Order Receipt</span></span>
- <span data-ttu-id="648bf-173">Przyjęcie zamówienia zakupu — produkt</span><span class="sxs-lookup"><span data-stu-id="648bf-173">Purchase Order Receipt Product</span></span>

## <a name="mappings-with-logic"></a><span data-ttu-id="648bf-174">Mapowania z logiką</span><span class="sxs-lookup"><span data-stu-id="648bf-174">Mappings with logic</span></span>

<span data-ttu-id="648bf-175">Integracja zaopatrzenia rozszerza mapowanie produktów o następującą logikę, aby kolumna **Typ produktu usługi Field Service** była poprawnie ustawiona w tabeli produktów w usłudze Dataverse:</span><span class="sxs-lookup"><span data-stu-id="648bf-175">The procurement integration extends the product mapping with the following logic to ensure that the **Field Service Product Type** column is correctly set in the products table in Dataverse:</span></span>

- <span data-ttu-id="648bf-176">Jeśli **typ produktu** ma wartość *Produkt*, a opcja **Grupa modeli produktów i towarów, Produkt magazynowany** ma wartość *Prawda*, pole **Typ produktu usługi Field Service** jest ustawione na *Zapasy*.</span><span class="sxs-lookup"><span data-stu-id="648bf-176">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *True*, **Field Service Product Type** is set to *Inventory*.</span></span>
- <span data-ttu-id="648bf-177">Jeśli **typ produktu** ma wartość *Produkt*, a opcja **Grupa modeli produktów i towarów, Produkt magazynowany** ma wartość *Fałsz*, pole **Typ produktu usługi Field Service** jest ustawione na *Poza zapasami*.</span><span class="sxs-lookup"><span data-stu-id="648bf-177">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *False*, **Field Service Product Type** is set to *Non-Inventory*.</span></span>
- <span data-ttu-id="648bf-178">Jeśli **typ produktu** ma wartość *Usługa*, pole **Typ produktu usługi Field Service** ma wartość *Usługa*.</span><span class="sxs-lookup"><span data-stu-id="648bf-178">If **Product Type** is set to *Service*, **Field Service Product Type** is set to *Service*.</span></span>

<span data-ttu-id="648bf-179">Ponadto usługa Dataverse zawiera logikę mapowania dostawców z ich kontami pokrewnymi.</span><span class="sxs-lookup"><span data-stu-id="648bf-179">In addition, Dataverse includes logic that maps vendors with their related accounts.</span></span> <span data-ttu-id="648bf-180">Ta logika ustawia domyślne konto dostawcy faktury.</span><span class="sxs-lookup"><span data-stu-id="648bf-180">This logic sets the default invoice vendor account.</span></span> <span data-ttu-id="648bf-181">Podczas tworzenia logika dodatku po stronie serwera ustawia domyślne konto dostawcy dla faktury na podstawie dostawcy, który jest powiązany z tym kontem.</span><span class="sxs-lookup"><span data-stu-id="648bf-181">On create, server-side plug-in logic sets the default invoice vendor account from the vendor that is related to the account.</span></span> <span data-ttu-id="648bf-182">Dostawca ma odwołanie do konta faktury, które jest używane do ustawienia tej wartości.</span><span class="sxs-lookup"><span data-stu-id="648bf-182">The vendor has a reference to the invoice account that is used to set this value.</span></span>

## <a name="supported-scenarios"></a><span data-ttu-id="648bf-183">Obsługiwane scenariusze</span><span class="sxs-lookup"><span data-stu-id="648bf-183">Supported scenarios</span></span>

- <span data-ttu-id="648bf-184">Zamówienia zakupu mogą być tworzone i aktualizowane przez użytkowników usługi Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-184">Purchase orders can be created and updated by Dataverse users.</span></span> <span data-ttu-id="648bf-185">Jednak proces i dane są kontrolowane przez aplikację Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-185">However, the process and data are controlled by Supply Chain Management.</span></span> <span data-ttu-id="648bf-186">Ograniczenia dotyczące aktualizacji kolumn zamówienia zakupu w Supply Chain Management mają zastosowanie, gdy aktualizacje pochodzą z usługi Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-186">The constraints on updates to purchase order columns in Supply Chain Management apply when updates come from Field Service.</span></span> <span data-ttu-id="648bf-187">Na przykład nie można zaktualizować zamówienia zakupu, jeśli zostało ono sfinalizowane.</span><span class="sxs-lookup"><span data-stu-id="648bf-187">For example, you can't update a purchase order if it has been finalized.</span></span> 
- <span data-ttu-id="648bf-188">Jeśli zamówienie zakupu jest kontrolowane przez zarządzanie zmianami w Supply Chain Management, użytkownik usługi Field Service może zaktualizować zamówienie zakupu tylko wtedy, gdy stan zatwierdzenia w aplikacji Supply Chain Management ma stan *Wersja robocza*.</span><span class="sxs-lookup"><span data-stu-id="648bf-188">If the purchase order is controlled by change management in Supply Chain Management, a Field Service user can update the purchase order only when the Supply Chain Management approval status is *Draft*.</span></span>
- <span data-ttu-id="648bf-189">Kilka kolumn jest zarządzanych tylko przez Supply Chain Management i nie można ich zaktualizować w usłudze Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-189">Several columns are managed only by Supply Chain Management and can't be updated in Field Service.</span></span> <span data-ttu-id="648bf-190">Aby dowiedzieć się, których kolumn nie można zaktualizować, przejrzyj tabele mapowania w produkcie.</span><span class="sxs-lookup"><span data-stu-id="648bf-190">To learn which columns can't be updated, review the mapping tables in the product.</span></span> <span data-ttu-id="648bf-191">Aby zachować prostotę rozwiązania, większość z tych kolumn jest ustawiona jako tylko do odczytu na stronach usługi Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-191">For the sake of simplicity, most of these columns are set to read-only on Dataverse pages.</span></span> 

    <span data-ttu-id="648bf-192">Na przykład kolumnami informacji o cenach zarządza aplikacja Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-192">For example, the columns for price information are managed by Supply Chain Management.</span></span> <span data-ttu-id="648bf-193">W aplikacji Supply Chain Management są zawarte umowy handlowe, z których zalet może korzystać usługa Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-193">Supply Chain Management has trade agreements that Field Service can benefit from.</span></span> <span data-ttu-id="648bf-194">Kolumny takie jak **Cena jednostkowa**, **Rabat** i **Kwota netto** pochodzą tylko z aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-194">columns such as **Unit price**, **Discount**, and **Net amount** come only from Supply Chain Management.</span></span> <span data-ttu-id="648bf-195">Aby mieć pewność, że cena jest synchronizowana z usługą Field Service, po wprowadzeniu danych zamówienia zakupu należy użyć funkcji **Synchronizuj** na stronach **Zamówienie zakupu** i **Produkt zamówienia zakupu** w usłudze Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-195">To ensure that the price is synced to Field Service, you should use the **Sync** feature on the **Purchase Order** and **Purchase Order Product** pages in Dataverse when purchase order data has been entered.</span></span> <span data-ttu-id="648bf-196">Aby uzyskać więcej informacji, zobacz temat [Synchronizowanie z danymi zaopatrzenia aplikacji Dynamics 365 Supply Chain Management na żądanie](#sync-procurement).</span><span class="sxs-lookup"><span data-stu-id="648bf-196">For more information, see [Sync with the Dynamics 365 Supply Chain Management procurement data on demand](#sync-procurement).</span></span>

- <span data-ttu-id="648bf-197">Kolumna **Sumy** jest dostępna tylko w usłudze Field Service, ponieważ w aplikacji Supply Chain Management nie ma aktualnych sum zamówienia zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-197">The **Totals** column is available only in Field Service, because there are no up-to-date totals of the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="648bf-198">Sumy w aplikacji Supply Chain Management są obliczane na podstawie wielu parametrów, które nie są dostępne w usłudze Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-198">The totals in Supply Chain Management are calculated based on multiple parameters that aren't available in Field Service.</span></span>
- <span data-ttu-id="648bf-199">Wiersze zamówienia zakupu, w których określono tylko kategorię zaopatrzenia lub jeśli określony produkt ma typ *Usługa* lub jest produktem usługi Field Service, można zainicjować tylko w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-199">Purchase order lines where only a procurement category is specified, or where the product that is specified is an item of the *Service* product type or Field Service product type, can be initiated only in Supply Chain Management.</span></span> <span data-ttu-id="648bf-200">Wiersze są następnie synchronizowane do usługi Dataverse i widoczne w usłudze Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-200">The lines are then synced to Dataverse and are visible in Field Service.</span></span>
- <span data-ttu-id="648bf-201">Jeśli zainstalowano tylko usługę Field Service, a aplikację Supply Chain Management nie, kolumna **Magazyn** jest obowiązkowa w zamówieniu zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-201">If only Field Service is installed, not Supply Chain Management, the **Warehouse** column is mandatory on the purchase order.</span></span> <span data-ttu-id="648bf-202">Jednak jeśli zostanie zainstalowana aplikacja Supply Chain Management, wymaganie to zostanie zweryfikowane, ponieważ Supply Chain Managementu możliwia tworzenie wierszy zamówień zakupu, w których nie określono magazynu w pewnych sytuacjach.</span><span class="sxs-lookup"><span data-stu-id="648bf-202">However, if Supply Chain Management is installed, this requirement is relaxed, because Supply Chain Management allows for purchase order lines where no warehouse is specified in certain situations.</span></span>
- <span data-ttu-id="648bf-203">Przyjęcia produktów (przyjęcia zamówień zakupu w usłudze Dataverse) są zarządzane przez Supply Chain Management i nie można ich utworzyć z poziomu usługi Dataverse, jeśli zainstalowano aplikację Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-203">Product receipts (purchase order receipts in Dataverse) are managed by Supply Chain Management and can't be created from Dataverse if Supply Chain Management is installed.</span></span> <span data-ttu-id="648bf-204">Przyjęcia produktów z Supply Chain Management są synchronizowane z aplikacji Supply Chain Management do usługi Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-204">The product receipts from Supply Chain Management are synced from Supply Chain Management to Dataverse.</span></span>
- <span data-ttu-id="648bf-205">Niedobór w dostawie jest dozwolony w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-205">Under-delivery is allowed in Supply Chain Management.</span></span> <span data-ttu-id="648bf-206">Rozwiązanie OneFSSCM dodaje logikę, dzięki której podczas tworzenia lub aktualizowania wiersza dokumentu przyjęcia produktów (lub przyjęcia produktu w zamówieniu zakupu w usłudze Dataverse) tworzony jest wiersz arkusza magazynowego w celu skorygowania pozostałej ilości, która jest na zamówieniu w scenariuszach niedoboru w dostawie w usłudze Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-206">The OneFSSCM solution adds logic so that, when the product receipt line (or purchase order receipt product in Dataverse) is created or updated, an inventory journal row is created in Dataverse to adjust the remaining quantity that is on order for under-delivery scenarios.</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="648bf-207">Nieobsługiwane scenariusze</span><span class="sxs-lookup"><span data-stu-id="648bf-207">Unsupported scenarios</span></span>

- <span data-ttu-id="648bf-208">Usługa Field Service uniemożliwia dodanie wierszy do anulowanych zamówień zakupu w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-208">Field Service prevents lines from being added to a canceled purchase order in Supply Chain Management.</span></span> <span data-ttu-id="648bf-209">W celu obejścia tego problemu można na przykład zmienić stan systemowy zamówienia zakupu w usłudze Field Service, a następnie dodać nowy wiersz w aplikacji Field Service lub Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-209">As a workaround, you can change the system status of the purchase order in Field Service, and then add the new line in either Field Service or Supply Chain Management.</span></span>
- <span data-ttu-id="648bf-210">Chociaż wiersze zaopatrzenia wpływają na poziomy zapasów w obu systemach, nie zapewnia to dopasowania zapasów między usługami Supply Chain Management i Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-210">Although procurement rows affect inventory levels in both systems, this integration doesn't ensure inventory alignment across Supply Chain Management and Field Service.</span></span> <span data-ttu-id="648bf-211">Aplikacje Field Service i Supply Chain Management mają inne procesy, które aktualizują poziomy zapasów.</span><span class="sxs-lookup"><span data-stu-id="648bf-211">Both Field Service and Supply Chain Management have other processes that update inventory levels.</span></span> <span data-ttu-id="648bf-212">Te procesy są poza zakresem zaopatrzenia.</span><span class="sxs-lookup"><span data-stu-id="648bf-212">Those processes are outside the scope of procurement.</span></span>

## <a name="status-management"></a><span data-ttu-id="648bf-213">Zarządzanie stanem</span><span class="sxs-lookup"><span data-stu-id="648bf-213">Status management</span></span>

<span data-ttu-id="648bf-214">Stany zamówień zakupu w usłudze Field Service różnią się od stanów w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-214">The statuses of purchase orders in Field Service differ from the statuses in Supply Chain Management.</span></span>

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a><span data-ttu-id="648bf-215">Stany produktów w zamówieniu zakupu i zamówień zakupu w usłudze Field Service</span><span class="sxs-lookup"><span data-stu-id="648bf-215">Field Service purchase order and purchase order product statuses</span></span>

| <span data-ttu-id="648bf-216">Nagłówek — stan systemowy</span><span class="sxs-lookup"><span data-stu-id="648bf-216">Header – System status</span></span> | <span data-ttu-id="648bf-217">Nagłówek — stan zatwierdzenia</span><span class="sxs-lookup"><span data-stu-id="648bf-217">Header - Approval status</span></span> | <span data-ttu-id="648bf-218">Stan pozycji</span><span class="sxs-lookup"><span data-stu-id="648bf-218">Item status</span></span> |
|---|---|---|
| <ul><li><span data-ttu-id="648bf-219">Robocza</span><span class="sxs-lookup"><span data-stu-id="648bf-219">Draft</span></span></li><li><span data-ttu-id="648bf-220">Przesłany</span><span class="sxs-lookup"><span data-stu-id="648bf-220">Submitted</span></span></li><li><span data-ttu-id="648bf-221">Anulowane</span><span class="sxs-lookup"><span data-stu-id="648bf-221">Cancelled</span></span></li><li><span data-ttu-id="648bf-222">Produkt przyjęty</span><span class="sxs-lookup"><span data-stu-id="648bf-222">Product received</span></span></li><li><span data-ttu-id="648bf-223">Zafakturowane</span><span class="sxs-lookup"><span data-stu-id="648bf-223">Billed</span></span></li></ul> | <ul><li><span data-ttu-id="648bf-224">Null</span><span class="sxs-lookup"><span data-stu-id="648bf-224">Null</span></span></li><li><span data-ttu-id="648bf-225">Zatwierdzone</span><span class="sxs-lookup"><span data-stu-id="648bf-225">Approved</span></span></li><li><span data-ttu-id="648bf-226">Odrzucona</span><span class="sxs-lookup"><span data-stu-id="648bf-226">Rejected</span></span></li></ul> | <ul><li><span data-ttu-id="648bf-227">Oczekująca</span><span class="sxs-lookup"><span data-stu-id="648bf-227">Pending</span></span></li><li><span data-ttu-id="648bf-228">Odebrane</span><span class="sxs-lookup"><span data-stu-id="648bf-228">Received</span></span></li><li><span data-ttu-id="648bf-229">Anulowane</span><span class="sxs-lookup"><span data-stu-id="648bf-229">Cancelled</span></span></li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a><span data-ttu-id="648bf-230">Stany zamówienia zakupu i wiersza zamówienia zakupu w aplikacji Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="648bf-230">Supply Chain Management purchase order and purchase order line statuses</span></span>

<span data-ttu-id="648bf-231">Stany zatwierdzenia wiersza są aktywne tylko wtedy, gdy istnieje przepływ pracy wiersza.</span><span class="sxs-lookup"><span data-stu-id="648bf-231">Line approval statuses are active only when there is a line workflow.</span></span>

| <span data-ttu-id="648bf-232">Nagłówek — stan dokumentów</span><span class="sxs-lookup"><span data-stu-id="648bf-232">Header – documents status</span></span> | <span data-ttu-id="648bf-233">Nagłówek — stan zatwierdzenia</span><span class="sxs-lookup"><span data-stu-id="648bf-233">Header - Approval status</span></span> | <span data-ttu-id="648bf-234">Stan wiersza</span><span class="sxs-lookup"><span data-stu-id="648bf-234">Line status</span></span> | <span data-ttu-id="648bf-235">Stan zatwierdzenia wiersza</span><span class="sxs-lookup"><span data-stu-id="648bf-235">Line approval status</span></span> |
|---|---|---|---|
| <ul><li><span data-ttu-id="648bf-236">Zamówienie otwarte (zamówienie zaległe)</span><span class="sxs-lookup"><span data-stu-id="648bf-236">Open Order (Back order)</span></span></li><li><span data-ttu-id="648bf-237">Odebrane</span><span class="sxs-lookup"><span data-stu-id="648bf-237">Received</span></span></li><li><span data-ttu-id="648bf-238">Zafakturowany</span><span class="sxs-lookup"><span data-stu-id="648bf-238">Invoiced</span></span></li><li><span data-ttu-id="648bf-239">Anulowane</span><span class="sxs-lookup"><span data-stu-id="648bf-239">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="648bf-240">Robocza</span><span class="sxs-lookup"><span data-stu-id="648bf-240">Draft</span></span></li><li><span data-ttu-id="648bf-241">W trakcie przeglądu</span><span class="sxs-lookup"><span data-stu-id="648bf-241">In Review</span></span></li><li><span data-ttu-id="648bf-242">Zatwierdzone</span><span class="sxs-lookup"><span data-stu-id="648bf-242">Approved</span></span></li><li><span data-ttu-id="648bf-243">Odrzucona</span><span class="sxs-lookup"><span data-stu-id="648bf-243">Rejected</span></span></li><li><span data-ttu-id="648bf-244">W trakcie przeglądu zewnętrznego</span><span class="sxs-lookup"><span data-stu-id="648bf-244">In External Review</span></span></li><li><span data-ttu-id="648bf-245">Potwierdzone</span><span class="sxs-lookup"><span data-stu-id="648bf-245">Confirmed</span></span></li><li><span data-ttu-id="648bf-246">Zakończone</span><span class="sxs-lookup"><span data-stu-id="648bf-246">Finalized</span></span></li></ul> | <ul><li><span data-ttu-id="648bf-247">Zamówienie otwarte (zamówienie zaległe)</span><span class="sxs-lookup"><span data-stu-id="648bf-247">Open Order (back order)</span></span></li><li><span data-ttu-id="648bf-248">Odebrane</span><span class="sxs-lookup"><span data-stu-id="648bf-248">Received</span></span></li><li><span data-ttu-id="648bf-249">Zafakturowany</span><span class="sxs-lookup"><span data-stu-id="648bf-249">Invoiced</span></span></li><li><span data-ttu-id="648bf-250">Anulowane</span><span class="sxs-lookup"><span data-stu-id="648bf-250">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="648bf-251">Nieprzesłane</span><span class="sxs-lookup"><span data-stu-id="648bf-251">Not Submitted</span></span></li><li><span data-ttu-id="648bf-252">W trakcie przeglądu</span><span class="sxs-lookup"><span data-stu-id="648bf-252">In Review</span></span></li><li><span data-ttu-id="648bf-253">Zatwierdzone</span><span class="sxs-lookup"><span data-stu-id="648bf-253">Approved</span></span></li><li><span data-ttu-id="648bf-254">Odrzucona</span><span class="sxs-lookup"><span data-stu-id="648bf-254">Rejected</span></span></li></ul> |

<span data-ttu-id="648bf-255">Do kolumn stanu stosowane są następujące reguły:</span><span class="sxs-lookup"><span data-stu-id="648bf-255">The following rules are applied to the status columns:</span></span>

- <span data-ttu-id="648bf-256">Nie można zaktualizować stanu w aplikacji Supply Chain Management z poziomu usługi Field Service.</span><span class="sxs-lookup"><span data-stu-id="648bf-256">The status in Supply Chain Management can't be updated from Field Service.</span></span> <span data-ttu-id="648bf-257">Jednak w niektórych przypadkach stan w usłudze Field Service zostanie zaktualizowany w momencie zmiany stanu zamówienia zakupu w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-257">However, in some cases, the status in Field Service will be updated when the purchase order status in Supply Chain Management is changed.</span></span>
- <span data-ttu-id="648bf-258">Jeśli zamówienie zakupu w Supply Chain Management podlega zarządzaniu zmianami i zmiana jest przetwarzana, stan zatwierdzenia to *Wersja robocza* lub *W trakcie przeglądu*.</span><span class="sxs-lookup"><span data-stu-id="648bf-258">If a purchase order in Supply Chain Management is under change management, and a change is being processed, the approval status is *Draft* or *In Review*.</span></span> <span data-ttu-id="648bf-259">W takim przypadku stan zatwierdzenia usługi Field Service zostanie ustawiony na wartość *Null*.</span><span class="sxs-lookup"><span data-stu-id="648bf-259">In this case, the Field Service approval status will be set to *Null*.</span></span>
- <span data-ttu-id="648bf-260">Jeśli stan zatwierdzenia zamówienia zakupu w aplikacji Supply Chain Management jest ustawiony na *Zatwierdzone*, *W trakcie przeglądu zewnętrznego*, *Potwierdzone* lub *Zakończone*, stan zatwierdzenia zamówienia zakupu w usłudze Field Service zostanie ustawiony na *Zatwierdzone*.</span><span class="sxs-lookup"><span data-stu-id="648bf-260">If the purchase order approval status in Supply Chain Management is set to *Approved*, *In External review*, *Confirmed*, or *Finalized*, the Field Service purchase order approval status will be set to *Approved*.</span></span>
- <span data-ttu-id="648bf-261">Jeśli stan zatwierdzenia zamówienia zakupu w aplikacji Supply Chain Management jest ustawiony na *Odrzucone*, stan zatwierdzenia zamówienia zakupu w usłudze Field Service zostanie ustawiony na *Odrzucone*.</span><span class="sxs-lookup"><span data-stu-id="648bf-261">If the purchase order approval status in Supply Chain Management is set to *Rejected*, the Field Service purchase order approval status will be set to *Rejected*.</span></span>
- <span data-ttu-id="648bf-262">Jeśli stan nagłówka dokumentu w aplikacji Supply Chain Management zostanie zmieniony na *Zamówienie otwarte (zamówienie zaległe)*, a stan zamówienia zakupu Field Service to *Wersja robocza* lub *Anulowane*, stan zamówienia zakupu w usłudze Field Service zostanie zmieniony na *Przesłane*.</span><span class="sxs-lookup"><span data-stu-id="648bf-262">If the document header status in Supply Chain Management is changed to *Open order (Back order)*, and the Field Service purchase order status is *Draft* or *Cancelled*, the Field Service purchase order status will be changed to *Submitted*.</span></span>
- <span data-ttu-id="648bf-263">Jeśli stan nagłówka dokumentu w aplikacji Supply Chain Management zostanie zmieniony na *Anulowane*, a w usłudze Field Service z zamówieniem zakupu nie są skojarzone żadne produkty przyjęcia zamówienia zakupu (za pośrednictwem produktów zamówienia zakupu), stan systemowy usługi Field Service jest ustawiany na *Anulowane*.</span><span class="sxs-lookup"><span data-stu-id="648bf-263">If the document header status in Supply Chain Management is changed to *Cancelled*, and no purchase order receipt products in Field Service are associated with the purchase order (via purchase order products), the Field Service system status is set to *Cancelled*.</span></span>
- <span data-ttu-id="648bf-264">Jeśli stan wiersza zamówienia zakupu w aplikacji Supply Chain Management to *Anulowano*, stan produktu zamówienia zakupu w usłudze Field Service jest ustawiany na *Anulowane*.</span><span class="sxs-lookup"><span data-stu-id="648bf-264">If purchase order line status in Supply Chain Management is *Cancelled*, the purchase order product status in Field Service is set to *Cancelled*.</span></span> <span data-ttu-id="648bf-265">Ponadto jeśli stan wiersza zamówienia zakupu w aplikacji Supply Chain Management zostanie zmieniony z *Anulowane* na *Zamówienie zaległe*, stan pozycji produktu zamówienia zakupu w usłudze Field Service zostanie ustawiony na *Oczekujące*.</span><span class="sxs-lookup"><span data-stu-id="648bf-265">In addition, if the purchase order line status in Supply Chain Management is changed from *Cancelled* to *Back Order*, the purchase order product item status in Field Service is set to *Pending*.</span></span>

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a><span data-ttu-id="648bf-266">Synchronizowanie danych zaopatrzenia w aplikacji Supply Chain Management na żądanie</span><span class="sxs-lookup"><span data-stu-id="648bf-266">Sync with the Supply Chain Management procurement data on demand</span></span>

<span data-ttu-id="648bf-267">Supply Chain Management obejmuje dane dotyczące zaopatrzenia, które obsługują umowy handlowe, rabaty i inne scenariusze oparte na procesach drugorzędnych w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-267">Supply Chain Management includes procurement data that handles trade agreements, discounts, and other scenarios that rely on secondary processes in Supply Chain Management.</span></span> <span data-ttu-id="648bf-268">Aparat zaopatrzenia używa złożonych reguł w celu określenia najlepszej ceny dla danego zamówienia zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-268">The procurement engine uses complex rules to determine the best price for a given purchase order.</span></span> <span data-ttu-id="648bf-269">W przypadku korzystania z funkcji podwójnego zapisu dane nie zawsze są przechowywane synchronicznie w obu środowiskach, zwłaszcza w scenariuszach, w których wiersz został utworzony lub zaktualizowany na podstawie usługi Dataverse, i mogą wyzwalać kolejne procesy w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-269">When you use dual-write, data isn't always kept synchronous across the two environments, especially in scenarios where the row was created or updated from Dataverse and might trigger follow-on processes in Supply Chain Management.</span></span>

## <a name="sync-the-procurement-data-from-supply-chain-management"></a><span data-ttu-id="648bf-270">Synchronizowanie danych zaopatrzenia na podstawie aplikacji Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="648bf-270">Sync the procurement data from Supply Chain Management</span></span>

1. <span data-ttu-id="648bf-271">W usłudze Dataverse przejdź do pozycji **Zapasy \> Zamówienie zakupu**.</span><span class="sxs-lookup"><span data-stu-id="648bf-271">In Dataverse, go to **Inventory \> Purchase Order**.</span></span>
2. <span data-ttu-id="648bf-272">Wybierz **Nowy**, aby utworzyć nowe zamówienie zakupu, lub wybierz wiersz dla istniejącego zamówienia zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-272">Select **New** to create a new purchase order, or select the row for an existing purchase order.</span></span>
3. <span data-ttu-id="648bf-273">Na podstawie zamówienia zakupu lub wiersza zamówienia zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-273">From the purchase order or purchase order line.</span></span>
4. <span data-ttu-id="648bf-274">W okienku akcji wybierz pozycję **Synchronizuj**.</span><span class="sxs-lookup"><span data-stu-id="648bf-274">On the Action Pane, select **Sync**.</span></span>

<span data-ttu-id="648bf-275">Wszystkie kolumny z usługi Dataverse i Field Service udostępnione w usłudze Supply Chain Management są synchronizowane.</span><span class="sxs-lookup"><span data-stu-id="648bf-275">All columns from Dataverse and Field Service that are shared by Supply Chain Management are synced.</span></span>

<span data-ttu-id="648bf-276">Poniżej przedstawiono sytuacje, w których można korzystać z funkcji **synchronizacji**:</span><span class="sxs-lookup"><span data-stu-id="648bf-276">Here are the situations where you might use the **Sync** function:</span></span>

- <span data-ttu-id="648bf-277">W przypadku wielokrotnego sukcesywnego zmieniania tego samego wiersza w usłudze Dataverse należy uruchomić funkcję **Synchronizuj**.</span><span class="sxs-lookup"><span data-stu-id="648bf-277">If you make multiple successive changes to the same row from Dataverse, run the **Sync** function.</span></span>
- <span data-ttu-id="648bf-278">Jeśli nie masz pewności, czy zmiana może stanowić drugą sukcesywną zmianę w usłudze Dataverse, uruchomienie funkcji **Synchronizuj** może mieć sens.</span><span class="sxs-lookup"><span data-stu-id="648bf-278">If you aren't sure whether a change might be the second successive change from Dataverse, it might make sense to run the **Sync** function.</span></span>
- <span data-ttu-id="648bf-279">Jeśli zostanie wyświetlony komunikat o błędzie aktualizacji wartości z aplikacji Supply Chain Management, należy uruchomić funkcję **synchronizacji**, a następnie ponowić próbę aktualizacji w programie Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-279">If you receive an error message about updating a value from Supply Chain Management, run the **Sync** function, and then retry the update in Dataverse.</span></span>

## <a name="cancelling-the-posting-process"></a><span data-ttu-id="648bf-280">Anulowanie procesu księgowania</span><span class="sxs-lookup"><span data-stu-id="648bf-280">Cancelling the posting process</span></span>

<span data-ttu-id="648bf-281">Jeśli proces księgowania dokumentu przyjęcia produktów został anulowany podczas przetwarzania, system podwójnego zapisu może utworzyć wiersz dokumentu przyjęcia produktów w tym wierszu w usłudze Dataverse, ale nie może utworzyć wiersza dokumentu przyjęcia produktów w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-281">If the product receipt posting process is cancelled during processing, then dual-write might create a product receipt row in Dataverse, but not create a product receipt row in Supply Chain Management.</span></span> <span data-ttu-id="648bf-282">Taka sytuacja ma miejsce, ponieważ podwójny zapis nie obsługuje transakcji rozproszonych.</span><span class="sxs-lookup"><span data-stu-id="648bf-282">This situation happens because dual-write does not support distributed transactions.</span></span>

## <a name="templates"></a><span data-ttu-id="648bf-283">Szablony</span><span class="sxs-lookup"><span data-stu-id="648bf-283">Templates</span></span>

<span data-ttu-id="648bf-284">Do integracji dokumentów związanych z zaopatrzeniem służą następujące szablony.</span><span class="sxs-lookup"><span data-stu-id="648bf-284">The following templates are available for the integration of procurement-related documents.</span></span>

| <span data-ttu-id="648bf-285">Zarządzanie łańcuchem dostaw</span><span class="sxs-lookup"><span data-stu-id="648bf-285">Supply Chain Management</span></span> | <span data-ttu-id="648bf-286">Field Service</span><span class="sxs-lookup"><span data-stu-id="648bf-286">Field Service</span></span> | <span data-ttu-id="648bf-287">opis</span><span class="sxs-lookup"><span data-stu-id="648bf-287">Description</span></span> |
|---|---|---|
| <span data-ttu-id="648bf-288">Nagłówek zamówienia zakupu (wersja 2)</span><span class="sxs-lookup"><span data-stu-id="648bf-288">Purchase order header V2</span></span> | <span data-ttu-id="648bf-289">msdyn\_Purchaseorders</span><span class="sxs-lookup"><span data-stu-id="648bf-289">msdyn\_Purchaseorders</span></span> | <span data-ttu-id="648bf-290">Ta tabela zawiera kolumny reprezentujące nagłówek zamówienia zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-290">This table contains the columns that represent the purchase order header.</span></span> |
| <span data-ttu-id="648bf-291">Jednostka wiersza zamówienia zakupu</span><span class="sxs-lookup"><span data-stu-id="648bf-291">Purchase order line entity</span></span> | <span data-ttu-id="648bf-292">msdyn\_PurchaseOrderProducts</span><span class="sxs-lookup"><span data-stu-id="648bf-292">msdyn\_PurchaseOrderProducts</span></span> | <span data-ttu-id="648bf-293">Ta tabela zawiera wiersze reprezentujące wiersze w zamówieniu zakupu.</span><span class="sxs-lookup"><span data-stu-id="648bf-293">This table contains the rows that represent lines on a purchase order.</span></span> <span data-ttu-id="648bf-294">Numer produktu jest używany podczas synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="648bf-294">The product number is used for synchronization.</span></span> <span data-ttu-id="648bf-295">Identyfikuje produkt jako jednostkę magazynową (SKU), w tym wymiary produktu.</span><span class="sxs-lookup"><span data-stu-id="648bf-295">This identifies the product as a stock keeping unit (SKU), including product dimensions.</span></span> <span data-ttu-id="648bf-296">Aby uzyskać więcej informacji na temat integracji produktów z usługą Dataverse, zobacz temat [Ujednolicone działanie produktu](product-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="648bf-296">For more information about product integration with Dataverse, see [Unified product experience](product-mapping.md).</span></span> |
| <span data-ttu-id="648bf-297">Nagłówek dokumentu przyjęcia produktów</span><span class="sxs-lookup"><span data-stu-id="648bf-297">Product receipt header</span></span> | <span data-ttu-id="648bf-298">msdyn\_purchaseorderreceipts</span><span class="sxs-lookup"><span data-stu-id="648bf-298">msdyn\_purchaseorderreceipts</span></span> | <span data-ttu-id="648bf-299">Ta tabela zawiera nagłówki dokumentów przyjęcia produktów, które są tworzone po zaksięgowaniu dokumentu przyjęcia produktów w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-299">This table contains the product receipt headers that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="648bf-300">Wiersz dokumentu przyjęcia produktów</span><span class="sxs-lookup"><span data-stu-id="648bf-300">Product receipt line</span></span> | <span data-ttu-id="648bf-301">msdyn\_purchaseorderreceiptproducts</span><span class="sxs-lookup"><span data-stu-id="648bf-301">msdyn\_purchaseorderreceiptproducts</span></span> | <span data-ttu-id="648bf-302">Ta tabela zawiera wiersze dokumentów przyjęcia produktów, które są tworzone po zaksięgowaniu dokumentu przyjęcia produktów w aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-302">This table contains the product receipt lines that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| <span data-ttu-id="648bf-303">Jednostka usuniętego nietrwale wiersza zamówienia zakupu</span><span class="sxs-lookup"><span data-stu-id="648bf-303">Purchase order line soft deleted entity</span></span> | <span data-ttu-id="648bf-304">msdyn\_purchaseorderproducts</span><span class="sxs-lookup"><span data-stu-id="648bf-304">msdyn\_purchaseorderproducts</span></span> | <span data-ttu-id="648bf-305">Ta tabela zawiera informacje o wierszach zamówienia zakupu, które są usuwane nietrwale.</span><span class="sxs-lookup"><span data-stu-id="648bf-305">This table contains information about purchase order lines that are soft-deleted.</span></span> <span data-ttu-id="648bf-306">Wiersz zamówienia zakupu w aplikacji Supply Chain Management można usunąć nietrwale tylko wtedy, gdy zamówienie zakupu zostało potwierdzone lub zatwierdzone w przypadku włączenia zarządzania zmianami.</span><span class="sxs-lookup"><span data-stu-id="648bf-306">A purchase order line in Supply Chain Management can be soft-deleted only when the purchase order has been confirmed or approved, if change management is turned on.</span></span> <span data-ttu-id="648bf-307">Wiersz istnieje w bazie danych Supply Chain Management i jest oznaczony jako **IsDeleted**.</span><span class="sxs-lookup"><span data-stu-id="648bf-307">The row exists in the Supply Chain Management database and is marked as **IsDeleted**.</span></span> <span data-ttu-id="648bf-308">Ponieważ usługa Dataverse nie ma koncepcji usuwania nietrwałego, bardzo ważne jest, aby te informacje zostały zsynchronizowane z usługą Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-308">Because Dataverse doesn't have a concept of soft-deletion, it's important that this information be synced to Dataverse.</span></span> <span data-ttu-id="648bf-309">W ten sposób wiersze, które są usuwane nietrwale w aplikacji Supply Chain Management, mogą być automatycznie usuwane z usługi Dataverse.</span><span class="sxs-lookup"><span data-stu-id="648bf-309">In this way, lines that are soft-deleted in Supply Chain Management can automatically be deleted from Dataverse.</span></span> <span data-ttu-id="648bf-310">W tym przypadku logika usuwania wiersza w usłudze Dataverse jest zlokalizowana w rozszerzonej aplikacji Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="648bf-310">In this case, the logic for deleting a line in Dataverse is located in Supply Chain Management Extended.</span></span> |

[!include [banner](../../includes/dual-write-symbols.md)]

[!include [Currency](includes/productreceiptheader-msdyn-purchaseorderreceipts.md)]

[!include [Currency](includes/productreceiptline-msdyn-purchaseorderreceiptproducts.md)]

[!include [Currency](includes/purchaseorderheadersv2-msdyn-purchaseorders.md)]

[!include [Currency](includes/purchaseorderlinesoftdeletedtable-msdyn-purchaseorderproducts.md)]

[!include [Currency](includes/purchaseorderlinetable-msdyn-purchaseorderproducts.md)]


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]