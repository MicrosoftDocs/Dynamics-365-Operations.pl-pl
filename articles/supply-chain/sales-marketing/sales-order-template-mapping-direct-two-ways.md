---
title: Synchronizowanie zamówień sprzedaży w rozwiązaniu Sales bezpośrednio z elementami w rozwiązaniu Supply Chain Management
description: Temat zawiera omówienie szablonów i podstawowych zadań, które są używane do rozpoczynania synchronizacji zamówień sprzedaży między programami Dynamics 365 Sales i Dynamics 365 Supply Chain Management.
author: ChristianRytt
manager: tfehr
ms.date: 05/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: d30ead63bfba5dc198bd46dfaffe444dde723baa
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/15/2021
ms.locfileid: "5261028"
---
# <a name="synchronization-of-sales-orders-directly-between-sales-and-supply-chain-management"></a><span data-ttu-id="d7828-103">Synchronizowanie zamówień sprzedaży w rozwiązaniu Sales bezpośrednio z elementami w rozwiązaniu Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="d7828-103">Synchronization of sales orders directly between Sales and Supply Chain Management</span></span>

[!include [banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="d7828-104">Temat zawiera omówienie szablonów i podstawowych zadań, które są używane do rozpoczynania synchronizacji zamówień sprzedaży między programami Dynamics 365 Sales i Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-104">The topic discusses the templates and underlying tasks that are used to run synchronization of sales orders directly between Dynamics 365 Sales and Dynamics 365 Supply Chain Management.</span></span>

## <a name="data-flow-in-prospect-to-cash"></a><span data-ttu-id="d7828-105">Przepływ danych w rozwiązaniu Prospekt na gotówkę</span><span class="sxs-lookup"><span data-stu-id="d7828-105">Data flow in Prospect to cash</span></span>

<span data-ttu-id="d7828-106">Rozwiązanie Prospekt na gotówkę korzysta z funkcji Integracji danych do synchronizacji danych między wystąpieniami Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-106">The Prospect to cash solution uses the Data integration feature to synchronize data across instances of Supply Chain Management and Sales.</span></span> <span data-ttu-id="d7828-107">Szablony Prospekt na gotówkę, które są dostępne w funkcji integracji danych umożliwiają przepływ danych o kontach, kontaktach, produktach, ofertach sprzedaży, zamówieniach sprzedaży i fakturach sprzedaży między usługą Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-107">The Prospect to cash templates that are available with the Data integration feature enable the flow of data for accounts, contacts, products, sales quotations, sales orders, and sales invoices between Supply Chain Management and Sales.</span></span> <span data-ttu-id="d7828-108">Poniższa ilustracja przedstawia sposób synchronizacji danych między usługą Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-108">The following illustration shows how the data is synchronized between Supply Chain Management and Sales.</span></span>

<span data-ttu-id="d7828-109">[![Przepływ danych w rozwiązaniu Prospekt na gotówkę](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span><span class="sxs-lookup"><span data-stu-id="d7828-109">[![Data flow in Prospect to cash](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="d7828-110">Szablony i zadania</span><span class="sxs-lookup"><span data-stu-id="d7828-110">Templates and tasks</span></span>

<span data-ttu-id="d7828-111">Aby wyświetlić dostępne szablony, otwórz [Centrum administracyjne usługi Power Apps](https://preview.admin.powerapps.com/dataintegration).</span><span class="sxs-lookup"><span data-stu-id="d7828-111">To access the available templates, open [Power Apps Admin Center](https://preview.admin.powerapps.com/dataintegration).</span></span> <span data-ttu-id="d7828-112">Wybierz opcję **Projekty**, a następnie w prawym górnym rogu wybierz opcję **Nowy projekt**, aby wybrać szablony publiczne.</span><span class="sxs-lookup"><span data-stu-id="d7828-112">Select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="d7828-113">Następujące szablony i podstawowe zadania są używane do rozpoczynania synchronizacji zamówień sprzedaży bezpośrednio między programami Sales oraz Supply Chain Management:</span><span class="sxs-lookup"><span data-stu-id="d7828-113">The following templates and underlying tasks are used to run synchronization of sales orders directly between Sales and Supply Chain Management.</span></span>

- <span data-ttu-id="d7828-114">**Nazwy szablonów w integracji danych:**</span><span class="sxs-lookup"><span data-stu-id="d7828-114">**Names of the templates in Data integration:**</span></span> 

    - <span data-ttu-id="d7828-115">Zlecenia sprzedaży (Sales do Supply Chain Management) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="d7828-115">Sales Orders (Sales to Supply Chain Management) - Direct</span></span>
    - <span data-ttu-id="d7828-116">Zlecenia sprzedaży (Supply Chain Management do Sales) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="d7828-116">Sales Orders (Supply Chain Management to Sales) - Direct</span></span>

- <span data-ttu-id="d7828-117">**Nazwy zadań w projekcie integracji danych:**</span><span class="sxs-lookup"><span data-stu-id="d7828-117">**Names of the tasks in the Data integration project:**</span></span>

    - <span data-ttu-id="d7828-118">OrderHeader</span><span class="sxs-lookup"><span data-stu-id="d7828-118">OrderHeader</span></span>
    - <span data-ttu-id="d7828-119">OrderLine</span><span class="sxs-lookup"><span data-stu-id="d7828-119">OrderLine</span></span>

<span data-ttu-id="d7828-120">Następujące zadania synchronizacji są wymagane, zanim będzie można zsynchronizować nagłówki i wiersze faktur sprzedaży:</span><span class="sxs-lookup"><span data-stu-id="d7828-120">The following synchronization tasks are required before synchronization of sales invoice headers and lines can occur:</span></span>

- <span data-ttu-id="d7828-121">Produkty (Supply Chain Management do Sales) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="d7828-121">Products (Supply Chain Management to Sales) - Direct</span></span>
- <span data-ttu-id="d7828-122">Konta (Sales do Supply Chain Management) — bezpośrednie (jeśli używane)</span><span class="sxs-lookup"><span data-stu-id="d7828-122">Accounts (Sales to Supply Chain Management) - Direct (if used)</span></span>
- <span data-ttu-id="d7828-123">Kontakty do Odbiorcy (Sales do Supply Chain Management) — bezpośrednie (jeśli używane)</span><span class="sxs-lookup"><span data-stu-id="d7828-123">Contacts to Customers (Sales to Supply Chain Management) - Direct (if used)</span></span>

## <a name="entity-set"></a><span data-ttu-id="d7828-124">Zestaw jednostek</span><span class="sxs-lookup"><span data-stu-id="d7828-124">Entity set</span></span>

| <span data-ttu-id="d7828-125">Zarządzanie łańcuchem dostaw</span><span class="sxs-lookup"><span data-stu-id="d7828-125">Supply Chain Management</span></span>  | <span data-ttu-id="d7828-126">Sprzedaż</span><span class="sxs-lookup"><span data-stu-id="d7828-126">Sales</span></span>             |
|-------------------------|-------------------|
| <span data-ttu-id="d7828-127">Nagłówki zamówienia sprzedaży w usłudze Dataverse</span><span class="sxs-lookup"><span data-stu-id="d7828-127">Dataverse sales order headers</span></span> | <span data-ttu-id="d7828-128">SalesOrders</span><span class="sxs-lookup"><span data-stu-id="d7828-128">SalesOrders</span></span>       |
| <span data-ttu-id="d7828-129">Wiersze zamówienia sprzedaży w usłudze Dataverse</span><span class="sxs-lookup"><span data-stu-id="d7828-129">Dataverse sales order lines</span></span>   | <span data-ttu-id="d7828-130">SalesOrderDetails</span><span class="sxs-lookup"><span data-stu-id="d7828-130">SalesOrderDetails</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="d7828-131">Przepływ jednostek</span><span class="sxs-lookup"><span data-stu-id="d7828-131">Entity flow</span></span>

<span data-ttu-id="d7828-132">Zamówienia sprzedaży są tworzone w rozwiązaniu Sales i synchronizowane z rozwiązaniem Supply Chain Management po uruchomieniu polecenia **Uruchom projekt** dla projektu na podstawie szablonu **Zamówienia sprzedaży (z Sales do Supply Chain Management) — bezpośrednie**.</span><span class="sxs-lookup"><span data-stu-id="d7828-132">Sales orders are created in Sales and synchronized to Supply Chain Management when **Run project** is triggered for a project based on the **Sales Orders (Sales to Supply Chain Management) - Direct** template.</span></span> <span data-ttu-id="d7828-133">Zamówienia sprzedaży można uaktywnić i zsynchronizować z rozwiązania Sales tylko jeżeli opcja **Zamawianie produktów** zawiera wyłącznie produkty obsługiwane zewnętrznie.</span><span class="sxs-lookup"><span data-stu-id="d7828-133">You can only activate and synchronize orders from Sales if all **Order Products** consist of products that are externally maintained.</span></span> <span data-ttu-id="d7828-134">Dlatego nie mogą występować produkty dopisane.</span><span class="sxs-lookup"><span data-stu-id="d7828-134">Therefore, there can be no write-in products.</span></span> <span data-ttu-id="d7828-135">Po uaktywnieniu zamówienia zamówienie sprzedaży zmienia się na tylko do odczytu w interfejsie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d7828-135">After the order is activated, the sales order becomes read-only in the user interface (UI).</span></span> <span data-ttu-id="d7828-136">W tym momencie aktualizacje są dokonywane z rozwiązania Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-136">At that point, the updates are made from Supply Chain Management.</span></span> <span data-ttu-id="d7828-137">Gdy zamówienie sprzedaży uzyska stan **Potwierdzone**, można użyć projektu opartego na szablonie **Zamówienia sprzedaży (z Supply Chain Management do Sales) — bezpośrednie** do synchronizowania wszystkich aktualizacji lub stanu realizacji z rozwiązania Supply Chain Management do rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-137">After the sales order has a status of **Confirmed**, the a project based on the **Sales Orders (Supply Chain Management to Sales) - Direct** template can be used to synchronize updates or fulfillment status from Supply Chain Management to Sales.</span></span>

<span data-ttu-id="d7828-138">Nie trzeba tworzyć zamówień w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-138">You don't have to create orders in Sales.</span></span> <span data-ttu-id="d7828-139">Można utworzyć nowe zamówienia sprzedaży w rozwiązaniu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-139">You can create new sales orders in Supply Chain Management instead.</span></span> <span data-ttu-id="d7828-140">Gdy zamówienie uzyska status **Potwierdzone** jest synchronizowane z rozwiązaniem Sales zgodnie z opisem w poprzednim akapicie.</span><span class="sxs-lookup"><span data-stu-id="d7828-140">After a sales order has a status of **Confirmed**, it's synchronized to Sales as described in the previous paragraph.</span></span>

<span data-ttu-id="d7828-141">W rozwiązaniu Supply Chain Management filtry w szablonie zapewniają, że w synchronizacji uwzględniane są tylko odpowiednie zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-141">In Supply Chain Management, filters in the template help guarantee that only the relevant sales orders are included in the synchronization:</span></span>

- <span data-ttu-id="d7828-142">W zamówieniu sprzedaży klient zamawiający i fakturujący muszą pochodzić z rozwiązania Sales, aby zostali uwzględnieni w synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="d7828-142">On the sales order, both the ordering customer and the invoicing customer have to originate from Sales to be included in the synchronization.</span></span> <span data-ttu-id="d7828-143">W rozwiązaniu Supply Chain Management kolumny **OrderingCustomerIsExternallyMaintained** i **InvoiceCustomerIsExternallyMaintained** służą do filtrowania zamówień sprzedaży z tabel danych.</span><span class="sxs-lookup"><span data-stu-id="d7828-143">In Supply Chain Management, the **OrderingCustomerIsExternallyMaintained** and **InvoiceCustomerIsExternallyMaintained** columns are used to filter sales orders from the data tables.</span></span>
- <span data-ttu-id="d7828-144">Zamówienie sprzedaży w rozwiązaniu Supply Chain Management musi zostać potwierdzone.</span><span class="sxs-lookup"><span data-stu-id="d7828-144">The sales order in Supply Chain Management must be confirmed.</span></span> <span data-ttu-id="d7828-145">Z rozwiązaniem Sales są synchronizowane tylko potwierdzone zamówienia sprzedaży lub zamówienia sprzedaży o wyższym statusie przetwarzania, takim jak **Wysłano** lub **Zafakturowano**.</span><span class="sxs-lookup"><span data-stu-id="d7828-145">Only confirmed sales orders or sales orders that have a higher processing status, such as **Shipped** or **Invoiced**, are synchronized to Sales.</span></span>
- <span data-ttu-id="d7828-146">Po utworzeniu lub zmodyfikowaniu zamówienia sprzedaży należy wykonać zadanie wsadowe **Obliczanie sum sprzedaży** w rozwiązaniu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-146">After a sales order is created or modified, the **Calculate sales totals** batch job in Supply Chain Management must be run.</span></span> <span data-ttu-id="d7828-147">Z rozwiązaniem Sales zostaną synchronizowane tylko zamówienia sprzedaży, dla których obliczono sumy sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-147">Only sales orders where sales totals are calculated will be synchronized to Sales.</span></span>

## <a name="freight-tax"></a><span data-ttu-id="d7828-148">Podatek od frachtu</span><span class="sxs-lookup"><span data-stu-id="d7828-148">Freight tax</span></span>

<span data-ttu-id="d7828-149">Rozwiązanie Sales nie obsługuje podatku na poziomie nagłówka, ponieważ podatek jest przechowywany na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="d7828-149">Sales doesn't support tax at the header level, because tax is stored at the line level.</span></span> <span data-ttu-id="d7828-150">Aby obsługiwać podatek na poziomie nagłówka z rozwiązania Supply Chain Management, na przykład podatek od frachtu, system synchronizuje podatek z rozwiązaniem Sales jako produkt wpisany o nazwie **Podatek od frachtu** i zawiera on kwotę podatku z rozwiązania Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-150">To support tax at the header level from Supply Chain Management, such as tax on freight, the system synchronizes tax to Sales as a write-in product that is named **Freight Tax**, and that has the tax amount from Supply Chain Management.</span></span> <span data-ttu-id="d7828-151">Dzięki temu można użyć standardowego obliczenia ceny w rozwiązaniu Sales do określenia sum, nawet jeżeli istnieje podatek na poziomie nagłówka z rozwiązania Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-151">In this way, the standard price calculation in Sales can be used for totals, even when there is tax at the header level from Supply Chain Management.</span></span>

## <a name="discount-calculation-and-rounding"></a><span data-ttu-id="d7828-152">Obliczanie i zaokrąglanie rabatów</span><span class="sxs-lookup"><span data-stu-id="d7828-152">Discount calculation and rounding</span></span>

<span data-ttu-id="d7828-153">Model obliczania rabatu w rozwiązaniu Sales różni się od modelu obliczania rabatu w rozwiązaniu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-153">The discount calculation model in Sales differs from the discount calculation model in Supply Chain Management.</span></span> <span data-ttu-id="d7828-154">W rozwiązaniu Supply Chain Management kwota ostatecznego rabatu w wierszu sprzedaży może wynikać z połączenia kwot rabatu i procentów rabatu.</span><span class="sxs-lookup"><span data-stu-id="d7828-154">In Supply Chain Management, the final discount amount on a sales line can be the result of a combination of discount amounts and discount percentages.</span></span> <span data-ttu-id="d7828-155">Jeżeli ta kwota ostatecznego rabatu zostanie podzielona przez ilość w wierszu, może nastąpić zaokrąglenie.</span><span class="sxs-lookup"><span data-stu-id="d7828-155">If this final discount amount is divided by the quantity on the line, rounding can occur.</span></span> <span data-ttu-id="d7828-156">Jednakże to zaokrąglenie nie jest uznawane, jeżeli zaokrąglony rabat na jednostkę zostanie zsynchronizowany z rozwiązaniem Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-156">However, this rounding isn't considered if a rounded per-unit discount amount is synchronized to Sales.</span></span> <span data-ttu-id="d7828-157">Aby zapewnić, że pełna kwota rabatu z wiersza sprzedaży w rozwiązaniu Supply Chain Management zostanie prawidłowo zsynchronizowana z rozwiązaniem Sales, należy zsynchronizować pełną kwotę bez dzielenia przez ilość w wierszu.</span><span class="sxs-lookup"><span data-stu-id="d7828-157">To help guarantee that the full discount amount from a sales line in Supply Chain Management is correctly synchronized to Sales, the full amount must be synchronized without being divided by the line quantity.</span></span> <span data-ttu-id="d7828-158">Dlatego w rozwiązaniu Sales należy zdefiniować opcję **Metoda kalkulacji rabatów** jako **Pozycja w wierszu**.</span><span class="sxs-lookup"><span data-stu-id="d7828-158">Therefore, you must define the **Discount calculation method** as **Line item** in Sales.</span></span>

<span data-ttu-id="d7828-159">Po zsynchronizowaniu wiersza zamówienia sprzedaży z rozwiązania Sales do rozwiązania Supply Chain Management używana jest pełna kwota rabatu wiersza.</span><span class="sxs-lookup"><span data-stu-id="d7828-159">When a sales order line is synchronized from Sales to Supply Chain Management, the full line discount amount is used.</span></span> <span data-ttu-id="d7828-160">Ponieważ rozwiązanie Supply Chain Management nie ma pola umożliwiającego przechowywania pełnej kwoty rabatu dla wiersza, kwota jest dzielona przez ilość i przechowywana w polu **Rabat wiersza**.</span><span class="sxs-lookup"><span data-stu-id="d7828-160">Because Supply Chain Management has no field that can store the full discount amount for a line, the amount is divided by the quantity and stored in the **Line discount** field.</span></span> <span data-ttu-id="d7828-161">Każde zaokrąglenie powstałe podczas tego dzielenia jest przechowywane w polu **Opłaty od sprzedaży** w wierszu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-161">Any rounding that occurs in this division is stored in the **Sales charges** field on the sales line.</span></span>

### <a name="example"></a><span data-ttu-id="d7828-162">Przykład</span><span class="sxs-lookup"><span data-stu-id="d7828-162">Example</span></span>

<span data-ttu-id="d7828-163">**Synchronizacja z Sales do Supply Chain Management**</span><span class="sxs-lookup"><span data-stu-id="d7828-163">**Synchronization from Sales to Supply Chain Management**</span></span>

- <span data-ttu-id="d7828-164">**Sprzedaż:** Ilość = 3, rabat na wiersz = 10,00 USD</span><span class="sxs-lookup"><span data-stu-id="d7828-164">**Sales:** Quantity = 3, per-line discount = $10.00</span></span>
- <span data-ttu-id="d7828-165">**Supply Chain Management** : ilość = 3, kwota rabatu wiersza = $3.33, opłata od sprzedaży =-$0,01</span><span class="sxs-lookup"><span data-stu-id="d7828-165">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span> 

<span data-ttu-id="d7828-166">**Synchronizacja z Supply Chain Management do Sales**</span><span class="sxs-lookup"><span data-stu-id="d7828-166">**Synchronization from Supply Chain Management to Sales**</span></span>

- <span data-ttu-id="d7828-167">**Supply Chain Management** : ilość = 3, kwota rabatu wiersza = $3.33, opłata od sprzedaży =-$0,01</span><span class="sxs-lookup"><span data-stu-id="d7828-167">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span>
- <span data-ttu-id="d7828-168">**Sprzedaż:** Ilość = 3, rabat na wiersz = (3 × 3,33 USD) + 0,01 USD = 10,00 USD</span><span class="sxs-lookup"><span data-stu-id="d7828-168">**Sales:** Quantity = 3, per-line discount = (3 × $3.33) + $0.01 = $10.00</span></span>

## <a name="prospect-to-cash-solution-for-sales"></a><span data-ttu-id="d7828-169">Rozwiązanie Prospekt na gotówkę dla aplikacji Sales</span><span class="sxs-lookup"><span data-stu-id="d7828-169">Prospect to cash solution for Sales</span></span>

<span data-ttu-id="d7828-170">Nowe kolumny zostały dodane do tabeli **Zamówienie** i są wyświetlane na stronie:</span><span class="sxs-lookup"><span data-stu-id="d7828-170">New columns have been added to the **Order** table and appear on the page:</span></span>

- <span data-ttu-id="d7828-171">**Jest obsługiwane zewnętrznie**— ustaw tę opcję na **Tak**, gdy zamówienie pochodzi z programu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-171">**Is Maintained Externally** – Set this option to **Yes** when the order is coming from Supply Chain Management.</span></span>
- <span data-ttu-id="d7828-172">**Stan przetwarzania** — ta kolumna służy do wyświetlania stanu przetwarzania zamówienia w rozwiązaniu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-172">**Processing status** – This column shows the processing status of the order in Supply Chain Management.</span></span> <span data-ttu-id="d7828-173">Dostępne są następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="d7828-173">The following values are available:</span></span>

    - <span data-ttu-id="d7828-174">**Robocza** — stan początkowy po utworzeniu zamówienia w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-174">**Draft** – The initial status when an order is created in Sales.</span></span> <span data-ttu-id="d7828-175">W rozwiązaniu Sales można edytować tylko zamówienia o tym stanie przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="d7828-175">In Sales, only orders with this processing status can be edited.</span></span>
    - <span data-ttu-id="d7828-176">**Aktywna** — stan po uaktywnieniu zamówienia w rozwiązaniu Sales za pomocą przycisku **Uaktywnij**.</span><span class="sxs-lookup"><span data-stu-id="d7828-176">**Active** – The status after the order is activated in Sales by using the **Activate** button.</span></span>
    - <span data-ttu-id="d7828-177">**Potwierdzone**</span><span class="sxs-lookup"><span data-stu-id="d7828-177">**Confirmed**</span></span>
    - <span data-ttu-id="d7828-178">**Dokument dostawy**</span><span class="sxs-lookup"><span data-stu-id="d7828-178">**Packing Slip**</span></span>
    - <span data-ttu-id="d7828-179">**Zafakturowane**</span><span class="sxs-lookup"><span data-stu-id="d7828-179">**Invoiced**</span></span>
    - <span data-ttu-id="d7828-180">**Pobrane**</span><span class="sxs-lookup"><span data-stu-id="d7828-180">**Picked**</span></span>
    - <span data-ttu-id="d7828-181">**Częściowo pobrane**</span><span class="sxs-lookup"><span data-stu-id="d7828-181">**Partially Picked**</span></span>
    - <span data-ttu-id="d7828-182">**Częściowo zapakowano**</span><span class="sxs-lookup"><span data-stu-id="d7828-182">**Partially Packed**</span></span>
    - <span data-ttu-id="d7828-183">**Wysłano**</span><span class="sxs-lookup"><span data-stu-id="d7828-183">**Shipped**</span></span>
    - <span data-ttu-id="d7828-184">**Częściowo wysłane**</span><span class="sxs-lookup"><span data-stu-id="d7828-184">**Partially Shipped**</span></span>
    - <span data-ttu-id="d7828-185">**Częściowo zafakturowane**</span><span class="sxs-lookup"><span data-stu-id="d7828-185">**Partially Invoiced**</span></span>
    - <span data-ttu-id="d7828-186">**Anulowane**</span><span class="sxs-lookup"><span data-stu-id="d7828-186">**Cancelled**</span></span>

<span data-ttu-id="d7828-187">Ustawienie **Zawiera tylko zewnętrznie obsługiwane produkty** jest używane podczas aktywacji zamówienia w celu umożliwienia ciągłego śledzenia, czy zamówienie sprzedaży zawiera wyłącznie zewnętrznie obsługiwane produkty.</span><span class="sxs-lookup"><span data-stu-id="d7828-187">The **Has Externally Maintained Products Only** setting is used during order activation to consistently track whether a sales order consists entirely of externally maintained products.</span></span> <span data-ttu-id="d7828-188">Jeśli zamówienie sprzedaży zawiera tylko zewnętrznie obsługiwane produkty, są one obsługiwane w programie Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-188">If a sales order consists entirely of externally maintained products, the products are maintained in Supply Chain Management.</span></span> <span data-ttu-id="d7828-189">To ustawienie pomaga zagwarantować, że nie będziesz uaktywniać i próbować zsynchronizować wierszy zamówienia sprzedaży z produktami nieznanymi rozwiązaniu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="d7828-189">This setting helps guarantee that you don't activate and try to synchronize sales order lines that have products that are unknown to Supply Chain Management.</span></span>

<span data-ttu-id="d7828-190">W przypadku zamówień obsługiwanych zewnętrznie przyciski **Utwórz fakturę**, **Anuluj zamówienie**, **Oblicz ponownie**, **Pobierz produkty** i **Wyszukaj adres** na stronie **Zamówienie sprzedaży** są ukryte, ponieważ faktury zostaną utworzone w rozwiązaniu Supply Chain Management i zsynchronizowane z rozwiązaniem Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-190">The **Create Invoice**, **Cancel Order**, **Recalculate**, **Get Products**, and **Lookup Address** buttons on the **Sales order** page are hidden for externally maintained orders, because invoices will be created in Supply Chain Management and synchronized to Sales.</span></span> <span data-ttu-id="d7828-191">Tych zamówień nie można edytować, ponieważ informacje o zamówieniu sprzedaży zostaną zsynchronizowane z rozwiązania Supply Chain Management po uaktywnieniu.</span><span class="sxs-lookup"><span data-stu-id="d7828-191">These orders can't be edited, because sales order information will be synchronized from Supply Chain Management after activation.</span></span>

<span data-ttu-id="d7828-192">Stan zamówienia sprzedaży pozostanie **Aktywny**, aby zapewnić przepływ zmian z rozwiązania Supply Chain Management do zamówienia sprzedaży w programie Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-192">The sales order status will remain **Active** to help guarantee that changes from Supply Chain Management can flow to the sales order in Sales.</span></span> <span data-ttu-id="d7828-193">Aby kontrolować to zachowanie, ustaw wartość domyślną pola **Kod stanu \[Stan\]** na **Aktywne** w projekcie integracji danych.</span><span class="sxs-lookup"><span data-stu-id="d7828-193">To control this behavior, set the default **Statecode \[Status\]** value to **Active** in the Data integration project.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="d7828-194">Warunki wstępne i ustawienia mapowania</span><span class="sxs-lookup"><span data-stu-id="d7828-194">Preconditions and mapping setup</span></span>

<span data-ttu-id="d7828-195">Przed zsynchronizowaniem zamówień sprzedaży należy zaktualizować poniższe ustawienia w systemach.</span><span class="sxs-lookup"><span data-stu-id="d7828-195">Before you synchronize sales orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-sales"></a><span data-ttu-id="d7828-196">Konfiguracja w programie Sales</span><span class="sxs-lookup"><span data-stu-id="d7828-196">Setup in Sales</span></span>

- <span data-ttu-id="d7828-197">Upewnij się, że skonfigurowano uprawienia dla zespołu, do którego przypisany jest użytkownik z połączenia rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-197">Make sure that permissions are set up for the team that the user from your Sales connection set is assigned to.</span></span> <span data-ttu-id="d7828-198">Jeżeli korzystasz z danych demonstracyjnych, zwykle użytkownik, ale nie zespół ma dostęp w trybie administratora.</span><span class="sxs-lookup"><span data-stu-id="d7828-198">If you're using demo data, the user usually has admin access, but the team doesn't have admin access.</span></span> <span data-ttu-id="d7828-199">Jeżeli zespół nie ma dostępu w trybie administratora po uruchomieniu projektu z integracji danych, zostanie wyświetlony komunikat o błędzie z informacją o braku zespołu sprzedającego.</span><span class="sxs-lookup"><span data-stu-id="d7828-199">If the team doesn't have admin access, when you run the project from Data integration, you will receive an error message that states that the Principal team is missing.</span></span>

    <span data-ttu-id="d7828-200">Przejdź do okna **Ustawienia** &gt; **Zabezpieczenia** &gt; **Zespoły** wybierz odpowiedni zespół, wybierz opcję **Zarządzaj rolami** i wybierz rolę o odpowiednich uprawnieniach, na przykład **Administrator systemu**.</span><span class="sxs-lookup"><span data-stu-id="d7828-200">Go to **Settings** &gt; **Security** &gt; **Teams**, select the relevant team, select **Manage Roles**, and select a role that has the desired permissions, such as **System Administrator**.</span></span>

- <span data-ttu-id="d7828-201">Aby zapewnić poprawne obliczanie rabatów w aplikacjach Sales i Supply Chain Management, w ustawieniu **Metoda kalkulacji rabatów** należy zaznaczyć wartość **Pozycja w wierszu**.</span><span class="sxs-lookup"><span data-stu-id="d7828-201">To ensure correct calculation of discounts in both Sales and Supply Chain Management **Discount calculation method** must be set to **Line item**.</span></span>
- <span data-ttu-id="d7828-202">Przejdź do okna **Ustawienia** &gt; **Administracja** &gt; **Ustawienia systemu** &gt; **Sprzedaż** i sprawdź, czy używane są następujące ustawienia:</span><span class="sxs-lookup"><span data-stu-id="d7828-202">Go to **Settings** &gt; **Administration** &gt; **System settings** &gt; **Sales**, and make sure that the following settings are used:</span></span>

    - <span data-ttu-id="d7828-203">Opcja **Użyj systemowego obliczania cen** jest ustawiona na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="d7828-203">The **Use system prizing calculation system** option is set to **Yes**.</span></span>
    - <span data-ttu-id="d7828-204">Kolumna **Metoda kalkulacji rabatów** jest ustawiona na **Pozycja w wierszu**.</span><span class="sxs-lookup"><span data-stu-id="d7828-204">The **Discount calculation method** column is set to **Line item**.</span></span>

### <a name="setup-in-supply-chain-management"></a><span data-ttu-id="d7828-205">Ustawienia Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="d7828-205">Setup in Supply Chain Management</span></span>

- <span data-ttu-id="d7828-206">Przejdź do okna **Sprzedaż i marketing** &gt; **Zadania okresowe** &gt; **Obliczanie sum sprzedaży** i skonfiguruj zadanie tak, aby było uruchamiane jako zadanie wsadowe.</span><span class="sxs-lookup"><span data-stu-id="d7828-206">Go to **Sales and marketing** &gt; **Periodic tasks** &gt; **Calculate sales totals**, and set the job to run as a batch job.</span></span> <span data-ttu-id="d7828-207">Ustaw opcję **Oblicz sumy dla zamówień sprzedaży** na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="d7828-207">Set the **Calculate totals for sales orders** option to **Yes**.</span></span> <span data-ttu-id="d7828-208">Ten krok jest ważny, ponieważ z rozwiązaniem Sales zostaną synchronizowane tylko zamówienia sprzedaży, dla których obliczono sumy sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-208">This step is important, because only sales orders where sales totals are calculated will be synchronized to Sales.</span></span> <span data-ttu-id="d7828-209">Częstotliwość zadania wsadowego powinna być zgodna z częstotliwością synchronizacji zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-209">The frequency of the batch job should be aligned with the frequency of sales order synchronization.</span></span>

<span data-ttu-id="d7828-210">Jeśli używasz również integracji zlecenia, należy skonfigurować pochodzenie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-210">If you also use work order integration, you need to set up the sales origin.</span></span> <span data-ttu-id="d7828-211">Pochodzenie sprzedaży służy w programie Supply Chain Management do odróżniania zamówień sprzedaży, które zostały utworzone na podstawie zleceń pracy w programie Field Service.</span><span class="sxs-lookup"><span data-stu-id="d7828-211">The sales origin is used to distinguish sales orders in Supply Chain Management that were created from work orders in Field Service.</span></span> <span data-ttu-id="d7828-212">Jeśli zamówienie sprzedaży ma pochodzenie sprzedaży typu **Integracja zlecenia**, w nagłówku zamówienia sprzedaży znajduje się pole **Zewnętrzny stan zlecenia**.</span><span class="sxs-lookup"><span data-stu-id="d7828-212">When a sales order has a sales origin of the **Work order integration** type, the **External work order status** field appears on the sales order header.</span></span> <span data-ttu-id="d7828-213">Ponadto pochodzenie sprzedaży gwarantuje, że zamówienia sprzedaży utworzone ze zleceń pracy w programie Field Service będą odfiltrowywane podczas synchronizacji zamówień sprzedaży między aplikacjami Supply Chain Management i Field Service.</span><span class="sxs-lookup"><span data-stu-id="d7828-213">Additionally, the sales origin ensures that sales orders that were created from work orders in Field Service are filtered out during sales order synchronization from Supply Chain Management to Field Service.</span></span>

1. <span data-ttu-id="d7828-214">Wybierz kolejno opcje **Sprzedaż i marketing** \> **Ustawienia** \> **Zamówienia sprzedaży** \> **Pochodzenie sprzedaży**.</span><span class="sxs-lookup"><span data-stu-id="d7828-214">Go to **Sales and marketing** \> **Setup** \> **Sales orders** \> **Sales origin**.</span></span>
2. <span data-ttu-id="d7828-215">Wybierz opcję **Nowy**, aby utworzyć nowe pochodzenie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="d7828-215">Select **New** to create a new sales origin.</span></span>
3. <span data-ttu-id="d7828-216">W kolumnie **Pochodzenie sprzedaży** nadaj nazwę pochodzeniu sprzedaży, taką jak **SalesOrder**.</span><span class="sxs-lookup"><span data-stu-id="d7828-216">In the **Sales origin** column, enter a name for the sales origin, such as **SalesOrder**.</span></span>
4. <span data-ttu-id="d7828-217">W kolumnie **Opis** wprowadź opis, taki jak **Zamówienie sprzedaży ze Sprzedaży**.</span><span class="sxs-lookup"><span data-stu-id="d7828-217">In the **Description** column, enter a description, such as **Sales Order from Sales**.</span></span>
5. <span data-ttu-id="d7828-218">Zaznacz pole wyboru **Przypisanie typu pochodzenia**.</span><span class="sxs-lookup"><span data-stu-id="d7828-218">Select the **Origin type assignment** check box.</span></span>
6. <span data-ttu-id="d7828-219">W kolumnie **Typ pochodzenia sprzedaży** ustaw wartość **Integracja zamówienia sprzedaży**.</span><span class="sxs-lookup"><span data-stu-id="d7828-219">Set the **Sales origin type** column to **Sales order integration**.</span></span>
7. <span data-ttu-id="d7828-220">Wybierz opcję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="d7828-220">Select **Save**.</span></span>

### <a name="setup-in-the-sales-orders-sales-to-supply-chain-management---direct-data-integration-project"></a><span data-ttu-id="d7828-221">Konfiguracja w projekcie integracji Zamówienia sprzedaży (z Sales do Supply Chain Management) — projekt integracji danych bezpośrednich</span><span class="sxs-lookup"><span data-stu-id="d7828-221">Setup in the Sales Orders (Sales to Supply Chain Management) - Direct Data integration project</span></span>

- <span data-ttu-id="d7828-222">Sprawdź, czy istnieje wymagane mapowanie dla **Shipto\_country** na **DeliveryAddressCountryRegionISOCode**.</span><span class="sxs-lookup"><span data-stu-id="d7828-222">Make sure that the required mapping exists for **Shipto\_country** to **DeliveryAddressCountryRegionISOCode**.</span></span> <span data-ttu-id="d7828-223">Pustą wartość można ustawić jako domyślną w mapie wartości, aby wyeliminować konieczność wpisywania kraju dla zamówień krajowych.</span><span class="sxs-lookup"><span data-stu-id="d7828-223">You can make blank a default value in the value map to avoid having to type country for national orders.</span></span> <span data-ttu-id="d7828-224">Ustaw lewą stronę na „Puste” a prawą na odpowiedni kraj lub region.</span><span class="sxs-lookup"><span data-stu-id="d7828-224">Set the left side to 'Blank', and set the right side to the desired country or region.</span></span>

    <span data-ttu-id="d7828-225">Wartość szablonu to mapa wartości, w które zmapowanych jest kilka krajów lub regionów i gdzie wartość„Puste” = US.</span><span class="sxs-lookup"><span data-stu-id="d7828-225">The template value is a value map where several countries or regions are mapped, and where 'Blank' = US.</span></span>

### <a name="setup-in-the-sales-orders-supply-chain-management-to-sales---direct-data-integration-project"></a><span data-ttu-id="d7828-226">Konfiguracja w projekcie integracji Zamówienia sprzedaży (z Supply Chain Management do Sales) — projekt integracji danych bezpośrednich</span><span class="sxs-lookup"><span data-stu-id="d7828-226">Setup in the Sales Orders (Supply Chain Management to Sales) - Direct Data integration project</span></span>

#### <a name="salesheader-task"></a><span data-ttu-id="d7828-227">Zadanie SalesHeader</span><span class="sxs-lookup"><span data-stu-id="d7828-227">SalesHeader task</span></span>

- <span data-ttu-id="d7828-228">Cennik jest wymagany do utworzenia zamówień w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-228">A price list is required in order to create orders in Sales.</span></span> <span data-ttu-id="d7828-229">Zaktualizuj mapę wartości dla parametru **pricelevelid.name \[Nazwa cennika\]** na cennik używany w programie Sales według waluty.</span><span class="sxs-lookup"><span data-stu-id="d7828-229">Update the value map for **pricelevelid.name \[Price List Name\]** to the price list that is used in Sales per currency.</span></span> <span data-ttu-id="d7828-230">Dla jednej waluty można użyć cennika domyślnego.</span><span class="sxs-lookup"><span data-stu-id="d7828-230">You can use the default price list for a single currency.</span></span> <span data-ttu-id="d7828-231">Ponadto, jeżeli masz cenniki w kilku walutach, możesz użyć mapy wartości.</span><span class="sxs-lookup"><span data-stu-id="d7828-231">Alternatively, if you have price lists in multiple currencies, you can use a value map.</span></span>

    <span data-ttu-id="d7828-232">Wartość szablonu domyślnego dla parametru **pricelevelid.name \[Nazwa cennika\]** to **CRM Service USA (przykład)**.</span><span class="sxs-lookup"><span data-stu-id="d7828-232">The default template value for **pricelevelid.name \[Price List Name\]** is **CRM Service USA (sample)**.</span></span>

#### <a name="salesline-task"></a><span data-ttu-id="d7828-233">Zadanie SalesLine</span><span class="sxs-lookup"><span data-stu-id="d7828-233">SalesLine task</span></span>

- <span data-ttu-id="d7828-234">Upewnij się, że w rozwiązaniu Supply Chain Management istnieje wymagana mapa wartości dla pola **SalesUnitSymbol**.</span><span class="sxs-lookup"><span data-stu-id="d7828-234">Make sure that the required value map for **SalesUnitSymbol** in Supply Chain Management exists.</span></span>
- <span data-ttu-id="d7828-235">Upewnij się, że w rozwiązaniu Sales skonfigurowano wymagane jednostki.</span><span class="sxs-lookup"><span data-stu-id="d7828-235">Make sure that the required units are defined in Sales.</span></span>

    <span data-ttu-id="d7828-236">Wartość szablonu zawierająca mapę wartości jest zdefiniowana dla parametru **SalesUnitSymbol** na **oumid.name**.</span><span class="sxs-lookup"><span data-stu-id="d7828-236">A template value that has a value map is defined for **SalesUnitSymbol** to **oumid.name**.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="d7828-237">Mapowanie szablonu w integracji danych</span><span class="sxs-lookup"><span data-stu-id="d7828-237">Template mapping in Data integration</span></span>

> [!NOTE]
> <span data-ttu-id="d7828-238">Kolumny **Warunki płatności**, **Warunki frachtu**, **Warunki dostawy**, **Metoda wysyłki** i **Metoda dostawy** nie wchodzą w skład zbioru domyślnych mapowań.</span><span class="sxs-lookup"><span data-stu-id="d7828-238">The **Payment terms**, **Freight terms**, **Delivery terms**, **Shipping method**, and **Delivery mode** columns aren't part of the default mappings.</span></span> <span data-ttu-id="d7828-239">Aby zamapować te kolumny, należy skonfigurować mapowanie wartości specyficzne dla danych w organizacjach, między którymi jest synchronizowana tabela.</span><span class="sxs-lookup"><span data-stu-id="d7828-239">To map these columns, you must set up a value mapping that is specific to the data in the organizations that the table is synchronized between.</span></span>

<span data-ttu-id="d7828-240">Na poniższych ilustracjach pokazano przykładowe mapowanie szablonu w integratorze danych.</span><span class="sxs-lookup"><span data-stu-id="d7828-240">The following illustrations show an example of a template mapping in Data integration.</span></span>

> [!NOTE]
> <span data-ttu-id="d7828-241">Mapowanie pokazuje, które informacje z kolumn zostaną zsynchronizowane z rozwiązania Sales do rozwiązania Supply Chain Management lub z rozwiązania Supply Chain Management do rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="d7828-241">The mapping shows which column information will be synchronized from Sales to Supply Chain Management, or from Supply Chain Management to Sales.</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderheader"></a><span data-ttu-id="d7828-242">Zlecenia sprzedaży (Supply Chain Management do Sales) — bezpośrednie: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="d7828-242">Sales Orders (Supply Chain Management to Sales) - Direct: OrderHeader</span></span>

<span data-ttu-id="d7828-243">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span><span class="sxs-lookup"><span data-stu-id="d7828-243">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderline"></a><span data-ttu-id="d7828-244">Zlecenia sprzedaży (Supply Chain Management do Sales) — bezpośrednie: OrderLine</span><span class="sxs-lookup"><span data-stu-id="d7828-244">Sales Orders (Supply Chain Management to Sales) - Direct: OrderLine</span></span>

<span data-ttu-id="d7828-245">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span><span class="sxs-lookup"><span data-stu-id="d7828-245">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderheader"></a><span data-ttu-id="d7828-246">Zlecenia sprzedaży (Sales do Supply Chain Management) — bezpośrednie: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="d7828-246">Sales Orders (Sales to Supply Chain Management) - Direct: OrderHeader</span></span>

<span data-ttu-id="d7828-247">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span><span class="sxs-lookup"><span data-stu-id="d7828-247">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderline"></a><span data-ttu-id="d7828-248">Zlecenia sprzedaży (Sales do Supply Chain Management) — bezpośrednie: OrderLine</span><span class="sxs-lookup"><span data-stu-id="d7828-248">Sales Orders (Sales to Supply Chain Management) - Direct: OrderLine</span></span>

<span data-ttu-id="d7828-249">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span><span class="sxs-lookup"><span data-stu-id="d7828-249">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span></span>

## <a name="related-topics"></a><span data-ttu-id="d7828-250">Powiązane tematy</span><span class="sxs-lookup"><span data-stu-id="d7828-250">Related topics</span></span>

[<span data-ttu-id="d7828-251">Prospekt na gotówkę</span><span class="sxs-lookup"><span data-stu-id="d7828-251">Prospect to cash</span></span>](prospect-to-cash.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]