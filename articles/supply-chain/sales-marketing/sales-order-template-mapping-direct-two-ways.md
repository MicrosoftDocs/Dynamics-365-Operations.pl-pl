---
title: "Synchronizacja zamówień sprzedaży bezpośrednio między rozwiązaniami Sales a Finance and Operations"
description: "Temat zawiera omówienie szablonów i podstawowych zadań, które są używane do rozpoczynania synchronizacji zamówień sprzedaży między programami Microsoft Dynamics 365 for Sales i Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition."
author: ChristianRytt
manager: AnnBe
ms.date: 10/31/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: 
audience: Application User, IT Pro
ms.reviewer: yuyus
ms.search.scope: Core, Operations
ms.custom: 
ms.assetid: 
ms.search.region: global
ms.search.industry: 
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.translationtype: HT
ms.sourcegitcommit: ceea24519d641c676521771cee274feb64ca7783
ms.openlocfilehash: 19f2c5200d222b2bbff7119c2de2e2e138ca64e6
ms.contentlocale: pl-pl
ms.lasthandoff: 01/19/2018

---

# <a name="synchronization-of-sales-orders-directly-between-sales-and-finance-and-operations"></a><span data-ttu-id="797dd-103">Synchronizacja zamówień sprzedaży bezpośrednio między rozwiązaniami Sales a Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="797dd-103">Synchronization of sales orders directly between Sales and Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="797dd-104">Temat zawiera omówienie szablonów i podstawowych zadań, które są używane do rozpoczynania synchronizacji zamówień sprzedaży między programami Microsoft Dynamics 365 for Sales i Microsoft Dynamics 365 for Finance and Operations, Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="797dd-104">The topic discusses the templates and underlying tasks that are used to run synchronization of sales orders directly between Microsoft Dynamics 365 for Sales and Microsoft Dynamics 365 for Finance and Operations, Enterprise edition.</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="797dd-105">Szablony i zadania</span><span class="sxs-lookup"><span data-stu-id="797dd-105">Templates and tasks</span></span>

<span data-ttu-id="797dd-106">Aby wyświetlić dostępne szablony, otwórz [Centrum administracyjne usługi PowerApps](https://preview.admin.powerapps.com/dataintegration).</span><span class="sxs-lookup"><span data-stu-id="797dd-106">To access the available templates, open [PowerApps Admin Center](https://preview.admin.powerapps.com/dataintegration).</span></span> <span data-ttu-id="797dd-107">Wybierz opcję **Projekty**, a następnie w prawym górnym rogu wybierz opcję **Nowy projekt**, aby wybrać szablony publiczne.</span><span class="sxs-lookup"><span data-stu-id="797dd-107">Select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="797dd-108">Następujące szablony i podstawowe zadania są używane do rozpoczynania synchronizacji zamówień sprzedaży bezpośrednio między programami Sales oraz Finance and Operations:</span><span class="sxs-lookup"><span data-stu-id="797dd-108">The following templates and underlying tasks are used to run synchronization of sales orders directly between Sales and Finance and Operations:</span></span>

- <span data-ttu-id="797dd-109">**Nazwy szablonów w integracji danych:**</span><span class="sxs-lookup"><span data-stu-id="797dd-109">**Names of the templates in Data integration:**</span></span> 

    - <span data-ttu-id="797dd-110">Zamówienia sprzedaży (z Sales do Fin and Ops) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="797dd-110">Sales Orders (Sales to Fin and Ops) - Direct</span></span>
    - <span data-ttu-id="797dd-111">Zamówienia sprzedaży (z Fin and Ops do Sales) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="797dd-111">Sales Orders (Fin and Ops to Sales) - Direct</span></span>

- <span data-ttu-id="797dd-112">**Nazwy zadań w projekcie integracji danych:**</span><span class="sxs-lookup"><span data-stu-id="797dd-112">**Names of the tasks in the Data integration project:**</span></span>

    - <span data-ttu-id="797dd-113">OrderHeader</span><span class="sxs-lookup"><span data-stu-id="797dd-113">OrderHeader</span></span>
    - <span data-ttu-id="797dd-114">OrderLine</span><span class="sxs-lookup"><span data-stu-id="797dd-114">OrderLine</span></span>

<span data-ttu-id="797dd-115">Następujące zadania synchronizacji są wymagane, zanim będzie można zsynchronizować nagłówki i wiersze faktur sprzedaży:</span><span class="sxs-lookup"><span data-stu-id="797dd-115">The following synchronization tasks are required before synchronization of sales invoice headers and lines can occur:</span></span>

- <span data-ttu-id="797dd-116">Produkty (z Fin and Ops do Sales) — bezpośrednie</span><span class="sxs-lookup"><span data-stu-id="797dd-116">Products (Fin and Ops to Sales) - Direct</span></span>
- <span data-ttu-id="797dd-117">Konta (Sales do Fin and Ops) — bezpośrednie (jeśli są używane)</span><span class="sxs-lookup"><span data-stu-id="797dd-117">Accounts (Sales to Fin and Ops) - Direct (if used)</span></span>
- <span data-ttu-id="797dd-118">Kontakty z odbiorcami (z Sales do Fin and Ops) — bezpośrednie (jeśli używane)</span><span class="sxs-lookup"><span data-stu-id="797dd-118">Contacts to Customers (Sales to Fin and Ops) - Direct (if used)</span></span>

## <a name="entity-set"></a><span data-ttu-id="797dd-119">Zestaw jednostek</span><span class="sxs-lookup"><span data-stu-id="797dd-119">Entity set</span></span>

| <span data-ttu-id="797dd-120">Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="797dd-120">Finance and Operations</span></span>  | <span data-ttu-id="797dd-121">Sprzedaż</span><span class="sxs-lookup"><span data-stu-id="797dd-121">Sales</span></span>             |
|-------------------------|-------------------|
| <span data-ttu-id="797dd-122">Nagłówki zamówień sprzedaży CDS</span><span class="sxs-lookup"><span data-stu-id="797dd-122">CDS sales order headers</span></span> | <span data-ttu-id="797dd-123">SalesOrders</span><span class="sxs-lookup"><span data-stu-id="797dd-123">SalesOrders</span></span>       |
| <span data-ttu-id="797dd-124">Wiersze zamówienia sprzedaży CDS</span><span class="sxs-lookup"><span data-stu-id="797dd-124">CDS sales order lines</span></span>   | <span data-ttu-id="797dd-125">SalesOrderDetails</span><span class="sxs-lookup"><span data-stu-id="797dd-125">SalesOrderDetails</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="797dd-126">Przepływ jednostek</span><span class="sxs-lookup"><span data-stu-id="797dd-126">Entity flow</span></span>

<span data-ttu-id="797dd-127">Zamówienia sprzedaży są tworzone w rozwiązaniu Sales i synchronizowane z rozwiązaniem Finance and Operations po uruchomieniu polecenia **Uruchom projekt** dla projektu na podstawie szablonu **Zamówienia sprzedaży (z Sales do Fin and Ops) — bezpośrednie**.</span><span class="sxs-lookup"><span data-stu-id="797dd-127">Sales orders are created in Sales and synchronized to Finance and Operations when **Run project** is triggered for a project based on the **Sales Orders (Sales to Fin and Ops) - Direct** template.</span></span> <span data-ttu-id="797dd-128">Zamówienia sprzedaży można uaktywnić i zsynchronizować z rozwiązania Sales tylko jeżeli opcja **Zamawianie produktów** zawiera wyłącznie produkty obsługiwane zewnętrznie.</span><span class="sxs-lookup"><span data-stu-id="797dd-128">You can only activate and synchronize orders from Sales if all **Order Products** consist of products that are externally maintained.</span></span> <span data-ttu-id="797dd-129">Dlatego nie mogą występować produkty dopisane.</span><span class="sxs-lookup"><span data-stu-id="797dd-129">Therefore, there can be no write-in products.</span></span> <span data-ttu-id="797dd-130">Po uaktywnieniu zamówienia zamówienie sprzedaży zmienia się na tylko do odczytu w interfejsie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="797dd-130">After the order is activated, the sales order becomes read-only in the user interface (UI).</span></span> <span data-ttu-id="797dd-131">W tym momencie aktualizacje są dokonywane z rozwiązania Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-131">At that point, the updates are made from Finance and Operations.</span></span> <span data-ttu-id="797dd-132">Gdy zamówienie sprzedaży uzyska stan **Potwierdzone**, można użyć projektu opartego na szablonie **Zamówienia sprzedaży (z Fin and Ops do Sales) — bezpośrednie** do synchronizowania wszystkich aktualizacji lub stanu realizacji z rozwiązania Finance and Operations do rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-132">After the sales order has a status of **Confirmed**, the a project based on the **Sales Orders (Fin and Ops to Sales) - Direct** template can be used to synchronize updates or fulfillment status from Finance and Operations to Sales.</span></span>

<span data-ttu-id="797dd-133">Nie trzeba tworzyć zamówień w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-133">You don't have to create orders in Sales.</span></span> <span data-ttu-id="797dd-134">Można utworzyć nowe zamówienia sprzedaży w rozwiązaniu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-134">You can create new sales orders in Finance and Operations instead.</span></span> <span data-ttu-id="797dd-135">Gdy zamówienie uzyska status **Potwierdzone** jest synchronizowane z rozwiązaniem Sales zgodnie z opisem w poprzednim akapicie.</span><span class="sxs-lookup"><span data-stu-id="797dd-135">After a sales order has a status of **Confirmed**, it's synchronized to Sales as described in the previous paragraph.</span></span>

<span data-ttu-id="797dd-136">W rozwiązaniu Finance and Operations filtry w szablonie zapewniają, że w synchronizacji uwzględniane są tylko odpowiednie zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="797dd-136">In Finance and operations, filters in the template help guarantee that only the relevant sales orders are included in the synchronization:</span></span>

- <span data-ttu-id="797dd-137">W zamówieniu sprzedaży klient zamawiający i fakturujący muszą pochodzić z rozwiązania Sales, aby zostali uwzględnieni w synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="797dd-137">On the sales order, both the ordering customer and the invoicing customer have to originate from Sales to be included in the synchronization.</span></span> <span data-ttu-id="797dd-138">W rozwiązaniu Finance and Operations pola **OrderingCustomerIsExternallyMaintained** i **InvoiceCustomerIsExternallyMaintained** służą do filtrowania zamówień sprzedaży z jednostek danych.</span><span class="sxs-lookup"><span data-stu-id="797dd-138">In Finance and Operations, the **OrderingCustomerIsExternallyMaintained** and **InvoiceCustomerIsExternallyMaintained** fields are used to filter sales orders from the data entities.</span></span>
- <span data-ttu-id="797dd-139">Zamówienie sprzedaży w rozwiązaniu Finance and Operations musi zostać potwierdzone.</span><span class="sxs-lookup"><span data-stu-id="797dd-139">The sales order in Finance and Operations must be confirmed.</span></span> <span data-ttu-id="797dd-140">Z rozwiązaniem Sales są synchronizowane tylko potwierdzone zamówienia sprzedaży lub zamówienia sprzedaży o wyższym statusie przetwarzania, takim jak **Wysłano** lub **Zafakturowano**.</span><span class="sxs-lookup"><span data-stu-id="797dd-140">Only confirmed sales orders or sales orders that have a higher processing status, such as **Shipped** or **Invoiced**, are synchronized to Sales.</span></span>
- <span data-ttu-id="797dd-141">Po utworzeniu lub zmodyfikowaniu zamówienia sprzedaży należy wykonać zadanie wsadowe **Obliczanie sum sprzedaży** w rozwiązaniu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-141">After a sales order is created or modified, the **Calculate sales totals** batch job in Finance and Operations must be run.</span></span> <span data-ttu-id="797dd-142">Z rozwiązaniem Sales zostaną synchronizowane tylko zamówienia sprzedaży, dla których obliczono sumy sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="797dd-142">Only sales orders where sales totals are calculated will be synchronized to Sales.</span></span>

## <a name="freight-tax"></a><span data-ttu-id="797dd-143">Podatek od frachtu</span><span class="sxs-lookup"><span data-stu-id="797dd-143">Freight tax</span></span>

<span data-ttu-id="797dd-144">Rozwiązanie Sales nie obsługuje podatku na poziomie nagłówka, ponieważ podatek jest przechowywany na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="797dd-144">Sales doesn't support tax at the header level, because tax is stored at the line level.</span></span> <span data-ttu-id="797dd-145">Aby obsługiwać podatek na poziomie nagłówka z rozwiązania Finance and Operations, na przykład podatek od frachtu, system synchronizuje podatek z rozwiązaniem Sales jako produkt wpisany o nazwie **Podatek od frachtu** i zawiera on kwotę podatku z rozwiązania Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-145">To support tax at the header level from Finance and Operations, such as tax on freight, the system synchronizes tax to Sales as a write-in product that is named **Freight Tax**, and that has the tax amount from Finance and Operations.</span></span> <span data-ttu-id="797dd-146">Dzięki temu można użyć standardowego obliczenia ceny w rozwiązaniu Sales do określenia sum, nawet jeżeli istnieje podatek na poziomie nagłówka z rozwiązania Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-146">In this way, the standard price calculation in Sales can be used for totals, even when there is tax at the header level from Finance and Operations.</span></span>

## <a name="discount-calculation-and-rounding"></a><span data-ttu-id="797dd-147">Obliczanie i zaokrąglanie rabatów</span><span class="sxs-lookup"><span data-stu-id="797dd-147">Discount calculation and rounding</span></span>

<span data-ttu-id="797dd-148">Model obliczania rabatu w rozwiązaniu Sales różni się od modelu obliczania rabatu w rozwiązaniu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-148">The discount calculation model in Sales differs from the discount calculation model in Finance and Operations.</span></span> <span data-ttu-id="797dd-149">W rozwiązaniu Finance and Operations kwota ostatecznego rabatu w wierszu sprzedaży może wynikać z połączenia kwot rabatu i procentów rabatu.</span><span class="sxs-lookup"><span data-stu-id="797dd-149">In Finance and Operations, the final discount amount on a sales line can be the result of a combination of discount amounts and discount percentages.</span></span> <span data-ttu-id="797dd-150">Jeżeli ta kwota ostatecznego rabatu zostanie podzielona przez ilość w wierszu, może nastąpić zaokrąglenie.</span><span class="sxs-lookup"><span data-stu-id="797dd-150">If this final discount amount is divided by the quantity on the line, rounding can occur.</span></span> <span data-ttu-id="797dd-151">Jednakże to zaokrąglenie nie jest uznawane, jeżeli zaokrąglony rabat na jednostkę zostanie zsynchronizowany z rozwiązaniem Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-151">However, this rounding isn't considered if a rounded per-unit discount amount is synchronized to Sales.</span></span> <span data-ttu-id="797dd-152">Aby zapewnić, że pełna kwota rabatu z wiersza sprzedaży w rozwiązaniu Finance and Operations zostanie prawidłowo zsynchronizowana z rozwiązaniem Sales, należy zsynchronizować pełną kwotę bez dzielenia przez ilość w wierszu.</span><span class="sxs-lookup"><span data-stu-id="797dd-152">To help guarantee that the full discount amount from a sales line in Finance and Operations is correctly synchronized to Sales, the full amount must be synchronized without being divided by the line quantity.</span></span> <span data-ttu-id="797dd-153">Dlatego w rozwiązaniu Sales należy zdefiniować opcję **Metoda kalkulacji rabatów** jako **Pozycja w wierszu**.</span><span class="sxs-lookup"><span data-stu-id="797dd-153">Therefore, you must define the **Discount calculation method** as **Line item** in Sales.</span></span>

<span data-ttu-id="797dd-154">Po zsynchronizowaniu wiersza zamówienia sprzedaży z rozwiązania Sales do rozwiązania Finance and Operations używana jest pełna kwota rabatu wiersza.</span><span class="sxs-lookup"><span data-stu-id="797dd-154">When a sales order line is synchronized from Sales to Finance and Operations, the full line discount amount is used.</span></span> <span data-ttu-id="797dd-155">Ponieważ rozwiązanie Finance and Operations nie ma pola umożliwiającego przechowywania pełnej kwoty rabatu dla wiersza, kwota jest dzielona przez ilość i przechowywana w polu **Rabat wiersza**.</span><span class="sxs-lookup"><span data-stu-id="797dd-155">Because Finance and Operations has no field that can store the full discount amount for a line, the amount is divided by the quantity and stored in the **Line discount** field.</span></span> <span data-ttu-id="797dd-156">Każde zaokrąglenie powstałe podczas tego dzielenia jest przechowywane w polu **Opłaty od sprzedaży** w wierszu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="797dd-156">Any rounding that occurs in this division is stored in the **Sales charges** field on the sales line.</span></span>

### <a name="example"></a><span data-ttu-id="797dd-157">Przykład</span><span class="sxs-lookup"><span data-stu-id="797dd-157">Example</span></span>

<span data-ttu-id="797dd-158">**Synchronizacja z rozwiązania Sales do rozwiązania Finance and Operations**</span><span class="sxs-lookup"><span data-stu-id="797dd-158">**Synchronization from Sales to Finance and Operations**</span></span>

- <span data-ttu-id="797dd-159">**Sprzedaż:** Ilość = 3, rabat na wiersz = 10,00 USD</span><span class="sxs-lookup"><span data-stu-id="797dd-159">**Sales:** Quantity = 3, per-line discount = $10.00</span></span>
- <span data-ttu-id="797dd-160">**Finance and Operations:** Ilość = 3, kwota rabatu w wierszu = 3,33 USD, opłata za sprzedaż = -0,01 USD</span><span class="sxs-lookup"><span data-stu-id="797dd-160">**Finance and Operations:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span> 

<span data-ttu-id="797dd-161">**Synchronizacja z rozwiązania Finance and Operations do rozwiązania Sales**</span><span class="sxs-lookup"><span data-stu-id="797dd-161">**Synchronization from Finance and Operations to Sales**</span></span>

- <span data-ttu-id="797dd-162">**Finance and Operations:** Ilość = 3, kwota rabatu w wierszu = 3,33 USD, opłata za sprzedaż = -0,01 USD</span><span class="sxs-lookup"><span data-stu-id="797dd-162">**Finance and Operations:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span>
- <span data-ttu-id="797dd-163">**Sprzedaż:** Ilość = 3, rabat na wiersz = (3 × 3,33 USD) + 0,01 USD = 10,00 USD</span><span class="sxs-lookup"><span data-stu-id="797dd-163">**Sales:** Quantity = 3, per-line discount = (3 × $3.33) + $0.01 = $10.00</span></span>

## <a name="prospect-to-cash-solution-for-sales"></a><span data-ttu-id="797dd-164">Rozwiązanie Prospekt na gotówkę dla aplikacji Sales</span><span class="sxs-lookup"><span data-stu-id="797dd-164">Prospect to cash solution for Sales</span></span>

<span data-ttu-id="797dd-165">Nowe pola zostały dodane do jednostki **Zamówienie** i są wyświetlane na stronie:</span><span class="sxs-lookup"><span data-stu-id="797dd-165">New fields have been added to the **Order** entity and appear on the page:</span></span>

- <span data-ttu-id="797dd-166">**Jest obsługiwane zewnętrznie**— ustaw tę opcję na **Tak**, gdy zamówienie pochodzi z programu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-166">**Is Maintained Externally** – Set this option to **Yes** when the order is coming from Finance and Operations.</span></span>
- <span data-ttu-id="797dd-167">**Stan przetwarzania** — to pole służy do wyświetlania stanu przetwarzania zamówienia w rozwiązaniu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-167">**Processing status** – This field shows the processing status of the order in Finance and Operations.</span></span> <span data-ttu-id="797dd-168">Dostępne są następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="797dd-168">The following values are available:</span></span>

    - <span data-ttu-id="797dd-169">**Robocza** — stan początkowy po utworzeniu zamówienia w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-169">**Draft** – The initial status when an order is created in Sales.</span></span> <span data-ttu-id="797dd-170">W rozwiązaniu Sales można edytować tylko zamówienia o tym stanie przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="797dd-170">In Sales, only orders with this processing status can be edited.</span></span>
    - <span data-ttu-id="797dd-171">**Aktywna** — stan po uaktywnieniu zamówienia w rozwiązaniu Sales za pomocą przycisku **Uaktywnij**.</span><span class="sxs-lookup"><span data-stu-id="797dd-171">**Active** – The status after the order is activated in Sales by using the **Activate** button.</span></span>
    - <span data-ttu-id="797dd-172">**Potwierdzone**</span><span class="sxs-lookup"><span data-stu-id="797dd-172">**Confirmed**</span></span>
    - <span data-ttu-id="797dd-173">**Dokument dostawy**</span><span class="sxs-lookup"><span data-stu-id="797dd-173">**Packing Slip**</span></span>
    - <span data-ttu-id="797dd-174">**Zafakturowane**</span><span class="sxs-lookup"><span data-stu-id="797dd-174">**Invoiced**</span></span>
    - <span data-ttu-id="797dd-175">**Pobrane**</span><span class="sxs-lookup"><span data-stu-id="797dd-175">**Picked**</span></span>
    - <span data-ttu-id="797dd-176">**Częściowo pobrane**</span><span class="sxs-lookup"><span data-stu-id="797dd-176">**Partially Picked**</span></span>
    - <span data-ttu-id="797dd-177">**Częściowo zapakowano**</span><span class="sxs-lookup"><span data-stu-id="797dd-177">**Partially Packed**</span></span>
    - <span data-ttu-id="797dd-178">**Wysłano**</span><span class="sxs-lookup"><span data-stu-id="797dd-178">**Shipped**</span></span>
    - <span data-ttu-id="797dd-179">**Częściowo wysłane**</span><span class="sxs-lookup"><span data-stu-id="797dd-179">**Partially Shipped**</span></span>
    - <span data-ttu-id="797dd-180">**Częściowo zafakturowane**</span><span class="sxs-lookup"><span data-stu-id="797dd-180">**Partially Invoiced**</span></span>
    - <span data-ttu-id="797dd-181">**Anulowane**</span><span class="sxs-lookup"><span data-stu-id="797dd-181">**Cancelled**</span></span>

<span data-ttu-id="797dd-182">Ustawienie **Zawiera tylko zewnętrznie obsługiwane produkty** jest używane podczas aktywacji zamówienia w celu umożliwienia ciągłego śledzenia, czy zamówienie sprzedaży zawiera wyłącznie zewnętrznie obsługiwane produkty.</span><span class="sxs-lookup"><span data-stu-id="797dd-182">The **Has Externally Maintained Products Only** setting is used during order activation to consistently track whether a sales order consists entirely of externally maintained products.</span></span> <span data-ttu-id="797dd-183">Jeśli zamówienie sprzedaży zawiera tylko zewnętrznie obsługiwane produkty, są one obsługiwane w programie Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-183">If a sales order consists entirely of externally maintained products, the products are maintained in Finance and Operations.</span></span> <span data-ttu-id="797dd-184">To ustawienie pomaga zagwarantować, że nie będziesz uaktywniać i próbować zsynchronizować wierszy zamówienia sprzedaży z produktami nieznanymi rozwiązaniu Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="797dd-184">This setting helps guarantee that you don't activate and try to synchronize sales order lines that have products that are unknown to Finance and Operations.</span></span>

<span data-ttu-id="797dd-185">W przypadku zamówień obsługiwanych zewnętrznie przyciski **Utwórz fakturę**, **Anuluj zamówienie**, **Oblicz ponownie**, **Pobierz produkty** i **Wyszukaj adres** na stronie **Zamówienie sprzedaży** są ukryte, ponieważ faktury zostaną utworzone w rozwiązaniu Finance and Operations i zsynchronizowane z rozwiązaniem Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-185">The **Create Invoice**, **Cancel Order**, **Recalculate**, **Get Products**, and **Lookup Address** buttons on the **Sales order** page are hidden for externally maintained orders, because invoices will be created in Finance and Operations and synchronized to Sales.</span></span> <span data-ttu-id="797dd-186">Tych zamówień nie można edytować, ponieważ informacje o zamówieniu sprzedaży zostaną zsynchronizowane z rozwiązania Finance and Operations po uaktywnieniu.</span><span class="sxs-lookup"><span data-stu-id="797dd-186">These orders can't be edited, because sales order information will be synchronized from Finance and Operations after activation.</span></span>

<span data-ttu-id="797dd-187">Stan zamówienia sprzedaży pozostanie **Aktywny**, aby zapewnić przepływ zmian z rozwiązania Finance and Operations do zamówienia sprzedaży w programie Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-187">The sales order status will remain **Active** to help guarantee that changes from Finance and Operations can flow to the sales order in Sales.</span></span> <span data-ttu-id="797dd-188">Aby kontrolować to zachowanie, ustaw wartość domyślną pola **Kod stanu \[Stan\]** na **Aktywne** w projekcie integracji danych.</span><span class="sxs-lookup"><span data-stu-id="797dd-188">To control this behavior, set the default **Statecode \[Status\]** value to **Active** in the Data integration project.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="797dd-189">Warunki wstępne i ustawienia mapowania</span><span class="sxs-lookup"><span data-stu-id="797dd-189">Preconditions and mapping setup</span></span>

<span data-ttu-id="797dd-190">Przed zsynchronizowaniem zamówień sprzedaży należy zaktualizować poniższe ustawienia w systemach.</span><span class="sxs-lookup"><span data-stu-id="797dd-190">Before you synchronize sales orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-sales"></a><span data-ttu-id="797dd-191">Konfiguracja w programie Sales</span><span class="sxs-lookup"><span data-stu-id="797dd-191">Setup in Sales</span></span>

- <span data-ttu-id="797dd-192">Upewnij się, że skonfigurowano uprawienia dla zespołu, do którego przypisany jest użytkownik z połączenia rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-192">Make sure that permissions are set up for the team that the user from your Sales connection set is assigned to.</span></span> <span data-ttu-id="797dd-193">Jeżeli korzystasz z danych demonstracyjnych, zwykle użytkownik, ale nie zespół ma dostęp w trybie administratora.</span><span class="sxs-lookup"><span data-stu-id="797dd-193">If you're using demo data, the user usually has admin access, but the team doesn't have admin access.</span></span> <span data-ttu-id="797dd-194">Jeżeli zespół nie ma dostępu w trybie administratora po uruchomieniu projektu z integracji danych, zostanie wyświetlony komunikat o błędzie z informacją o braku zespołu sprzedającego.</span><span class="sxs-lookup"><span data-stu-id="797dd-194">If the team doesn't have admin access, when you run the project from Data integration, you will receive an error message that states that the Principal team is missing.</span></span>

    <span data-ttu-id="797dd-195">Przejdź do okna **Ustawienia** &gt; **Zabezpieczenia** &gt; **Zespoły** wybierz odpowiedni zespół, wybierz opcję **Zarządzaj rolami** i wybierz rolę o odpowiednich uprawnieniach, na przykład **Administrator systemu**.</span><span class="sxs-lookup"><span data-stu-id="797dd-195">Go to **Settings** &gt; **Security** &gt; **Teams**, select the relevant team, select **Manage Roles**, and select a role that has the desired permissions, such as **System Administrator**.</span></span>

- <span data-ttu-id="797dd-196">Przejdź do okna **Ustawienia** &gt; **Administracja** &gt; **Ustawienia systemu** &gt; **Sprzedaż** i sprawdź, czy używane są następujące ustawienia:</span><span class="sxs-lookup"><span data-stu-id="797dd-196">Go to **Settings** &gt; **Administration** &gt; **System settings** &gt; **Sales**, and make sure that the following settings are used:</span></span>

    - <span data-ttu-id="797dd-197">Opcja **Użyj systemowego obliczania cen** jest ustawiona na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="797dd-197">The **Use system prizing calculation system** option is set to **Yes**.</span></span>
    - <span data-ttu-id="797dd-198">Pole **Metoda kalkulacji rabatów** jest ustawione na **Pozycja w wierszu**.</span><span class="sxs-lookup"><span data-stu-id="797dd-198">The **Discount calculation method** field is set to **Line item**.</span></span>

### <a name="setup-in-finance-and-operations"></a><span data-ttu-id="797dd-199">Konfiguracja w programie Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="797dd-199">Setup in Finance and Operations</span></span>

- <span data-ttu-id="797dd-200">Przejdź do okna **Sprzedaż i marketing** &gt; **Zadania okresowe** &gt; **Obliczanie sum sprzedaży** i skonfiguruj zadanie tak, aby było uruchamiane jako zadanie wsadowe.</span><span class="sxs-lookup"><span data-stu-id="797dd-200">Go to **Sales and marketing** &gt; **Periodic tasks** &gt; **Calculate sales totals**, and set the job to run as a batch job.</span></span> <span data-ttu-id="797dd-201">Ustaw opcję **Oblicz sumy dla zamówień sprzedaży** na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="797dd-201">Set the **Calculate totals for sales orders** option to **Yes**.</span></span> <span data-ttu-id="797dd-202">Ten krok jest ważny, ponieważ z rozwiązaniem Sales zostaną synchronizowane tylko zamówienia sprzedaży, dla których obliczono sumy sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="797dd-202">This step is important, because only sales orders where sales totals are calculated will be synchronized to Sales.</span></span> <span data-ttu-id="797dd-203">Częstotliwość zadania wsadowego powinna być zgodna z częstotliwością synchronizacji zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="797dd-203">The frequency of the batch job should be aligned with the frequency of sales order synchronization.</span></span>

### <a name="setup-in-the-sales-orders-sales-to-fin-and-ops---direct-data-integration-project"></a><span data-ttu-id="797dd-204">Konfiguracja w projekcie integracji Zamówienia sprzedaży (z Sales do Fin and Ops) — projekt integracji danych bezpośrednich</span><span class="sxs-lookup"><span data-stu-id="797dd-204">Setup in the Sales Orders (Sales to Fin and Ops) - Direct Data integration project</span></span>

- <span data-ttu-id="797dd-205">Sprawdź, czy istnieje wymagane mapowanie dla **Shipto\_country** na **DeliveryAddressCountryRegionISOCode**.</span><span class="sxs-lookup"><span data-stu-id="797dd-205">Make sure that the required mapping exists for **Shipto\_country** to **DeliveryAddressCountryRegionISOCode**.</span></span> <span data-ttu-id="797dd-206">Pustą wartość można ustawić jako domyślną w mapie wartości, aby wyeliminować konieczność wpisywania kraju dla zamówień krajowych.</span><span class="sxs-lookup"><span data-stu-id="797dd-206">You can make blank a default value in the value map to avoid having to type country for national orders.</span></span> <span data-ttu-id="797dd-207">Ustaw lewą stronę na „Puste” a prawą na odpowiedni kraj lub region.</span><span class="sxs-lookup"><span data-stu-id="797dd-207">Set the left side to 'Blank', and set the right side to the desired country or region.</span></span>

    <span data-ttu-id="797dd-208">Wartość szablonu to mapa wartości, w które zmapowanych jest kilka krajów lub regionów i gdzie wartość„Puste” = US.</span><span class="sxs-lookup"><span data-stu-id="797dd-208">The template value is a value map where several countries or regions are mapped, and where 'Blank' = US.</span></span>

### <a name="setup-in-the-sales-orders-fin-and-ops-to-sales---direct-data-integration-project"></a><span data-ttu-id="797dd-209">Konfiguracja w projekcie integracji Zamówienia sprzedaży (Fin and Ops to Sales) — projekt integracji danych bezpośrednich</span><span class="sxs-lookup"><span data-stu-id="797dd-209">Setup in the Sales Orders (Fin and Ops to Sales) - Direct Data integration project</span></span>

#### <a name="salesheader-task"></a><span data-ttu-id="797dd-210">Zadanie SalesHeader</span><span class="sxs-lookup"><span data-stu-id="797dd-210">SalesHeader task</span></span>

- <span data-ttu-id="797dd-211">Cennik jest wymagany do utworzenia zamówień w rozwiązaniu Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-211">A price list is required in order to create orders in Sales.</span></span> <span data-ttu-id="797dd-212">Zaktualizuj mapę wartości dla parametru **pricelevelid.name \[Nazwa cennika\]** na cennik używany w programie Sales według waluty.</span><span class="sxs-lookup"><span data-stu-id="797dd-212">Update the value map for **pricelevelid.name \[Price List Name\]** to the price list that is used in Sales per currency.</span></span> <span data-ttu-id="797dd-213">Dla jednej waluty można użyć cennika domyślnego.</span><span class="sxs-lookup"><span data-stu-id="797dd-213">You can use the default price list for a single currency.</span></span> <span data-ttu-id="797dd-214">Ponadto, jeżeli masz cenniki w kilku walutach, możesz użyć mapy wartości.</span><span class="sxs-lookup"><span data-stu-id="797dd-214">Alternatively, if you have price lists in multiple currencies, you can use a value map.</span></span>

    <span data-ttu-id="797dd-215">Wartość szablonu domyślnego dla parametru **pricelevelid.name \[Nazwa cennika\]** to **CRM Service USA (przykład)**.</span><span class="sxs-lookup"><span data-stu-id="797dd-215">The default template value for **pricelevelid.name \[Price List Name\]** is **CRM Service USA (sample)**.</span></span>

#### <a name="salesline-task"></a><span data-ttu-id="797dd-216">Zadanie SalesLine</span><span class="sxs-lookup"><span data-stu-id="797dd-216">SalesLine task</span></span>

- <span data-ttu-id="797dd-217">Upewnij się, że w rozwiązaniu Finance and Operations istnieje wymagana mapa wartości dla pola **SalesUnitSymbol**.</span><span class="sxs-lookup"><span data-stu-id="797dd-217">Make sure that the required value map for **SalesUnitSymbol** in Finance and Operations exists.</span></span>
- <span data-ttu-id="797dd-218">Upewnij się, że w rozwiązaniu Sales skonfigurowano wymagane jednostki.</span><span class="sxs-lookup"><span data-stu-id="797dd-218">Make sure that the required units are defined in Sales.</span></span>

    <span data-ttu-id="797dd-219">Wartość szablonu zawierająca mapę wartości jest zdefiniowana dla parametru **SalesUnitSymbol** na **oumid.name**.</span><span class="sxs-lookup"><span data-stu-id="797dd-219">A template value that has a value map is defined for **SalesUnitSymbol** to **oumid.name**.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="797dd-220">Mapowanie szablonu w integracji danych</span><span class="sxs-lookup"><span data-stu-id="797dd-220">Template mapping in Data integration</span></span>

> [!NOTE]
> <span data-ttu-id="797dd-221">Pola **Warunki płatności**, **Warunki frachtu**, **Warunki dostawy**, **Metoda wysyłki** i **Metoda dostawy** nie wchodzą w skład zbioru domyślnych mapowań.</span><span class="sxs-lookup"><span data-stu-id="797dd-221">The **Payment terms**, **Freight terms**, **Delivery terms**, **Shipping method**, and **Delivery mode** fields aren't part of the default mappings.</span></span> <span data-ttu-id="797dd-222">Aby zamapować te pola, należy skonfigurować mapowanie wartości specyficzne dla danych w organizacjach, między którymi jest synchronizowana jednostka.</span><span class="sxs-lookup"><span data-stu-id="797dd-222">To map these fields, you must set up a value mapping that is specific to the data in the organizations that the entity is synchronized between.</span></span>

<span data-ttu-id="797dd-223">Na poniższych ilustracjach pokazano przykładowe mapowanie szablonu w integratorze danych.</span><span class="sxs-lookup"><span data-stu-id="797dd-223">The following illustrations show an example of a template mapping in Data integration.</span></span>

> [!NOTE]
> <span data-ttu-id="797dd-224">Mapowanie pokazuje, które informacje z pól zostaną zsynchronizowane z rozwiązania Sales do rozwiązania Finance and Operations lub z rozwiązania Finance and Operations do rozwiązania Sales.</span><span class="sxs-lookup"><span data-stu-id="797dd-224">The mapping shows which field information will be synchronized from Sales to Finance and Operations, or from Finance and Operations to Sales.</span></span>

### <a name="sales-orders-fin-and-ops-to-sales---direct-orderheader"></a><span data-ttu-id="797dd-225">Zamówienia sprzedaży (z Fin and Ops do Sales) — bezpośrednie: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="797dd-225">Sales Orders (Fin and Ops to Sales) - Direct: OrderHeader</span></span>

<span data-ttu-id="797dd-226">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span><span class="sxs-lookup"><span data-stu-id="797dd-226">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span></span>

### <a name="sales-orders-fin-and-ops-to-sales---direct-orderline"></a><span data-ttu-id="797dd-227">Zamówienia sprzedaży (z Fin and Ops do Sales) — bezpośrednie: OrderLine</span><span class="sxs-lookup"><span data-stu-id="797dd-227">Sales Orders (Fin and Ops to Sales) - Direct: OrderLine</span></span>

<span data-ttu-id="797dd-228">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span><span class="sxs-lookup"><span data-stu-id="797dd-228">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span></span>

### <a name="sales-orders-sales-to-fin-and-ops---direct-orderheader"></a><span data-ttu-id="797dd-229">Zamówienia sprzedaży (z Sales do Fin and Ops) — bezpośrednie: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="797dd-229">Sales Orders (Sales to Fin and Ops) - Direct: OrderHeader</span></span>

<span data-ttu-id="797dd-230">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span><span class="sxs-lookup"><span data-stu-id="797dd-230">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span></span>

### <a name="sales-orders-sales-to-fin-and-ops---direct-orderline"></a><span data-ttu-id="797dd-231">Zamówienia sprzedaży (z Sales do Fin and Ops) — bezpośrednie: OrderLine</span><span class="sxs-lookup"><span data-stu-id="797dd-231">Sales Orders (Sales to Fin and Ops) - Direct: OrderLine</span></span>

<span data-ttu-id="797dd-232">[![Mapowanie szablonu w integracji danych](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span><span class="sxs-lookup"><span data-stu-id="797dd-232">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span></span>

## <a name="related-topics"></a><span data-ttu-id="797dd-233">Powiązane tematy</span><span class="sxs-lookup"><span data-stu-id="797dd-233">Related topics</span></span>

[<span data-ttu-id="797dd-234">Prospekt na gotówkę</span><span class="sxs-lookup"><span data-stu-id="797dd-234">Prospect to cash</span></span>](prospect-to-cash.md)

