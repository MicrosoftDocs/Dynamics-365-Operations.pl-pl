---
title: Wyniki modeli uczenia maszynowego (wersja zapoznawcza)
description: W tym temacie omówiono matryce pomyłek, problemy z klasyfikacją i dokładność w modelach uczenia maszynowego. Celem jest zwiększenie zrozumienia dokładności w wynikach przewidywania uczenia maszynowego.
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: dcdc6d501f09b639eb0d7504e0f760a66bb3dbc7
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/15/2021
ms.locfileid: "5208540"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="45c60-104">Wyniki modeli uczenia maszynowego (wersja zapoznawcza)</span><span class="sxs-lookup"><span data-stu-id="45c60-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="45c60-105">W tym temacie omówiono matryce pomyłek, problemy z klasyfikacją i dokładność w modelach uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="45c60-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="45c60-106">Celem jest zwiększenie zrozumienia dokładności w wynikach przewidywania uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="45c60-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="45c60-107">Docelowi odbiorcy to m.in. inżynierowie, analitycy i menedżerowie, którzy chcą zdobywać wiedzę i umiejętności w dziedzinie nauki o danych.</span><span class="sxs-lookup"><span data-stu-id="45c60-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="45c60-108">Matryca pomyłek</span><span class="sxs-lookup"><span data-stu-id="45c60-108">Confusion matrix</span></span>
<span data-ttu-id="45c60-109">Po wytrenowaniu nadzorowanego problemu uczenia maszynowego na zestawie danych historycznych jest on testowany przy użyciu danych wstrzymanych z procesu trenowania.</span><span class="sxs-lookup"><span data-stu-id="45c60-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="45c60-110">W ten sposób można porównywać przewidywania z wytrenowanego modelu z rzeczywistymi wartościami.</span><span class="sxs-lookup"><span data-stu-id="45c60-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="45c60-111">Matryca pomyłek stanowi sposób oceniania skuteczności problemu z klasyfikacją, a także jego błędów (to znaczy, kiedy „myli się”).</span><span class="sxs-lookup"><span data-stu-id="45c60-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="45c60-112">Na przykład mamy przewidzieć, czy zwierzę to pies czy kot, na podstawie pewnych fizycznych i behawioralnych atrybutów.</span><span class="sxs-lookup"><span data-stu-id="45c60-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="45c60-113">Jeśli mamy zestaw danych testowych zawierający 30 psów i 20 kotów, to matryca pomyłek może wyglądać jak na poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="45c60-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Przykład przewidywania gatunków](media/species-prediction-matrix.png)

<span data-ttu-id="45c60-115">Liczby w zielonych komórkach reprezentują prawidłowe przewidywania.</span><span class="sxs-lookup"><span data-stu-id="45c60-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="45c60-116">Jak widać, model poprawnie przewiduje wyższy procent kotów.</span><span class="sxs-lookup"><span data-stu-id="45c60-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="45c60-117">Ogólna dokładność modelu jest łatwa do obliczenia.</span><span class="sxs-lookup"><span data-stu-id="45c60-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="45c60-118">W tym przypadku jest to 42 ÷ 50 lub 0,84.</span><span class="sxs-lookup"><span data-stu-id="45c60-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="45c60-119">Klasyfikatory wieloklasowe w matrycy pomyłek</span><span class="sxs-lookup"><span data-stu-id="45c60-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="45c60-120">Większość dyskusji na temat matrycy pomyłek skupia się na klasyfikatorach binarnych, tak jak w poprzednim przykładzie.</span><span class="sxs-lookup"><span data-stu-id="45c60-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="45c60-121">Tutaj jest szczególny przypadek, w którym można brać pod uwagę inne metryki, takie jak np. czułość i trafność.</span><span class="sxs-lookup"><span data-stu-id="45c60-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="45c60-122">Następnie będziemy rozważać problem z klasyfikacją na przypadku scenariusza finansowego z trzema stanami</span><span class="sxs-lookup"><span data-stu-id="45c60-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="45c60-123">Model przewiduje, czy faktura od odbiorcy będzie opłacona na czas, późno czy bardzo późno.</span><span class="sxs-lookup"><span data-stu-id="45c60-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="45c60-124">Na przykład z 100 faktur testowych, 50 jest opłaconych na czas, 35 są spóźnione, a 15 jest opłaconych bardzo późno.</span><span class="sxs-lookup"><span data-stu-id="45c60-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="45c60-125">W takim przypadku model może wygenerować matrycę pomyłek przypominającej poniższą ilustrację.</span><span class="sxs-lookup"><span data-stu-id="45c60-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Model 1](media/payment-prediction-matrix.png)<span data-ttu-id="45c60-127">]</span><span class="sxs-lookup"><span data-stu-id="45c60-127">]</span></span>

<span data-ttu-id="45c60-128">Matryca pomyłek zawiera znacznie więcej informacji niż metryka o prostej dokładności.</span><span class="sxs-lookup"><span data-stu-id="45c60-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="45c60-129">Jest to jednak nadal stosunkowo łatwe do zrozumienia.</span><span class="sxs-lookup"><span data-stu-id="45c60-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="45c60-130">Matryca pomyłek mówi, czy zestaw danych jest zrównoważony, czyli klasy wyjściowe mają podobne zliczenia.</span><span class="sxs-lookup"><span data-stu-id="45c60-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="45c60-131">W przypadku scenariusza wieloklasowego użytkownik określa, jak daleko może mylić się przewidywanie, jeśli klasy wyjściowe są porządkowe, tak jak w poprzednim przykładzie dotyczącymi płatności od odbiorców.</span><span class="sxs-lookup"><span data-stu-id="45c60-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="45c60-132">Dokładność modelu</span><span class="sxs-lookup"><span data-stu-id="45c60-132">Model accuracy</span></span> 
<span data-ttu-id="45c60-133">Różne metryki dokładności służą do określania ilościowego jakości modelu.</span><span class="sxs-lookup"><span data-stu-id="45c60-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="45c60-134">Ponieważ dokładność jest łatwa do zrozumienia, jest to dobry punkt wyjścia do wyjaśnienia modelu innym osobom, szczególnie użytkownikom modelu, którzy nie znają się na nauce o danych.</span><span class="sxs-lookup"><span data-stu-id="45c60-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="45c60-135">Nie jest wymagane zrozumienie statystyk w celu zrozumienia dokładności modelu.</span><span class="sxs-lookup"><span data-stu-id="45c60-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="45c60-136">Gdy jest dostępna matryca pomyłek, ułatwia uzyskanie szczegółowych informacji o działaniu modelu.</span><span class="sxs-lookup"><span data-stu-id="45c60-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="45c60-137">Jednak w celu dokładniejszego zrozumienia należy pamiętać o kilka wyzwaniach związanych z dokładnością.</span><span class="sxs-lookup"><span data-stu-id="45c60-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="45c60-138">Użyteczność metryki zależy od kontekstu problemu.</span><span class="sxs-lookup"><span data-stu-id="45c60-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="45c60-139">Pytanie, które często jest zadawane w związku z wydajnością modelu, to „jak dobry jest model?”</span><span class="sxs-lookup"><span data-stu-id="45c60-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="45c60-140">Jednak odpowiedź na to pytanie jest niekoniecznie prosta.</span><span class="sxs-lookup"><span data-stu-id="45c60-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="45c60-141">Rozważmy następującą matrycę pomyłek (model 2).</span><span class="sxs-lookup"><span data-stu-id="45c60-141">Consider the following confusion matrix (model 2).</span></span>

![Przykład przewidywania płatności z większą próbką](media/payment-prediction-matrix-2.png)

<span data-ttu-id="45c60-143">Szybkie obliczenie wskazuje, że dokładność tego modelu wynosi (70 + 10 + 3) ÷ 100 lub 0,83.</span><span class="sxs-lookup"><span data-stu-id="45c60-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="45c60-144">Pozornie ten wynik jest lepszy niż wynik poprzedniego modelu wieloklasowego (model 1) o dokładności 0,73.</span><span class="sxs-lookup"><span data-stu-id="45c60-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="45c60-145">Ale czy jest to lepsze?</span><span class="sxs-lookup"><span data-stu-id="45c60-145">But is it better?</span></span>

<span data-ttu-id="45c60-146">Aby zacząć odpowiadać na to pytanie, należy wziąć pod uwagę dokładność naiwnego przypuszczenia.</span><span class="sxs-lookup"><span data-stu-id="45c60-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="45c60-147">W przypadku problemu z klasyfikacją proste przypuszczenie zawsze będzie przewidywać najbardziej typową klasę.</span><span class="sxs-lookup"><span data-stu-id="45c60-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="45c60-148">W modelu 1 będzie to przypuszczenie „na czas”, a jego dokładność wyniesie 0,50.</span><span class="sxs-lookup"><span data-stu-id="45c60-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="45c60-149">Przypuszczenie w modelu 2 będzie także „na czas”, a jego dokładność wyniesie 0,80.</span><span class="sxs-lookup"><span data-stu-id="45c60-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="45c60-150">Ponieważ model 1 poprawia naiwne przypuszczenie o 0,73 — 0,50 = 0,23, a model 2 poprawie naiwne przypuszczenie o 0,83 — 0,80 = 0,03, model 1 jest lepszym modelem, nawet jeśli ma niższą dokładność.</span><span class="sxs-lookup"><span data-stu-id="45c60-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="45c60-151">Obliczenie ujawnia, że efektywna ocena jakości modelu wymaga większego kontekstu niż wartość dokładności.</span><span class="sxs-lookup"><span data-stu-id="45c60-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="45c60-152">Warto zwrócić uwagę na inny aspekt.</span><span class="sxs-lookup"><span data-stu-id="45c60-152">Another aspect is worth noting.</span></span> <span data-ttu-id="45c60-153">Rozważmy scenariusz, w którym jest używany test medyczny w celu wykrycia choroby u pacjenta.</span><span class="sxs-lookup"><span data-stu-id="45c60-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="45c60-154">Ten problem jest problemem z klasyfikacją binarną, w którym pozytywny wynik wskazuje, że pacjent ma tę chorobę.</span><span class="sxs-lookup"><span data-stu-id="45c60-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="45c60-155">W tym scenariuszu należy wziąć pod uwagę wpływ następujących błędów:</span><span class="sxs-lookup"><span data-stu-id="45c60-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="45c60-156">Fałszywe dodatnie, gdzie wynik testu oznacza, że pacjent ma taką chorobę, ale w rzeczywistości nie ma takiej choroby</span><span class="sxs-lookup"><span data-stu-id="45c60-156">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="45c60-157">Fałszywe ujemne, gdzie wynik testu oznacza, że pacjent nie ma takiej choroby, ale w rzeczywistości ją ma</span><span class="sxs-lookup"><span data-stu-id="45c60-157">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="45c60-158">Oczywiście, oba typy błędów są niepożądane, ale który jest gorszy?</span><span class="sxs-lookup"><span data-stu-id="45c60-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="45c60-159">Znowu, to zależy.</span><span class="sxs-lookup"><span data-stu-id="45c60-159">Again, it depends.</span></span> <span data-ttu-id="45c60-160">W przypadku choroby zagrażającej życiu, która wymaga szybkiego leczenia, minimalizacja fałszywych wyników ujemnych (po których powinny nastąpić dodatkowe testy) ma pierwszeństwo.</span><span class="sxs-lookup"><span data-stu-id="45c60-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="45c60-161">W innych, mniej krytycznych sytuacjach, twórcy modelu mogą natomiast minimalizować fałszywe dodatnie wyniki.</span><span class="sxs-lookup"><span data-stu-id="45c60-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="45c60-162">W każdym razie racjonalny wniosek jest taki, że aby skutecznie ustalić jakość modelu, trzeba mieć więcej informacji niż zapewnia metryka dokładności.</span><span class="sxs-lookup"><span data-stu-id="45c60-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="45c60-163">Rekomendacje</span><span class="sxs-lookup"><span data-stu-id="45c60-163">Recommendations</span></span>

<span data-ttu-id="45c60-164">Dokładność to ważne narzędzie komunikacji z ekspertami, którzy nie znają się na statystyce.</span><span class="sxs-lookup"><span data-stu-id="45c60-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="45c60-165">Jednak, aby informacje były użyteczne, należy zapewnić dodatkowy kontekst wraz z wartością dokładności.</span><span class="sxs-lookup"><span data-stu-id="45c60-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="45c60-166">W scenariuszu przewidywania płatności można określić cel dla modelu uczenia maszynowego, który zawiera współczynniki w różnych zachowaniach płatności.</span><span class="sxs-lookup"><span data-stu-id="45c60-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="45c60-167">Celem tego modelu powinno być poprawienie naiwnego przypuszczenia przez zmniejszenie liczby nieprawidłowych odpowiedzi o co najmniej 50 procent.</span><span class="sxs-lookup"><span data-stu-id="45c60-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="45c60-168">Inaczej mówiąc, należy określić docelową dokładność, która dzieli różnicę między dokładnością naiwnego przypuszczenia a 100 procent.</span><span class="sxs-lookup"><span data-stu-id="45c60-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="45c60-169">Poniższa tabela podsumowuje tę zasadę dla matryc pomyłek w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="45c60-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="45c60-170">Model</span><span class="sxs-lookup"><span data-stu-id="45c60-170">Model</span></span>   | <span data-ttu-id="45c60-171">Naiwne przypuszczenie</span><span class="sxs-lookup"><span data-stu-id="45c60-171">Naïve guess</span></span> | <span data-ttu-id="45c60-172">Wartość docelowa</span><span class="sxs-lookup"><span data-stu-id="45c60-172">Target</span></span> | <span data-ttu-id="45c60-173">Dokładność modelu</span><span class="sxs-lookup"><span data-stu-id="45c60-173">Model accuracy</span></span> | <span data-ttu-id="45c60-174">Czy cel został osiągnięty?</span><span class="sxs-lookup"><span data-stu-id="45c60-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="45c60-175">Model 1</span><span class="sxs-lookup"><span data-stu-id="45c60-175">Model 1</span></span> | <span data-ttu-id="45c60-176">0.50</span><span class="sxs-lookup"><span data-stu-id="45c60-176">0.50</span></span>        | <span data-ttu-id="45c60-177">0.75</span><span class="sxs-lookup"><span data-stu-id="45c60-177">0.75</span></span>   | <span data-ttu-id="45c60-178">0.73</span><span class="sxs-lookup"><span data-stu-id="45c60-178">0.73</span></span>           | <span data-ttu-id="45c60-179">Prawie.</span><span class="sxs-lookup"><span data-stu-id="45c60-179">Almost.</span></span> <span data-ttu-id="45c60-180">Ten model znacznie poprawia przypuszczenie.</span><span class="sxs-lookup"><span data-stu-id="45c60-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="45c60-181">Model 2</span><span class="sxs-lookup"><span data-stu-id="45c60-181">Model 2</span></span> | <span data-ttu-id="45c60-182">0.80</span><span class="sxs-lookup"><span data-stu-id="45c60-182">0.80</span></span>        | <span data-ttu-id="45c60-183">0.90</span><span class="sxs-lookup"><span data-stu-id="45c60-183">0.90</span></span>   | <span data-ttu-id="45c60-184">0.83</span><span class="sxs-lookup"><span data-stu-id="45c60-184">0.83</span></span>           | <span data-ttu-id="45c60-185">Nr</span><span class="sxs-lookup"><span data-stu-id="45c60-185">No.</span></span> <span data-ttu-id="45c60-186">Wymagana jest poprawa.</span><span class="sxs-lookup"><span data-stu-id="45c60-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="45c60-187">Dokładność klasyfikacji F1</span><span class="sxs-lookup"><span data-stu-id="45c60-187">Classification F1 accuracy</span></span>

<span data-ttu-id="45c60-188">Ostatnim rozważaniem w tym temacie jest bardziej zaawansowana miara skuteczności klasyfikacji uczenia maszynowego, określana jako dokładność F1.</span><span class="sxs-lookup"><span data-stu-id="45c60-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="45c60-189">Przed zdefiniowaniem dokładności F1 należy wprowadzić dwie dodatkowe metryki: precyzję i trafność.</span><span class="sxs-lookup"><span data-stu-id="45c60-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="45c60-190">Precyzja wskazuje, ile z łącznej liczby przewidywań określonych jako dodatnie jest prawidłowo przypisanych.</span><span class="sxs-lookup"><span data-stu-id="45c60-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="45c60-191">Ta metryka jest również określana jako dodatnia wartość predykcyjna.</span><span class="sxs-lookup"><span data-stu-id="45c60-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="45c60-192">Trafność to łączna liczba rzeczywistych pozytywnych przypadków, które zostały prawidłowo przewidziane.</span><span class="sxs-lookup"><span data-stu-id="45c60-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="45c60-193">Ta metryka jest również określana jako czułość.</span><span class="sxs-lookup"><span data-stu-id="45c60-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="45c60-194">[![Prawdziwe wyniki w porównaniu z fałszywymi wynikami](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="45c60-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="45c60-195">W matrycy pomyłek na powyższej ilustracji, te metryki są obliczane w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="45c60-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="45c60-196">Precyzja = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="45c60-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="45c60-197">Trafność = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="45c60-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="45c60-198">Miara F1 łączy precyzję i trafność.</span><span class="sxs-lookup"><span data-stu-id="45c60-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="45c60-199">Wynik jest średnią harmoniczną dwóch wartości.</span><span class="sxs-lookup"><span data-stu-id="45c60-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="45c60-200">Jest on obliczany w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="45c60-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="45c60-201">F1 = 2 × (precyzja × trafność) ÷ (precyzja + trafność)</span><span class="sxs-lookup"><span data-stu-id="45c60-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="45c60-202">Przyjrzyjmy się konkretnemu przykładowi.</span><span class="sxs-lookup"><span data-stu-id="45c60-202">Let's look at a concrete example.</span></span> <span data-ttu-id="45c60-203">Wcześniej w tym temacie mieliśmy przykład modelu, który przewiduje, czy zwierzę jest psem czy kotem.</span><span class="sxs-lookup"><span data-stu-id="45c60-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="45c60-204">W tym miejscu ilustracja jest powtórzona.</span><span class="sxs-lookup"><span data-stu-id="45c60-204">The illustration is repeated here.</span></span>

<span data-ttu-id="45c60-205">[![Przykład przewidywania gatunków (powtórzone)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="45c60-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="45c60-206">Oto wyniki, jeśli jako odpowiedź pozytywną przyjmiemy „pies”.</span><span class="sxs-lookup"><span data-stu-id="45c60-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="45c60-207">Precyzja = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="45c60-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="45c60-208">Trafność = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="45c60-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="45c60-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="45c60-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="45c60-210">Jak widać, wartość F1 jest pomiędzy wartościami precyzji i trafności.</span><span class="sxs-lookup"><span data-stu-id="45c60-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="45c60-211">Chociaż dokładność F1 nie jest łatwa w zrozumieniu, dodaje niuans do prostej liczby dokładności.</span><span class="sxs-lookup"><span data-stu-id="45c60-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="45c60-212">Może również być przydatna w przypadku niezrównoważonych zestawów danych, jak w następnej dyskusji.</span><span class="sxs-lookup"><span data-stu-id="45c60-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="45c60-213">Sekcja [Dokładność modelu](#model-accuracy) w tym temacie porównuje następujące dwie matryce pomyłek.</span><span class="sxs-lookup"><span data-stu-id="45c60-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="45c60-214">Nawet jeśli pierwszy model miał niższą dokładność, uznano, że jest bardziej przydatny, ponieważ wykazał się lepszą poprawą domyślnego przypuszczenia płatności na czas.</span><span class="sxs-lookup"><span data-stu-id="45c60-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Przykład porównania przewidywania płatności z rzeczywistością](media/payment-prediction-matrix.png)

![Przykład przewidywania płatności z większą próbką (powtórzone)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="45c60-217">Zobaczmy, jak te dwa modele są porównywane w przypadku użycia wyniku F1.</span><span class="sxs-lookup"><span data-stu-id="45c60-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="45c60-218">Wynik F1 mierzy precyzję i trafność poszczególnych stanów, a obliczenia w makrze F1 następnie uśredniają wynik F1 różnych stanów, aby określić ogólny wynik F1.</span><span class="sxs-lookup"><span data-stu-id="45c60-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="45c60-219">Istnieją inne warianty F1, ale jest bardziej przydatne, aby wziąć pod uwagę wersję makro, ze względu na równe znaczenie przypisywane wszystkim trzem stanom.</span><span class="sxs-lookup"><span data-stu-id="45c60-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="45c60-220">Aby uprościć obliczenia, skonstruowano tablice przykładowe w celu dopasowania wartości rzeczywistych i przewidywanych.</span><span class="sxs-lookup"><span data-stu-id="45c60-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="45c60-221">W tych tablicach użyto biblioteki metryk sklearn w Python w celu obliczenia wartości.</span><span class="sxs-lookup"><span data-stu-id="45c60-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="45c60-222">Oto wynik.</span><span class="sxs-lookup"><span data-stu-id="45c60-222">Here is the result.</span></span>

| <span data-ttu-id="45c60-223">Model</span><span class="sxs-lookup"><span data-stu-id="45c60-223">Model</span></span>   | <span data-ttu-id="45c60-224">Naiwne przypuszczenie</span><span class="sxs-lookup"><span data-stu-id="45c60-224">Naive guess</span></span> | <span data-ttu-id="45c60-225">Dokładność</span><span class="sxs-lookup"><span data-stu-id="45c60-225">Accuracy</span></span> | <span data-ttu-id="45c60-226">Makro F1</span><span class="sxs-lookup"><span data-stu-id="45c60-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="45c60-227">Model 1</span><span class="sxs-lookup"><span data-stu-id="45c60-227">Model 1</span></span> | <span data-ttu-id="45c60-228">0.5</span><span class="sxs-lookup"><span data-stu-id="45c60-228">0.5</span></span>         | <span data-ttu-id="45c60-229">0.73</span><span class="sxs-lookup"><span data-stu-id="45c60-229">0.73</span></span>     | <span data-ttu-id="45c60-230">0.67</span><span class="sxs-lookup"><span data-stu-id="45c60-230">0.67</span></span>     |
| <span data-ttu-id="45c60-231">Model 2</span><span class="sxs-lookup"><span data-stu-id="45c60-231">Model 2</span></span> | <span data-ttu-id="45c60-232">0.80</span><span class="sxs-lookup"><span data-stu-id="45c60-232">0.80</span></span>        | <span data-ttu-id="45c60-233">0.83</span><span class="sxs-lookup"><span data-stu-id="45c60-233">0.83</span></span>     | <span data-ttu-id="45c60-234">0.66</span><span class="sxs-lookup"><span data-stu-id="45c60-234">0.66</span></span>     |

<span data-ttu-id="45c60-235">Więcej szczegółowych informacji o sposobach działania tego obliczenia zawiera niniejszy raport klasyfikacji sklearn.metrics dla modelu 1.</span><span class="sxs-lookup"><span data-stu-id="45c60-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="45c60-236">Trzy stany, „Na czas”, „Z opóźnieniem” i „Z dużym opóźnieniem” są reprezentowane przez wiersze o numerach 1, 2 i 3.</span><span class="sxs-lookup"><span data-stu-id="45c60-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="45c60-237">Średnia makro jest tylko średnią z kolumny „Wynik F1”.</span><span class="sxs-lookup"><span data-stu-id="45c60-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="45c60-238">precyzja</span><span class="sxs-lookup"><span data-stu-id="45c60-238">precision</span></span> | <span data-ttu-id="45c60-239">trafność</span><span class="sxs-lookup"><span data-stu-id="45c60-239">recall</span></span>   | <span data-ttu-id="45c60-240">wynik F1</span><span class="sxs-lookup"><span data-stu-id="45c60-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="45c60-241">**1**</span><span class="sxs-lookup"><span data-stu-id="45c60-241">**1**</span></span>     | <span data-ttu-id="45c60-242">0.83</span><span class="sxs-lookup"><span data-stu-id="45c60-242">0.83</span></span>      | <span data-ttu-id="45c60-243">0.80</span><span class="sxs-lookup"><span data-stu-id="45c60-243">0.80</span></span>     | <span data-ttu-id="45c60-244">0.82</span><span class="sxs-lookup"><span data-stu-id="45c60-244">0.82</span></span>     |
| <span data-ttu-id="45c60-245">**2**</span><span class="sxs-lookup"><span data-stu-id="45c60-245">**2**</span></span>     | <span data-ttu-id="45c60-246">0.68</span><span class="sxs-lookup"><span data-stu-id="45c60-246">0.68</span></span>      | <span data-ttu-id="45c60-247">0.71</span><span class="sxs-lookup"><span data-stu-id="45c60-247">0.71</span></span>     | <span data-ttu-id="45c60-248">0.69</span><span class="sxs-lookup"><span data-stu-id="45c60-248">0.69</span></span>     |
| <span data-ttu-id="45c60-249">**3**</span><span class="sxs-lookup"><span data-stu-id="45c60-249">**3**</span></span>     | <span data-ttu-id="45c60-250">0.50</span><span class="sxs-lookup"><span data-stu-id="45c60-250">0.50</span></span>      | <span data-ttu-id="45c60-251">0.50</span><span class="sxs-lookup"><span data-stu-id="45c60-251">0.50</span></span>     | <span data-ttu-id="45c60-252">0.50</span><span class="sxs-lookup"><span data-stu-id="45c60-252">0.50</span></span>     |

<span data-ttu-id="45c60-253">Jak pokazują te wyniki, dwa modele mają niemal identyczne wyniki dokładności makra F1.</span><span class="sxs-lookup"><span data-stu-id="45c60-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="45c60-254">W tym i wielu innych przypadkach dokładność F1 stanowi lepszy wskaźnik zdolności modelu.</span><span class="sxs-lookup"><span data-stu-id="45c60-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="45c60-255">Jeśli chodzi o dokładność, interpretacja wyników wymaga zrozumienia, co należy przede wszystkim rozważyć w modelu.</span><span class="sxs-lookup"><span data-stu-id="45c60-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="45c60-256">Klauzula prywatności</span><span class="sxs-lookup"><span data-stu-id="45c60-256">Privacy notice</span></span>
<span data-ttu-id="45c60-257">Wersje zapoznawcze (1) mogą wykorzystywać mniej rygorystyczne funkcje ochrony prywatności i bezpieczeństwa niż usługa Dynamics 365 Finance and Operations, (2) nie są objęte umową dotyczącą poziomu usług (SLA) dla tej usługi, (3) nie powinny być używane do przetwarzania danych osobowych ani innych danych podlegających wymogom zapewnienia zgodności z przepisami lub regulacjami, oraz (4) mają ograniczone wsparcie techniczne.</span><span class="sxs-lookup"><span data-stu-id="45c60-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]