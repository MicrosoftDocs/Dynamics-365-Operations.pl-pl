---
title: Konfigurowanie uwierzytelniania Azure Active Directory w celu logowania w punkcie sprzedaży
description: W tym temacie opisano sposób konfigurowania Azure Active Directory jako metody uwierzytelniania w punkcie sprzedaży Microsoft Dynamics 365 Commerce.
author: boycezhu
manager: annbe
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: 34a7946a56a58655bc9ae23e060fc50ab01f2c6e
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937465"
---
# <a name="configure-azure-active-directory-authentication-for-pos-sign-in"></a><span data-ttu-id="407f4-103">Konfigurowanie uwierzytelniania Azure Active Directory w celu logowania w punkcie sprzedaży</span><span class="sxs-lookup"><span data-stu-id="407f4-103">Configure Azure Active Directory authentication for POS sign-in</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="407f4-104">W tym temacie opisano sposób konfigurowania Azure Active Directory (Azure AD) jako metody uwierzytelniania w punkcie sprzedaży Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="407f4-104">This topic explains how to configure Azure Active Directory (Azure AD) as the authentication method in Microsoft Dynamics 365 Commerce point of sale (POS).</span></span>

<span data-ttu-id="407f4-105">Sprzedawcy detaliczni, którzy korzystają z rozwiązania Dynamics 365 Commerce oraz innych usług w chmurze firmy Microsoft, jak Microsoft Azure, Microsoft 365 i Microsoft Teams, na ogół chcą korzystać z Azure AD w celu centralizacji zarządzania poświadczeniami użytkowników w celu bezpiecznego i bezproblemowego logowania się między aplikacjami.</span><span class="sxs-lookup"><span data-stu-id="407f4-105">Retailers who use Dynamics 365 Commerce along with other Microsoft cloud services such as Microsoft Azure, Microsoft 365, and Microsoft Teams typically want to use Azure AD for centralized management of user credentials for a secure and seamless sign-in experience across applications.</span></span> <span data-ttu-id="407f4-106">Aby można było korzystać z uwierzytelniania Azure AD w punkcie sprzedaży Commerce, należy najpierw skonfigurować Azure AD jako metodę uwierzytelniania w centrali Commerce.</span><span class="sxs-lookup"><span data-stu-id="407f4-106">To use Azure AD authentication for Commerce POS, you must first configure Azure AD as the authentication method in Commerce headquarters.</span></span>

## <a name="configure-pos-authentication-method"></a><span data-ttu-id="407f4-107">Konfigurowanie metody uwierzytelniania punktu sprzedaży</span><span class="sxs-lookup"><span data-stu-id="407f4-107">Configure POS authentication method</span></span>

<span data-ttu-id="407f4-108">Aby skonfigurować metodę uwierzytelniania punktu sprzedaży w centrali Commerce, wykonaj następujące kroki.</span><span class="sxs-lookup"><span data-stu-id="407f4-108">To configure the POS authentication method in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="407f4-109">Przejdź do opcji **Retail i Commerce \> Ustawienia kanału \> Ustawienia punktu sprzedaży \> Profile punktów sprzedaży \> Profile funkcji** i wybierz profil funkcji, który chcesz zmienić.</span><span class="sxs-lookup"><span data-stu-id="407f4-109">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**, and select a functionality profile to change.</span></span>
1. <span data-ttu-id="407f4-110">W sekcji **logowanie pracowników punktu sprzedaży** skróconej karty **Funkcje** wybierz żądaną opcję metody uwierzytelniania z listy rozwijanej **Metoda uwierzytelniania logowania**.</span><span class="sxs-lookup"><span data-stu-id="407f4-110">In the **POS staff logon** section of the **Functions** FastTab, select a desired authentication method option from the **Logon authentication method** drop-down list.</span></span>

    <span data-ttu-id="407f4-111">Lista **Metoda uwierzytelniania logowania** zawiera trzy opcje:</span><span class="sxs-lookup"><span data-stu-id="407f4-111">The **Logon authentication method** has three options:</span></span>
    
    - <span data-ttu-id="407f4-112">**Identyfikator pracownika i hasło** — Ta opcja domyślna wymaga, aby użytkownicy punktu sprzedaży wprowadzali identyfikator pracownika i hasło, aby logować się do punktu sprzedaży i uzyskać dostęp do funkcji zastępowania menedżera.</span><span class="sxs-lookup"><span data-stu-id="407f4-112">**Personnel ID and Password** - This default option requires POS users to enter a personnel ID and password to sign in to the POS and to access manager override functionality.</span></span>
    - <span data-ttu-id="407f4-113">**Azure AD bez jednokrotnego logowania** — ta opcja wymaga, aby użytkownicy punktu sprzedaży używali poświadczeń Azure AD w celu logowania się do punktu sprzedaży i uzyskania dostępu do funkcji zastępowania menedżera.</span><span class="sxs-lookup"><span data-stu-id="407f4-113">**Azure AD without single sign-on** - This option requires POS users to use Azure AD credentials to sign in to the POS and access manager override functionality.</span></span> <span data-ttu-id="407f4-114">Gdy klient punktu sprzedaży zostanie odświeżony lub otwarty ponownie, użytkownik punktu sprzedaży musi podać poświadczenia Azure AD, aby ponownie się zalogować.</span><span class="sxs-lookup"><span data-stu-id="407f4-114">When the POS client is refreshed or reopened, the POS user must provide Azure AD credentials to sign in again.</span></span>
    - <span data-ttu-id="407f4-115">**Azure AD z jednokrotnym logowaniem** — po wybraniu tej opcji użytkownicy punktu sprzedaży będą mogli zalogować się do programu Cloud POS (CPOS) przy użyciu aktywnych poświadczeń Azure AD, które są używane przez inne aplikacje sieci Web w tej samej przeglądarce sieci Web, lub logować się do programu Modern POS (MPOS) przy użyciu poświadczeń Azure AD używanych do logowania do systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="407f4-115">**Azure AD with single sign-on** - When this option is selected, POS users are able to sign in to Cloud POS (CPOS) using active Azure AD credentials that are being used by other web applications in the same web browser, or sign in to Modern POS (MPOS) using Azure AD credentials signed in to Windows.</span></span> <span data-ttu-id="407f4-116">Obie metody umożliwiają logowanie bez konieczności wprowadzania poświadczeń Azure AD na ekranie logowania punktu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-116">Both methods allow sign-in without needing to enter Azure AD credentials on the POS sign-in screen.</span></span> <span data-ttu-id="407f4-117">Dostęp do funkcji zastępowania menedżera punktu sprzedaży będzie jednak wciąż wymagał logowania przy użyciu poświadczeń Azure AD.</span><span class="sxs-lookup"><span data-stu-id="407f4-117">However, accessing the POS manager override functionality will still require sign-in using Azure AD credentials.</span></span>

1. <span data-ttu-id="407f4-118">Aby zsynchronizować najnowsze ustawienia profilu funkcji z klientami punktu sprzedaży, wybierz opcje **Retail i Commerce > Retail i Commerce — składniki IT > Harmonogram dystrybucji** i uruchom zadanie **1070 (Konfiguracja kanału)**.</span><span class="sxs-lookup"><span data-stu-id="407f4-118">Go to **Retail and Commerce > Retail and Commerce IT > Distribution schedule** and run the **1070 (Channel configuration)** job to synchronize the latest functionality profile settings to POS clients.</span></span>

> [!NOTE]
> - <span data-ttu-id="407f4-119">Opcja metody uwierzytelniania **Azure AD bez jednokrotnego logowania** zastępuje opcję **Azure Active Directory** używaną w Commerce w wersji 10.0.18 i starszych.</span><span class="sxs-lookup"><span data-stu-id="407f4-119">The **Azure AD without single sign-on** authentication method option replaces the **Azure Active Directory** option in Commerce version 10.0.18 and earlier.</span></span>
> - <span data-ttu-id="407f4-120">Uwierzytelnianie Azure AD wymaga aktywnego połączenia z Internetem i nie działa, gdy punkt sprzedaży jest w trybie offline.</span><span class="sxs-lookup"><span data-stu-id="407f4-120">Azure AD authentication requires an active internet connection, and won't function when the POS is offline.</span></span>

## <a name="associate-azure-ad-accounts-with-pos-users"></a><span data-ttu-id="407f4-121">Kojarzenie kont Azure AD z użytkownikami punktu sprzedaży</span><span class="sxs-lookup"><span data-stu-id="407f4-121">Associate Azure AD accounts with POS users</span></span>

<span data-ttu-id="407f4-122">Aby użyć Azure AD jako metody uwierzytelniania punktu sprzedaży, należy skojarzyć konta Azure AD z użytkownikami punktu sprzedaży w centrali Commerce.</span><span class="sxs-lookup"><span data-stu-id="407f4-122">To use Azure AD as the POS authentication method, you must associate Azure AD accounts with POS users in Commerce headquarters.</span></span> 

<span data-ttu-id="407f4-123">Aby skojarzyć konta Azure AD z użytkownikami punktu sprzedaży w centrali Commerce, wykonaj poniższe kroki.</span><span class="sxs-lookup"><span data-stu-id="407f4-123">To associate Azure AD accounts with POS users in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="407f4-124">Wybierz kolejno opcje **Retail i Commerce > Pracownicy > Pracownicy** i otwórz rekord pracownika.</span><span class="sxs-lookup"><span data-stu-id="407f4-124">Go to **Retail and Commerce > Employees > Workers** and open a worker record.</span></span>
1. <span data-ttu-id="407f4-125">Następnie w okienku akcji na karcie **Commerce** w grupie **Tożsamość zewnętrzna** wybierz opcję **Powiązanie istniejącej tożsamości**.</span><span class="sxs-lookup"><span data-stu-id="407f4-125">On the Action Pane, select the **Commerce** tab, then under **External identity** select **Associate existing identity**.</span></span> 
1. <span data-ttu-id="407f4-126">W oknie dialogowym **używanie istniejącej tożsamości zewnętrznej** wybierz opcję **Wyszukaj przy użyciu poczty e-mail**, wprowadź adres e-mail Azure AD, a następnie wybierz opcję **Szukaj**.</span><span class="sxs-lookup"><span data-stu-id="407f4-126">In the **Use existing external identity** dialog box, select **Search using email**, enter an Azure AD email address, and then select **Search**.</span></span>
1. <span data-ttu-id="407f4-127">Wybierz konto Azure AD, które jest zwracane, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="407f4-127">Select the Azure AD account that is returned, then select **OK**.</span></span>

<span data-ttu-id="407f4-128">Po wykonaniu tych kroków konfiguracji pola **alias**, **nazwa UPN** i **zewnętrzny identyfikator podrzędny** na karcie **Commerce** na stronie Szczegóły pracownika zostaną wypełnione.</span><span class="sxs-lookup"><span data-stu-id="407f4-128">After the configuration steps above, the **Alias**, **UPN**, and **External sub identifier** fields on the **Commerce** tab of the worker's details page will be filled in.</span></span>

<span data-ttu-id="407f4-129">Aby zsynchronizować najnowsze dane użytkownika punktu sprzedaży i konta Azure AD z kanałem, wybierz opcje **Retail i Commerce > Retail i Commerce — składniki IT > Harmonogram dystrybucji** i uruchom zadanie **1060 (Personel)**.</span><span class="sxs-lookup"><span data-stu-id="407f4-129">You must run the **1060 (Staff)** job in **Retail and Commerce > Retail and Commerce IT > Distribution schedule** to synchronize the latest POS user and Azure AD account data to the channel.</span></span>

> [!NOTE]
> <span data-ttu-id="407f4-130">Dobrą praktyką jest, aby po zaktualizowaniu informacji o pracowniku, takich jak hasło, uprawnienie do punktu sprzedaży, skojarzone konto Azure AD lub książka adresowa pracownika w centrali Commerce, uruchomić zadanie **1060 (Personel)** w celu zsynchronizowania z kanałem najnowszych informacji o pracowniku.</span><span class="sxs-lookup"><span data-stu-id="407f4-130">As a best practice, after worker information such as password, POS permission, associated Azure AD account, or employee address book is updated in Commerce headquarters, it is highly recommended to run the **1060 (Staff)** job to synchronize the latest worker information to the channel.</span></span> <span data-ttu-id="407f4-131">Dzięki temu klient punktu sprzedaży może pobierać poprawne dane na potrzeby sprawdzania uwierzytelniania i autoryzacji użytkowników.</span><span class="sxs-lookup"><span data-stu-id="407f4-131">The POS client can then fetch the correct data for user authentication and authorization checks.</span></span>

## <a name="pos-lock-register-and-sign-out-with-azure-ad-authentication"></a><span data-ttu-id="407f4-132">Blokowanie rejestru punktu sprzedaży i wylogowywanie się z uwierzytelnianiem Azure AD</span><span class="sxs-lookup"><span data-stu-id="407f4-132">POS lock register and sign-out with Azure AD authentication</span></span>

<span data-ttu-id="407f4-133">Po skonfigurowaniu metody uwierzytelniania Azure AD do punktu sprzedaży mają miejsce następujące zdarzenia:</span><span class="sxs-lookup"><span data-stu-id="407f4-133">The following occurs when POS is configured to use the Azure AD authentication method:</span></span>

- <span data-ttu-id="407f4-134">Funkcja **Blokowanie rejestru** nie będzie dostępna w aplikacji punktu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-134">The **Lock register** function will not be available in the POS application.</span></span> 
- <span data-ttu-id="407f4-135">Funkcja **Automatyczna blokada** będzie zachowywać się tak samo jak funkcja **Automatyczne wylogowanie**.</span><span class="sxs-lookup"><span data-stu-id="407f4-135">The **Automatically lock** function will behave the same as the **Automatically logoff** function.</span></span>
- <span data-ttu-id="407f4-136">Jeśli użytkownik punktu sprzedaży wybierze opcję **Wyloguj się**, przy następnym uruchomieniu punktu sprzedaży zostanie poproszony o zalogowanie się za pomocą uwierzytelnień Azure AD, niezależnie od tego, czy jest włączone jednokrotne logowanie.</span><span class="sxs-lookup"><span data-stu-id="407f4-136">If the POS user selects **Log off**, the user will be asked to sign in with Azure AD credentials the next time the POS launches, regardless of whether single sign-in is enabled.</span></span>

## <a name="manager-override-functionality-with-azure-ad-authentication"></a><span data-ttu-id="407f4-137">Funkcja zastępowania menedżera za pomocą uwierzytelniania Azure AD</span><span class="sxs-lookup"><span data-stu-id="407f4-137">Manager override functionality with Azure AD authentication</span></span>

<span data-ttu-id="407f4-138">Jeśli w punkcie sprzedaży skonfigurowano uwierzytelnianie Azure AD, funkcja zastępowania menedżera spowoduje otwarcie okna dialogowego z monitem o poświadczenia Azure AD użytkownika menedżera.</span><span class="sxs-lookup"><span data-stu-id="407f4-138">When the POS is configured to use Azure AD authentication, the manager override functionality will open a dialog box that prompts for the manager user's Azure AD credentials.</span></span> <span data-ttu-id="407f4-139">Gdy zostanie zatwierdzone logowanie menedżera, poświadczenia Azure AD menedżera zostaną porzucone i poświadczenia Azure AD poprzedniego użytkownika będą używane do kolejnych operacji w punkcie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-139">After manager sign-in is approved, the manager's Azure AD credentials will be dropped and the previous user's Azure AD credentials will be used for subsequent POS operations.</span></span>

> [!NOTE]
> - <span data-ttu-id="407f4-140">W Commerce w wersji 10.0.18 i starszych funkcja zastępowania menedżera nie obsługuje funkcji Azure AD.</span><span class="sxs-lookup"><span data-stu-id="407f4-140">In Commerce versions 10.0.18 and earlier, the manager override function does not support Azure AD.</span></span> <span data-ttu-id="407f4-141">Identyfikator operatora i hasło są wymagane nawet wtedy, gdy metoda uwierzytelniania Azure AD jest skonfigurowana do logowania się w punkcie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-141">A personnel ID and password are required even if the POS is configured to use the Azure AD authentication method.</span></span>
> - <span data-ttu-id="407f4-142">W przypadku używania CPOS z przeglądarką sieci Web Safari na urządzeniu z systemem iOS firmy Apple należy najpierw wyłączyć funkcję **Blokowanie wyskakujących okienek** w ustawieniach Safari, aby funkcja zastępowania menedżera działała z uwierzytelnieniem Azure AD.</span><span class="sxs-lookup"><span data-stu-id="407f4-142">When using CPOS with the Safari web browser on an Apple iOS device, you must first turn off **Block Pop-ups** in Safari settings for the manager override functionality to work with Azure AD authentication.</span></span> 

## <a name="security-best-practices-for-azure-ad-based-pos-authentication-on-shared-devices"></a><span data-ttu-id="407f4-143">Najlepsze praktyki z zakresie zabezpieczeń dotyczące uwierzytelniania Azure AD w punkcie sprzedaży na wspólnych urządzeniach</span><span class="sxs-lookup"><span data-stu-id="407f4-143">Security best practices for Azure AD-based POS authentication on shared devices</span></span>

<span data-ttu-id="407f4-144">Wielu sprzedawców detalicznych konfiguruje swoje środowisko sklepu detalicznego, tak aby wielu użytkowników musiało uzyskać dostęp do aplikacji punktu sprzedaży ze wspólnego urządzenia fizycznego.</span><span class="sxs-lookup"><span data-stu-id="407f4-144">Many retailers set up their retail store environment in a way that multiple users need to access the POS application from a shared physical device.</span></span> <span data-ttu-id="407f4-145">W tym kontekście podczas jednokrotnego logowania użytkownik może korzystać z wygodnego i bezproblemowego uwierzytelniania, ale może to również stwarzać lukę w zabezpieczeniach, jeśli bieżący użytkownik punktu sprzedaży nie zorientuje się, że korzysta z poświadczeń innego użytkownika do wykonywania transakcji lub operacji w punkcie sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-145">In that context, while single sign-in provides a convenient and seamless authentication experience, it may also create a security loophole where the current POS user may not realize that another user's credentials are being used to perform transactions or operations in the POS.</span></span> <span data-ttu-id="407f4-146">Przed skonfigurowaniem metody uwierzytelniania Azure AD do logowania do punktu sprzedaży zdecydowanie zaleca się przejrzenie zasad zabezpieczeń i ustawień logowania na wspólnych urządzeniach, aby określić, która opcja będzie najlepsza.</span><span class="sxs-lookup"><span data-stu-id="407f4-146">Before you configure the POS to use the Azure AD authentication method, it is highly recommended to review your security policy and the shared device's sign-in settings to decide which option is the best fit.</span></span>

- <span data-ttu-id="407f4-147">Jeśli w środowisku sklepu jest używane wspólne konto (na przykład konto lokalne) na potrzeby logowania się na urządzeniu fizycznym, zalecane jest użycie opcji logowania **Azure AD bez jednokrotnego logowania**.</span><span class="sxs-lookup"><span data-stu-id="407f4-147">If your retail environment uses a shared account (for example, a local account) for physical device sign-in, it's recommended to use the **Azure AD without single sign-on** option.</span></span> <span data-ttu-id="407f4-148">Gwarantuje to, że każdy użytkownik punktu sprzedaży będzie jawnie podawał poświadczenia Azure AD, aby zalogować się do punktu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="407f4-148">This ensures that each POS user explicitly provides Azure AD credentials to sign in to the POS.</span></span>
- <span data-ttu-id="407f4-149">Jeśli w środowisku sklepu jest wymagane, aby pracownicy logowali się do punktu sprzedaży przy użyciu własnych kont Azure AD, i urządzenie fizyczne jest wspólne, zalecane jest użycie opcji logowania **Azure AD z jednokrotnym logowaniem**.</span><span class="sxs-lookup"><span data-stu-id="407f4-149">If your retail environment requires employees to use their own Azure AD accounts to sign in to the POS and its hosting physical device, it's recommended to use the **Azure AD with single sign-on** option.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="407f4-150">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="407f4-150">Additional resources</span></span>

[<span data-ttu-id="407f4-151">Konfigurowanie pracownika</span><span class="sxs-lookup"><span data-stu-id="407f4-151">Configure a worker</span></span>](tasks/worker.md)

[<span data-ttu-id="407f4-152">Tworzenie profilu funkcji handlu detalicznego</span><span class="sxs-lookup"><span data-stu-id="407f4-152">Create a retail functionality profile</span></span>](retail-functionality-profile.md)


[<span data-ttu-id="407f4-153">Konfigurowanie funkcjonalności logowania rozszerzonego w aplikacjach MPOS i Cloud POS</span><span class="sxs-lookup"><span data-stu-id="407f4-153">Set up extended logon functionality for MPOS and Cloud POS</span></span>](extended-logon.md)

[<span data-ttu-id="407f4-154">Najlepsze praktyki z zakresie zabezpieczeń dotyczące aplikacji Cloud POS w udostępnionych środowiskach</span><span class="sxs-lookup"><span data-stu-id="407f4-154">Security best practices for Cloud POS in shared environments</span></span>](dev-itpro/secure-retail-cloud-pos.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
