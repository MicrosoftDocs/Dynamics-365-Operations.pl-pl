---
title: Wielokanałowe zaawansowane opłaty automatyczne
description: W tym temacie opisano możliwości zarządzania innymi opłatami za zamówienia dla zamówień w kanale Commerce przy użyciu zaawansowanych funkcji opłat automatycznych.
author: hhaines
ms.date: 03/30/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10
ms.openlocfilehash: 0eb1f112430005945b4f82b99ef9cc718c56de65
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022714"
---
# <a name="omni-channel-advanced-auto-charges"></a><span data-ttu-id="61dca-103">Wielokanałowe zaawansowane opłaty automatyczne</span><span class="sxs-lookup"><span data-stu-id="61dca-103">Omni-channel advanced auto charges</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="61dca-104">Ten temat zawiera informacje o konfiguracji i wdrażaniu funkcji zaawansowanych opłat automatycznych, które są dostępne w programie Dynamics 365 for Retail w wersji 10.0.</span><span class="sxs-lookup"><span data-stu-id="61dca-104">This topic provides information on configuration and deployment of the advanced auto charges features that are available in Dynamics 365 for Retail version 10.0.</span></span>

<span data-ttu-id="61dca-105">Po włączeniu funkcji zaawansowanych automatycznych opłat zamówienia utworzone w dowolnym obsługiwanym kanale Commerce (punkt sprzedaży (POS), biuro obsługi i w trybie online), można korzystać z [automatycznych opłat](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) zdefiniowanych w aplikacji ERP dla opłat dotyczących zarówno poziomu nagłówka, jak i wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-105">When the advanced auto charges features are enabled, orders created in any supported Commerce channel (point of sale (POS), call center, and online), can take advantage of the [auto charges](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) configurations defined in the ERP application for both header and line-level related charges.</span></span>

<span data-ttu-id="61dca-106">W programie Retail w wersjach wcześniejszych niż 10.0 konfiguracje [opłat automatycznych](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) są dostępne tylko dla zamówień utworzonych w kanałach e-commerce i biura obsługi.</span><span class="sxs-lookup"><span data-stu-id="61dca-106">In releases prior to Retail version 10.0, [auto charge](/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) configurations are only accessible by orders created in e-Commerce and call center channels.</span></span> <span data-ttu-id="61dca-107">W wersjach 10.0 i nowszych, zamówienia utworzone w punkcie sprzedaży mogą korzystać z konfiguracji automatycznych opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-107">In versions 10.0 and later, POS-created orders can use the auto charges configurations.</span></span> <span data-ttu-id="61dca-108">W ten sposób dodatkowe opłaty różne mogą być systematycznie dodawane do transakcji sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-108">That way, extra miscellaneous charges can systematically be added to sales transactions.</span></span>

<span data-ttu-id="61dca-109">W wersjach wcześniejszych niż 10.0 użytkownik POS otrzymuje monit o ręczne wprowadzenie opłaty transportowej podczas tworzenia transakcji POS „wyślij wszystko” lub „wyślij wybrane”.</span><span class="sxs-lookup"><span data-stu-id="61dca-109">When using releases prior to version 10.0, a POS user is prompted to manually enter a shipping fee during the creation of a "ship all" or "ship selected" POS transaction.</span></span> <span data-ttu-id="61dca-110">Podczas gdy funkcje aplikacji związane z opłatami różnymi są używane w odniesieniu do tego, jak opłaty są zapisywane na zamówieniu, żadne systemowe obliczenia nie są dostarczane — obliczenia polegają na danych podanych przez użytkownika do określenia wartości opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-110">While the miscellaneous charges capabilities of the application are utilized in respect to how the charges are written to the order, no systematic calculation is provided – the calculation relies on the user's input to determine the value of the charges.</span></span> <span data-ttu-id="61dca-111">Opłaty mogą być dodawane tylko jako jeden kod opłat „transportowych” i nie mogą być łatwo edytowalne ani zmieniane w POS po utworzeniu.</span><span class="sxs-lookup"><span data-stu-id="61dca-111">The charges can only be added as a single "shipping" related charges code and cannot easily be edited or changed in the POS after they are created.</span></span>

<span data-ttu-id="61dca-112">Ręczne monity do dodawania opłat transportowych są nadal dostępne w wersjach 10.0 i nowszych.</span><span class="sxs-lookup"><span data-stu-id="61dca-112">The use of manual prompts to add shipping charges is still available in versions 10.0 and later.</span></span> <span data-ttu-id="61dca-113">Jeśli organizacja nie obsługuje parametru **Zaawansowane opłaty automatyczne**, monity POS o ręczne wprowadzenie zostaną takie same.</span><span class="sxs-lookup"><span data-stu-id="61dca-113">If an organization does not enable the **Advanced Auto-charges** parameter, the POS prompts for manual entry of charges will remain the same.</span></span>

<span data-ttu-id="61dca-114">Dzięki funkcji zaawansowanych opłat automatycznych użytkownicy POS mogą korzystać z systemowych kalkulacji dla dowolnych zdefiniowanych opłat różnych na podstawie tabel konfiguracji opłat automatycznych.</span><span class="sxs-lookup"><span data-stu-id="61dca-114">With the advanced auto charges feature, POS users can have systematic calculations for any defined miscellaneous charges based on auto charges setup tables.</span></span> <span data-ttu-id="61dca-115">Ponadto użytkownicy będą mieli możliwość dodawania lub edytowania nieograniczonej liczby dodatkowych opłat i płatności do dowolnej transakcji sprzedaży w POS na poziomie nagłówka lub wiersza (dla transakcji kasowych i lub zamówień odbiorcy).</span><span class="sxs-lookup"><span data-stu-id="61dca-115">In addition, users will have the ability to add or edit an unlimited number of additional charges and fees to any POS sales transaction at the header or line-level (for a cash and carry or customer order).</span></span>

## <a name="enable-advanced-auto-charges"></a><span data-ttu-id="61dca-116">Włącz zaawansowane automatyczne opłaty</span><span class="sxs-lookup"><span data-stu-id="61dca-116">Enable advanced auto charges</span></span>

<span data-ttu-id="61dca-117">Na stronie **Sprzedaż detaliczna i komercyjna \> Ustawienia Headquarters \> Parametry \> Parametry sieci sprzedaży komercyjnej** przejdź na kartę **Zamówienia odbiorcy**. Na karcie skróconej **Opłaty** ustaw opcję **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-117">On the **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce parameters** page, go to the **Customer orders** tab. On the **Charges** FastTab, set **Use advanced auto-charges** to **Yes**.</span></span>

![Parametr zaawansowanych opłat automatycznych](media/advancedchargesparameter.png)

<span data-ttu-id="61dca-119">Po włączeniu zaawansowanych opłat automatycznych użytkownicy nie są już monitowani o ręczne wprowadzanie opłat transportowych na terminalu POS podczas tworzenia zamówienia odbiorcy „wyślij wszystko” lub „wyślij wybrane”.</span><span class="sxs-lookup"><span data-stu-id="61dca-119">When advanced auto charges are enabled, users are no longer prompted to manually enter a shipping charge at the POS terminal when creating a ship-all or ship-selected customer order.</span></span> <span data-ttu-id="61dca-120">Opłaty za zamówienie POS są systemowo obliczane i dodawane do transakcji POS (w przypadku znalezienia odpowiedniej tabeli opłat automatycznych pasującej do kryteriów tworzonego zamówienia).</span><span class="sxs-lookup"><span data-stu-id="61dca-120">POS order charges are systematically calculated and added to the POS transaction (if a corresponding auto charges table that matches the criterion of the order being created are found).</span></span> <span data-ttu-id="61dca-121">Użytkownik może również dodawać i obsługiwać opłaty na poziomie nagłówka lub wiersza ręcznie za pośrednictwem nowo dodanych operacji POS, które mogą być dodane do układów ekranu POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-121">Users can also add or maintain header or line-level charges manually through newly added POS operations that can be added to the POS screen layouts.</span></span>

<span data-ttu-id="61dca-122">Po włączeniu zaawansowanych opłat automatycznych, istniejące **Parametry sieci sprzedaży komercyjnej** dla **Kodu opłat transportowych** i **Zwrotu opłat transportowych** nie są używane.</span><span class="sxs-lookup"><span data-stu-id="61dca-122">When advanced auto charges are enabled, the existing **Commerce parameters** for **Shipping charges code** and **Refund shipping charges** are no longer utilized.</span></span> <span data-ttu-id="61dca-123">Parametry te mają zastosowanie tylko wtedy jeśli parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** ma wartość **Nie**.</span><span class="sxs-lookup"><span data-stu-id="61dca-123">These parameters are only applicable if the **Use advanced auto charges** parameter is set to **No**.</span></span>

<span data-ttu-id="61dca-124">Przed włączeniem tej funkcji należy upewnić się, że pracownicy przeszli szkolenie, ponieważ uruchomienie tej funkcji zmienia przepływ procesu biznesowego w odniesieniu do metody obliczania opłat transportowych i innych i ich dodawania do zamówień sprzedaży POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-124">Before you enable this feature, ensure that you have tested and trained your employees, as the enabled feature will change the business process flow of how shipping or other charges are calculated and added to POS sales orders.</span></span> <span data-ttu-id="61dca-125">Upewnij się, że rozumiesz wpływ przepływu procesu na tworzenie transakcji w POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-125">Make sure that you understand the impact of the process flow to the creation of transactions from POS.</span></span> <span data-ttu-id="61dca-126">W przypadku zamówień składanych przez biuro obsługi i w witrynie e-Commerce wpływ włączania zaawansowanych automatycznych opłat dodatkowych jest minimalny.</span><span class="sxs-lookup"><span data-stu-id="61dca-126">For call center and e-Commerce orders, the impact of enabling advanced auto charges is minimal.</span></span> <span data-ttu-id="61dca-127">Aplikacje biura obsługi i e-Commerce nadal będą zachowywać się tak samo jak wcześniej w odniesieniu do tabel automatycznych opłat dodatkowych do obliczenia dodatkowych opłat za zamówienia.</span><span class="sxs-lookup"><span data-stu-id="61dca-127">Call center and e-Commerce applications will continue to have the same behavior they have had historically related to the auto charges tables to calculate extra order fees.</span></span> <span data-ttu-id="61dca-128">Użytkownicy kanału biura obsługi będą nadal mieć możliwość ręcznej edycji dowolnych obliczonych przez system automatycznych opłat dodatkowych na poziomie nagłówka lub wiersza lub ręcznego dodawania dodatkowych opłat różnych na poziomie nagłówka lub wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-128">Call center channel users will continue to have the ability to manually edit any system calculated auto charges at the header or line level, or manually add additional miscellaneous charges at the header or line level.</span></span>

## <a name="add-pos-operations"></a><span data-ttu-id="61dca-129">Dodaj operacje POS</span><span class="sxs-lookup"><span data-stu-id="61dca-129">Add POS operations</span></span>

<span data-ttu-id="61dca-130">Aby zaawansowane automatyczne opłaty dodatkowe działały prawidłowo w środowisku aplikacji POS, dodano nowe operacje POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-130">For advanced auto charges to work properly in your POS application environment, new POS operations have been added.</span></span> <span data-ttu-id="61dca-131">Te operacje muszą być dodane do [układów ekranu POS](/dynamics365/unified-operations/retail/pos-screen-layouts) i wdrożone na urządzeniach POS razem z zaawansowanymi automatycznymi opłatami dodatkowymi.</span><span class="sxs-lookup"><span data-stu-id="61dca-131">These operations must be added to your [POS screen layouts](/dynamics365/unified-operations/retail/pos-screen-layouts) and deployed to the POS devices as you deploy advanced auto charges.</span></span> <span data-ttu-id="61dca-132">Jeśli te operacje nie zostaną dodane, użytkownicy nie będzie mogli zarządzać ani obsługiwać opłat dodatkowych w transakcjach POS i nie będą mogli korygować ani zmieniać wartości opłat dodatkowych, które są systematycznie obliczane na podstawie konfiguracji automatycznych opłat dodatkowych</span><span class="sxs-lookup"><span data-stu-id="61dca-132">If these operations are not added, users will not be able to manage or maintain miscellaneous charges on the POS transactions and will have no way of adjusting or changing the charges values that are systematically calculated based on auto charges configurations.</span></span> <span data-ttu-id="61dca-133">Co najmniej zaleca się wdrożenie operacji **Zarządzaj opłatami dodatkowymi** do układu POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-133">At minimum, it is suggested that you deploy the **Manage charges** operation to your POS layout.</span></span>

<span data-ttu-id="61dca-134">Oto nowe operacje:</span><span class="sxs-lookup"><span data-stu-id="61dca-134">The new operations are as follows.</span></span>

- <span data-ttu-id="61dca-135">**142 — Zarządzaj opłatami dodatkowymi** — umożliwia użytkownikom POS wyświetlanie i edytowanie opłat dodatkowych dla transakcji w POS, które zostały dodane ręcznie lub systemowo przy użyciu obliczeń automatycznych opłat dodatkowych.</span><span class="sxs-lookup"><span data-stu-id="61dca-135">**142 - Manage charges** – Use this operation to allow POS users to view and edit miscellaneous charges for the POS transaction that were either added manually or systematically through auto charges calculations.</span></span>
- <span data-ttu-id="61dca-136">**141 — Dodaj opłaty na poziomie nagłówka** — umożliwia użytkownikowi ręcznie dodawanie opłaty dodatkowej na poziomie nagłówka do dowolnej transakcji POS (i wybranie kodu opłaty, który ma zostać użyty).</span><span class="sxs-lookup"><span data-stu-id="61dca-136">**141 - Add header charges** – Use this operation to give the user the ability to manually add a header-level miscellaneous charge to any POS sales transaction (and select the charges code to be used).</span></span>
- <span data-ttu-id="61dca-137">**140 — Dodaj opłaty na poziomie wiersza** — umożliwia użytkownikowi ręcznie dodawanie opłaty dodatkowej na poziomie wiersza do dowolnego wiersza transakcji POS (i wybranie kodu opłaty, który ma zostać użyty).</span><span class="sxs-lookup"><span data-stu-id="61dca-137">**140 - Add line charges** – Use this operation to give the user the ability to manually add a line level miscellaneous charge to any POS sales transaction line (and select the charges code to be used).</span></span>
- <span data-ttu-id="61dca-138">**143 — Oblicz ponownie opłaty** — umożliwia wykonanie pełnego ponownego obliczania opłat dla transakcji sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-138">**143 - Recalculate charges** – Use this operation to perform a full recalculation of the charges for the sales transaction.</span></span> <span data-ttu-id="61dca-139">Wszystkie wcześniej zastąpione przez użytkownika automatyczne opłaty dodatkowe zostaną przeliczone na podstawie bieżącej konfiguracji koszyka.</span><span class="sxs-lookup"><span data-stu-id="61dca-139">Any previously user-overwritten auto charges will be recalculated based on the current cart configuration.</span></span>

<span data-ttu-id="61dca-140">Tak jak w przypadku wszystkie operacji POS konfiguracja zabezpieczeń może również wymagać zatwierdzenia menedżera w celu wykonania operacji.</span><span class="sxs-lookup"><span data-stu-id="61dca-140">As with all POS operations, security configurations can be made to require manager approval in order to execute the operation.</span></span>

<span data-ttu-id="61dca-141">Należy zwrócić uwagę, że powyżej wymienione operacje punktu sprzedaży można również dodawać do układu punktu sprzedaży nawet wtedy, gdy jest wyłączony parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych**.</span><span class="sxs-lookup"><span data-stu-id="61dca-141">It is important to note that the above listed POS operations can also be added to the POS layout even if the **Use advanced auto-charges** parameter is disabled.</span></span> <span data-ttu-id="61dca-142">W tym scenariuszu, organizacje będą nadal korzystać z dodanych udogodnień w postaci możliwości wyświetlenia recznie dodanych opłat i edytowania ich za pomocą operacji **Zarządzaj opłatami**.</span><span class="sxs-lookup"><span data-stu-id="61dca-142">In this scenario, organizations will still get added benefits of being able to view manually added charges and edit them using the **Manage charges** operation.</span></span> <span data-ttu-id="61dca-143">Użytkownicy mogą również korzystać z operacji **Dodaj opłaty z nagłówka** i **dodaj opłaty z wiersza** dla transakcji w punkcie sprzedaży, nawet wówczas, gdy jest wyłączony parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych**.</span><span class="sxs-lookup"><span data-stu-id="61dca-143">Users may also use the **Add header charges** and **Add line charges** operations for POS transactions even when **Use advanced auto-charges** parameter is disabled.</span></span> <span data-ttu-id="61dca-144">Operacja **Ponownie Oblicz opłaty** ma mniej funkcji, kiedy parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** jest wyłączony.</span><span class="sxs-lookup"><span data-stu-id="61dca-144">The **Recalculate charges** operation has less functionality if used when **Use advanced auto-charges** is disabled.</span></span> <span data-ttu-id="61dca-145">W tym scenariuszu nie będziemy niczego ponownie przeliczać, a opłaty dodane ręcznie do transakcji zostaną zresetowane do wartości $0.00.</span><span class="sxs-lookup"><span data-stu-id="61dca-145">In this scenario, nothing would be recalculated and any charges manually added to the transaction would just reset to $0.00.</span></span>

## <a name="use-case-examples"></a><span data-ttu-id="61dca-146">Przykłady zastosowania</span><span class="sxs-lookup"><span data-stu-id="61dca-146">Use case examples</span></span>

<span data-ttu-id="61dca-147">W tej sekcji pokazano przykładu zastosowania, które pomogą zrozumieć konfigurację i używać automatycznych opłat dodatkowych i opłat różnych w kontekście zamówień w kanale.</span><span class="sxs-lookup"><span data-stu-id="61dca-147">In this section, sample use cases are presented to help you understand the configuration and usage of auto charges and miscellaneous charges within the context of channel orders.</span></span> <span data-ttu-id="61dca-148">Następujące przykłady przedstawiają sposób działania aplikacji po włączeniu parametru **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych**.</span><span class="sxs-lookup"><span data-stu-id="61dca-148">These examples illustrate the behavior of the application when the **Use advanced auto-charges** parameter has been enabled.</span></span>

### <a name="auto-charges-header-charges-example"></a><span data-ttu-id="61dca-149">Przykład automatycznych opłat dodatkowych na poziomie nagłówka</span><span class="sxs-lookup"><span data-stu-id="61dca-149">Auto charges header charges example</span></span>

#### <a name="use-case-scenario"></a><span data-ttu-id="61dca-150">Scenariusz użycia</span><span class="sxs-lookup"><span data-stu-id="61dca-150">Use case scenario</span></span>

<span data-ttu-id="61dca-151">Sprzedawca chce automatycznie dodać opłaty za transport podczas tworzenia transakcji w dowolnym kanale Commerce, który wymaga wysyłki produktów do odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="61dca-151">A retailer wants to automatically add charges for freight when transactions are created in any Commerce channel that require a shipment of products to the customer.</span></span> <span data-ttu-id="61dca-152">Sprzedawca oferuje dwie metody dostawy: drogą lądową i powietrzną.</span><span class="sxs-lookup"><span data-stu-id="61dca-152">The retailer offers two methods of delivery: Ground and Air.</span></span> <span data-ttu-id="61dca-153">Jeśli odbiorca wybierze dostawę drogą lądową, a wartość zamówienia jest mniejsza niż $100, sprzedawca chce naliczać opłatę transportową $10,00.</span><span class="sxs-lookup"><span data-stu-id="61dca-153">If a customer chooses Ground delivery and the order value is less than $100, the retailer wants to charge the customer a freight charge of $10.00.</span></span> <span data-ttu-id="61dca-154">Jeśli wartość zamówienia przekracza $100 i odbiorca wybierz dostawę drogą lądową, odbiorca nie zostanie obciążony żadnymi dodatkowymi opłatami transportowymi.</span><span class="sxs-lookup"><span data-stu-id="61dca-154">If the order is over $100 in value and the customer chooses ground shipping, the customer will not be charged any extra freight fees.</span></span> <span data-ttu-id="61dca-155">Jeśli odbiorca zdecyduje się na transport lotniczy dla wszystkich zleceń, niezależnie od ich łącznej wartości zostanie naliczona opłata transportowa w wysokości $20.00.</span><span class="sxs-lookup"><span data-stu-id="61dca-155">If the customer chooses the Air method of delivery for all orders, regardless of their total value, will be charged a freight fee of $20.00.</span></span>

#### <a name="setup-and-configuration"></a><span data-ttu-id="61dca-156">Instalacja i konfiguracja</span><span class="sxs-lookup"><span data-stu-id="61dca-156">Setup and configuration</span></span>

<span data-ttu-id="61dca-157">Ten scenariusz wymaga wcześniejszego skonfigurowania dwóch tabel automatycznych opłat dodatkowych.</span><span class="sxs-lookup"><span data-stu-id="61dca-157">This scenario requires the configuration of two auto charges tables.</span></span>

<span data-ttu-id="61dca-158">Wybierz kolejno opcje **Rozrachunki z odbiorcami \> Ustawienia opłat \> Opłaty automatyczne**.</span><span class="sxs-lookup"><span data-stu-id="61dca-158">Go to **Accounts receivable \> Charges setup \> Auto charges**.</span></span>

<span data-ttu-id="61dca-159">Konfigurowanie dwóch różnych automatycznych opłat na poziomie nagłówka.</span><span class="sxs-lookup"><span data-stu-id="61dca-159">Configure two different header-level auto charges.</span></span> <span data-ttu-id="61dca-160">Skonfiguruj jedną opłatę dla „dostawy lądowej” i drugą dla „dostawy lotniczej”.</span><span class="sxs-lookup"><span data-stu-id="61dca-160">Configure one for the "Ground mode" of delivery and one for the "Air mode" of delivery.</span></span> <span data-ttu-id="61dca-161">W tym scenariuszu skonfigurujemy je do użycia dla „Wszystkich odbiorców”.</span><span class="sxs-lookup"><span data-stu-id="61dca-161">For this scenario, configure them to be used for "All customers".</span></span>

<span data-ttu-id="61dca-162">Dla opłaty za dostawę lądową w sekcji wierszy na stronie **Opłaty automatyczne** zdefiniuj opłatę $10.00. , która zostanie zastosowana do zleceń o wartości od $0,01 do $100.</span><span class="sxs-lookup"><span data-stu-id="61dca-162">For the ground delivery charges, in the lines section of the **Auto-charges** page, define a charge that will be applied for orders between $.01 and $100 as $10.00.</span></span> <span data-ttu-id="61dca-163">Utwórz kolejny wiersz opłaty dla zamówień o wartości powyżej $100.01, dla których nie będą naliczane żaden opłaty.</span><span class="sxs-lookup"><span data-stu-id="61dca-163">Create another charges line to indicate orders over $100.01 will have no charges.</span></span>

![Przykład dwóch tabel opłat automatycznych](media/headerchargesexample.png)

<span data-ttu-id="61dca-165">Dla opłaty za dostawę lotniczą w sekcji wierszy na stronie opłat automatycznych zdefiniuj opłatę $20.00, która zostanie zastosowana do wszystkich zleceń (o wartości od $0,01 to $9 999 999).</span><span class="sxs-lookup"><span data-stu-id="61dca-165">For the air delivery charges, in the lines section of the auto charges form, define a charge of $20.00 that will be applied to all orders (between a value of $.01 to $9,999,999).</span></span>

<span data-ttu-id="61dca-166">Wyślij zmiany do bazy danych kanału/Commerce Scale Unit, aby można było używać ich w POS za pomocą zadania **Harmonogram dystrybucji 1040**.</span><span class="sxs-lookup"><span data-stu-id="61dca-166">Send the changes to the Commerce Scale Unit/Channel DB so that the POS can utilize them by running the **1040 distribution schedule** job.</span></span>

#### <a name="sales-processing-for-this-scenario"></a><span data-ttu-id="61dca-167">Przetwarzanie sprzedaży w tym scenariuszu</span><span class="sxs-lookup"><span data-stu-id="61dca-167">Sales processing for this scenario</span></span>

<span data-ttu-id="61dca-168">Po wykonaniu powyższej procedury konfiguracyjnej i zastosowaniu zmian do bazy danych kanału, wszelkie zamówienia odbiorcy lub transakcje sprzedaży utworzone w POS, biurze sprzedaży lub kanałach e-Commerce, które mają dostawę lądową lub lotniczą ustawioną na poziomie nagłówka, będą używać tych opłat i stosować je do sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-168">After the configuration steps above are complete and the changes have been applied to the channel database, any customer order or sales transaction created in the POS, call center, or e-Commerce channels that have the ground or air delivery methods set at the header level will utilize these charges and automatically apply them to the sale.</span></span>

<span data-ttu-id="61dca-169">Obecnie opłaty będą stosowane do wszystkich transakcji sprzedaży utworzonych w obrębie firmy korzystającej z tych metod dostawy, ponieważ nie ma w tej chwili funkcji, która pozwalałaby przydzielić konfigurację automatycznych opłat dodatkowych tylko do określonego kanału sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-169">At this time, the charges will apply to all sales transactions created within the legal entity that utilize these delivery modes, as there is no functionality to designate that an auto charge configuration will only apply to a specific selling channel.</span></span>

<span data-ttu-id="61dca-170">W scenariuszach POS i e-Commerce, ponieważ nie istnieje żaden ściśle określony „nagłówek” na tych zamówieniach, opłaty na poziomie nagłówka będą miały zastosowanie tylko jeśli wszystkie wiersze sprzedaży w odniesieniu do transakcji mają identyczną metodą dostawy.</span><span class="sxs-lookup"><span data-stu-id="61dca-170">For POS and e-Commerce scenarios, because there is no clearly defined "header" on these orders, header-level charges will only apply if all sales lines on the transaction are set to ship with the exact same mode of delivery.</span></span> <span data-ttu-id="61dca-171">W przypadku „mieszanej metody” realizacji transakcji utworzonych w POS lub e-Commerce, tylko automatyczne opłaty na poziomie wiersza będą brane pod uwagę i stosowane.</span><span class="sxs-lookup"><span data-stu-id="61dca-171">If there are "mixed-modes" of fulfillment on the transactions created by POS or e-Commerce, only line-level auto charges will be considered and applied.</span></span>

<span data-ttu-id="61dca-172">W scenariuszach biura obsługi użytkownik ma kontrolę nad ustawieniem metody dostawy w nagłówku zamówienia, więc opłaty na poziomie nagłówka będą dotyczyć tych zamówień nawet wtedy, gdy niektóre wiersze sprzedaży zostały skonfigurowane z innym trybem dostawy.</span><span class="sxs-lookup"><span data-stu-id="61dca-172">In call center scenarios, the user has control over the setting of the delivery mode at the order header, therefore header-level charges will apply for these orders even if some of the sales lines have been configured to use a different mode of delivery.</span></span> <span data-ttu-id="61dca-173">Opłaty na poziomie nagłówka dla zamówień w biurze obsługi zawsze będą oparte na trybie dostawy, który jest zdefiniowany na poziomie nagłówka zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-173">Header-level charges for call center orders will always be based on the mode of delivery that is defined at the order header level of the sales order.</span></span>

### <a name="auto-charges-line-charges-example"></a><span data-ttu-id="61dca-174">Przykład automatycznych opłat dodatkowych na poziomie wiersza</span><span class="sxs-lookup"><span data-stu-id="61dca-174">Auto charges line charges example</span></span>

#### <a name="use-case-scenario"></a><span data-ttu-id="61dca-175">Scenariusz użycia</span><span class="sxs-lookup"><span data-stu-id="61dca-175">Use case scenario</span></span> 

<span data-ttu-id="61dca-176">Sprzedawca chce dodać dodatkową opłatę dla odbiorcy za konfigurację, gdy odbiorca kupuje konkretny model komputera.</span><span class="sxs-lookup"><span data-stu-id="61dca-176">A retailer wants to add an extra charge to the customer for setup fees when the customer purchases a particular model of computer.</span></span> <span data-ttu-id="61dca-177">Ten komputer wymaga dodatkowej konfiguracji, która nie jest opcjonalna i którą sprzedawca wykona dla odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="61dca-177">This computer requires additional non-optional setup actions that the retailer will perform for the customer.</span></span> <span data-ttu-id="61dca-178">Sprzedawca poinformował odbiorców, że za tę konfigurację naliczana jest dodatkowa opłata.</span><span class="sxs-lookup"><span data-stu-id="61dca-178">The retailer has informed customers that there will be an additional fee for this setup.</span></span> <span data-ttu-id="61dca-179">Sprzedawca woli zarządzać opłatami związanymi z tą opłatą oddzielnie od ceny sprzedaży produktu ze względu na wymagania sprawozdawczości finansowej.</span><span class="sxs-lookup"><span data-stu-id="61dca-179">The retailer prefers to manage the charges related to this fee separately from the product sales price for financial reporting purposes.</span></span> <span data-ttu-id="61dca-180">Opłata za konfigurację wynosi $19,99 i odbiorca zostania nią obciążony w chwili zakupu tego komputera w dowolnym kanale.</span><span class="sxs-lookup"><span data-stu-id="61dca-180">A setup fee of $19.99 will be charged to the customer when this specific computer is purchased in any channel.</span></span>

#### <a name="setup-and-configuration"></a><span data-ttu-id="61dca-181">Instalacja i konfiguracja</span><span class="sxs-lookup"><span data-stu-id="61dca-181">Setup and configuration</span></span>

<span data-ttu-id="61dca-182">Ten scenariusz wymaga wcześniejszego skonfigurowania tabeli automatycznych opłat dodatkowych na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-182">This scenario requires the configuration of one line-level auto charges table.</span></span>

<span data-ttu-id="61dca-183">Wybierz kolejno opcje **Rozrachunki z odbiorcami \> Ustawienia opłat \> Opłaty automatyczne**.</span><span class="sxs-lookup"><span data-stu-id="61dca-183">Go to **Accounts Receivable \> Charges setup \> Auto charges**.</span></span>

<span data-ttu-id="61dca-184">W menu rozwijanym **Poziom** wybierz wartość **Wiersz** i utwórz nowy rekord automatycznej opłaty dodatkowej dla wszystkich odbiorców i dla konkretnego produktu lub grupy produktów, w których będzie naliczana opłata konfiguracyjna.</span><span class="sxs-lookup"><span data-stu-id="61dca-184">Set the **Level** drop-down menu to **Line**, and create a new auto charges record for all customers and for the specific product or product group where the setup fees will be charged.</span></span>

![Przykład tabeli automatycznego naliczania opłat na poziomie wiersza](media/linechargesexample.png)

<span data-ttu-id="61dca-186">Wyślij opłaty do bazy danych kanału/Commerce Scale Unit, aby można było używać ich w POS za pomocą zadania **Harmonogram dystrybucji 1040**.</span><span class="sxs-lookup"><span data-stu-id="61dca-186">Send the charges to the Commerce Scale Unit/Channel DB so that the POS can utilize them by running the **1040 distribution schedule** job.</span></span>

#### <a name="sales-processing-for-this-scenario"></a><span data-ttu-id="61dca-187">Przetwarzanie sprzedaży w tym scenariuszu</span><span class="sxs-lookup"><span data-stu-id="61dca-187">Sales processing for this scenario</span></span>

<span data-ttu-id="61dca-188">Po wykonaniu powyższej procedury konfiguracyjnej i zastosowaniu zmian do bazy danych kanału, wszelkie zamówienia odbiorcy lub transakcje sprzedaży utworzone w POS, biurze sprzedaży lub kanałach e-Commerce, które mają tę pozycję na zamówieniu, będą uruchamiały opłatę na poziomie wiersza, która będzie systemowo dodawana do sumy zamówienia.</span><span class="sxs-lookup"><span data-stu-id="61dca-188">After the configurations steps above are complete and the changes have been applied to the channel database, any customer order or sales transaction created in the POS, call center, or e-Commerce channels that have this item on the order will trigger a line-level charge to be systematically added to the order total.</span></span>

<span data-ttu-id="61dca-189">Obecnie opłaty będą stosowane do wszystkich wierszy sprzedaży pasujących do konfiguracji automatycznych opłat dodatkowych na poziomie wiersza w obrębie firmy, ponieważ nie ma w tej chwili funkcji, która pozwalałaby skonfigurować automatyczne opłaty dodatkowe w taki sposób, aby miały zastosowanie do określonego kanału sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-189">At this time, the charges will apply to any sales line that matches the configuration of the line-level auto charges within the legal entity, as there is no functionality to configure a line-level auto charge to apply only to a specific selling channel.</span></span>

### <a name="manual-header-charges-example"></a><span data-ttu-id="61dca-190">Przykład opłat ręcznych na poziomie nagłówka</span><span class="sxs-lookup"><span data-stu-id="61dca-190">Manual header charges example</span></span>

#### <a name="use-case-scenario-description"></a><span data-ttu-id="61dca-191">Opis scenariusza użycia</span><span class="sxs-lookup"><span data-stu-id="61dca-191">Use case scenario description</span></span>

<span data-ttu-id="61dca-192">Sprzedawca robi wyjątek od typowych procesów, oferując specjalną dostawę do domu produktów odbiorcom, którzy zamówili produkty w sklepie.</span><span class="sxs-lookup"><span data-stu-id="61dca-192">A retailer is making an exception to typical processes by offering to provide a special home delivery of products to customers who order products in the store.</span></span> <span data-ttu-id="61dca-193">Sprzedawca i odbiorca zgadzają się, odbiorca zapłaci dodatkowe $25 opłaty za tę usługę.</span><span class="sxs-lookup"><span data-stu-id="61dca-193">The retailer and the customer have agreed that the customer will pay an additional $25 handling fee for this service.</span></span> <span data-ttu-id="61dca-194">Osoba przyjmująca zamówienie musi dodać tę opłatę dodatkową do transakcji.</span><span class="sxs-lookup"><span data-stu-id="61dca-194">The order-taker needs to add this additional fee to the transaction.</span></span> <span data-ttu-id="61dca-195">Ponieważ opłata jest opłatą zbiorczą i nie jest związana z żadnym jednym produktem na zamówieniu, zostanie zastosowana opłata na poziomie nagłówka.</span><span class="sxs-lookup"><span data-stu-id="61dca-195">Because the fee is a blanket fee and not related to any single product on the order, a header charge will be utilized.</span></span>

#### <a name="setup-and-configuration"></a><span data-ttu-id="61dca-196">Instalacja i konfiguracja</span><span class="sxs-lookup"><span data-stu-id="61dca-196">Setup and configuration</span></span>

<span data-ttu-id="61dca-197">Upewnij się, kod opłat, który będzie używany w tym scenariuszu, został poprawnie skonfigurowany w **Rozrachunki z odbiorcami \> Ustawienia opłat \> Opłaty**, aby zdefiniować odpowiedni kod opłat dla tego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="61dca-197">Ensure the charges code that will be used in this scenario has been properly configured by going to **Accounts Receivable \> Charges setup \> Charges** to define an appropriate charges code for the scenario.</span></span>

![Przykład opłat](media/chargesexample.png)

<span data-ttu-id="61dca-199">Jeśli opłata powinna być traktowana jako opłata związana z „wysyłką” do celów związanych rabatami wysyłkowymi lub promocjami, ustaw **Opłatę wysyłkową** w kodzie opłaty na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-199">If the charge should be considered a "shipping" related charge for the purpose of shipping related discounts or promotions, set **Shipping charge** on the charges code to **Yes**.</span></span> <span data-ttu-id="61dca-200">Jeśli ta opłata jest również dozwolona do systemowego zwrotu podczas przetwarzania transakcji zwrotu w aplikacji POL, ustaw **Zwrot** na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-200">If this charge is also allowed to be systematically refunded during the processing of a return transaction in the POS application, set **Refundable** to **Yes**.</span></span> <span data-ttu-id="61dca-201">Flaga **Zwrot** ma zastosowanie tylko wtedy, gdy parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** ma wartość **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-201">The **Refundable** flag is only applicable when the **Use advanced auto-charges** parameter is set to **Yes**.</span></span>

<span data-ttu-id="61dca-202">Wyślij opłaty do bazy danych kanału/Commerce Scale Unit, aby można było używać ich w POS za pomocą zadania **Harmonogram dystrybucji 1040**.</span><span class="sxs-lookup"><span data-stu-id="61dca-202">Send the charges to the Commerce Scale Unit/Channel DB so that the POS can utilize them by running the **1040 distribution schedule** job.</span></span>

<span data-ttu-id="61dca-203">Operacja **Dodaj opłaty z nagłówka** musi być skonfigurowana w [układzie ekranu POS](/dynamics365/unified-operations/retail/pos-screen-layouts), aby przycisk dostępny dla użytkownika z poziomu POS mógł wywoływać tę operację (operacja 141).</span><span class="sxs-lookup"><span data-stu-id="61dca-203">The **Add header charge** operation must be configured in your [POS screen layout](/dynamics365/unified-operations/retail/pos-screen-layouts) so that a button that is accessible to the user from POS can call this operation (operation 141).</span></span> <span data-ttu-id="61dca-204">Zmiany układu ekranu muszą być rozdzielone do kanału, jak również za pomocą funkcji harmonogramu dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="61dca-204">The screen layout changes must be distributed to the channel as well through the distribution schedule function.</span></span>

#### <a name="sales-processing-of-manual-header-charges"></a><span data-ttu-id="61dca-205">Przetwarzanie sprzedaży ręcznych opłat na poziomie nagłówka</span><span class="sxs-lookup"><span data-stu-id="61dca-205">Sales processing of manual header charges</span></span>

<span data-ttu-id="61dca-206">Do wykonania tego scenariusza w aplikacji POS, użytkownik POS musi utworzyć transakcję sprzedaży w zwykły sposób, dodając produkty i wszelkie inne konfiguracje do sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-206">To execute the scenario in the POS application, the POS user will create the sales transaction as usual, adding the products and any other configurations to the sale.</span></span> <span data-ttu-id="61dca-207">Przed pobraniem płatności użytkownik powinien wykonać operację **Dodaj opłatę na poziomie nagłówka**, która będzie monitować użytkownika o wybranie kodu opłat i wprowadzenie wartości opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-207">Prior to collecting payment, the user should execute the **Add header charge** operation, which will prompt the user to select a charges code and enter the charges value.</span></span> <span data-ttu-id="61dca-208">Gdy użytkownik zakończy ten proces, opłata zostanie dodana do zamówienia sprzedaży jako opłata na poziomie nagłówka.</span><span class="sxs-lookup"><span data-stu-id="61dca-208">Once the user completes the process, the charge will be added to the sales order as a header-level charge.</span></span>

<span data-ttu-id="61dca-209">Ten proces może być zastosowany w biurze obsługi za pomocą istniejącej funkcji **Opłaty** na karcie **Sprzedaż** na pasku narzędzi.</span><span class="sxs-lookup"><span data-stu-id="61dca-209">This process can be applied in the call center by using the existing **Charges** feature found on the **Sell** tab on the toolbar.</span></span> <span data-ttu-id="61dca-210">Na karcie **Obsługa opłat** użytkownik może dodać nowy wiersz opłaty do nagłówka zamówienia.</span><span class="sxs-lookup"><span data-stu-id="61dca-210">On the **Maintain charges** page, the user can add a new charges line to the order header.</span></span>

### <a name="manual-line-charges-example"></a><span data-ttu-id="61dca-211">Przykład opłat ręcznych na poziomie wiersza</span><span class="sxs-lookup"><span data-stu-id="61dca-211">Manual line charges example</span></span>

#### <a name="use-case-scenario"></a><span data-ttu-id="61dca-212">Scenariusz użycia</span><span class="sxs-lookup"><span data-stu-id="61dca-212">Use case scenario</span></span>

<span data-ttu-id="61dca-213">Odbiorca poprosił o zapakowanie na prezent dwa z pięciu towarów z zamówienia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-213">A customer has requested that two of the five items on their sales order be gift-wrapped.</span></span> <span data-ttu-id="61dca-214">Sprzedawca oferuje taką usługę za opłatą $2,00 za przedmiot.</span><span class="sxs-lookup"><span data-stu-id="61dca-214">The retailer offers this optional service for a fee of $2.00 per item.</span></span> <span data-ttu-id="61dca-215">Osoba przyjmująca zamówienie musi dodać te opłaty do określonego towaru, które muszą zostać zapakowane na prezent.</span><span class="sxs-lookup"><span data-stu-id="61dca-215">The order-taker will need to add these fees to the specific items that need to be gift-wrapped.</span></span>

#### <a name="setup-and-configuration"></a><span data-ttu-id="61dca-216">Instalacja i konfiguracja</span><span class="sxs-lookup"><span data-stu-id="61dca-216">Setup and configuration</span></span>

<span data-ttu-id="61dca-217">Upewnij się, kod opłat, który będzie używany w tym scenariuszu, został poprawnie skonfigurowany w **Rozrachunki z odbiorcami \> Ustawienia opłat \> Opłaty**, aby zdefiniować odpowiedni kod opłat dla tego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="61dca-217">Ensure the charges code that will be used in this scenario has been properly configured by going to **Accounts Receivable \> Charges setup \> Charges** to define an appropriate charges code for the scenario.</span></span>

<span data-ttu-id="61dca-218">Jeśli opłata powinna być traktowana jako opłata związana z „wysyłką” do celów związanych rabatami wysyłkowymi lub promocjami, ustaw **Opłatę wysyłkową** w kodzie opłaty na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-218">If the charge should be considered a "shipping" related charge for the purpose of shipping related discounts or promotions, set the **Shipping charge** on the charges code to **Yes**.</span></span> <span data-ttu-id="61dca-219">Jeśli ta opłata jest również dozwolona do systemowego zwrotu podczas przetwarzania transakcji zwrotu w aplikacji POL, ustaw **Zwrot** na **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-219">If the charge is also allowed to be systematically refunded during the processing of a return transaction in the POS application, set **Refundable** to **Yes**.</span></span> <span data-ttu-id="61dca-220">Flaga **Zwrot** ma zastosowanie tylko wtedy, gdy parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** ma wartość **Tak**.</span><span class="sxs-lookup"><span data-stu-id="61dca-220">The **Refundable** flag is only applicable when the **Use advanced auto-charges** parameter is set to **Yes**.</span></span>

<span data-ttu-id="61dca-221">Wyślij opłaty do bazy danych kanału/Commerce Scale Unit, aby można było używać ich w POS za pomocą zadania **Harmonogram dystrybucji 1040**.</span><span class="sxs-lookup"><span data-stu-id="61dca-221">Send the charges to the Commerce Scale Unit/Channel DB so that the POS can utilize them by running the **1040 distribution schedule** job.</span></span>

<span data-ttu-id="61dca-222">Operacja **Dodaj opłaty z wiersza** musi być skonfigurowana w [układzie ekranu POS](/dynamics365/unified-operations/retail/pos-screen-layouts), aby przycisk dostępny dla użytkownika z poziomu POS mógł wywoływać tę operację (operacja 140).</span><span class="sxs-lookup"><span data-stu-id="61dca-222">The **Add line charge** operation must be configured in your [POS screen layout](/dynamics365/unified-operations/retail/pos-screen-layouts) so that a button that is accessible to the user from POS can call this operation (operation 140).</span></span> <span data-ttu-id="61dca-223">Zmiany układu ekranu muszą być rozdzielone do kanału, jak również za pomocą funkcji harmonogramu dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="61dca-223">The screen layout changes must be distributed to the channel as well through the distribution schedule function.</span></span>

#### <a name="sales-processing-of-the-manual-line-charge"></a><span data-ttu-id="61dca-224">Przetwarzanie sprzedaży ręcznej opłaty na poziomie wiersza</span><span class="sxs-lookup"><span data-stu-id="61dca-224">Sales processing of the manual line charge</span></span>

<span data-ttu-id="61dca-225">Do wykonania tego scenariusza w aplikacji POS, użytkownik POS musi utworzyć transakcję sprzedaży w zwykły sposób, dodając produkty i wszelkie inne konfiguracje do sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-225">To execute the scenario in the POS application, the POS user will create the sales transaction as usual, adding the products and any other configurations to the sale.</span></span> <span data-ttu-id="61dca-226">Przed pobieraniem płatności użytkownik powinien wybrać określony wiersz, w którym będą stosowane opłaty z listy pozycji POS i wykonać operację **Dodaj opłatę na poziomie wiersza**.</span><span class="sxs-lookup"><span data-stu-id="61dca-226">Prior to collecting payment, the user should select the specific line where the charge will apply from the POS item list display and execute the **Add line charge** operation.</span></span> <span data-ttu-id="61dca-227">Użytkownik zobaczy monit o wybranie kod opłaty i wprowadzenie wartości opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-227">The user will be prompted to select a charges code and enter the charges value.</span></span> <span data-ttu-id="61dca-228">Gdy użytkownik zakończy ten proces, opłata zostanie połączona z wierszem i dodana do sumy zamówienia jako opłata na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-228">Once the user completes the process, the charge will be linked to the line and added to the order total as a line level charge.</span></span> <span data-ttu-id="61dca-229">Użytkownik może powtórzyć ten proces, aby dodać opłaty dodatkowe na poziomie wiersza do innych wierszy towarów w ramach transakcji, jeśli jest taka potrzeba.</span><span class="sxs-lookup"><span data-stu-id="61dca-229">The user can repeat the process to add more line charges to other items lines on the transaction if needed.</span></span>

<span data-ttu-id="61dca-230">Ten sam proces można zastosować w biurze obsługi za pomocą funkcji „Obsługa opłat” dostępnych na liście menu rozwijanego **Finanse** w sekcji **Wiersze zamówienia sprzedaży** na stronie **Zamówienie sprzedaży**.</span><span class="sxs-lookup"><span data-stu-id="61dca-230">The same process can be applied in the call center by using the "maintain charges" feature found under the **Financials** drop-down menu in the **Sales order lines** section on the **Sales order** page.</span></span> <span data-ttu-id="61dca-231">Wybranie tej opcji spowoduje otwarcie strony **Obsługa opłat**, na której użytkownik może dodać do transakcji nową opłatę specyficzną dla wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-231">Selecting this option will open the **Maintain charges** page where the user can add a new line-specific charge to the transaction.</span></span>

## <a name="additional-features"></a><span data-ttu-id="61dca-232">Dodatkowe funkcje</span><span class="sxs-lookup"><span data-stu-id="61dca-232">Additional features</span></span>

### <a name="editing-charges-on-a-pos-sales-transaction"></a><span data-ttu-id="61dca-233">Edytowanie opłat na transakcji sprzedaży POS</span><span class="sxs-lookup"><span data-stu-id="61dca-233">Editing charges on a POS sales transaction</span></span>

<span data-ttu-id="61dca-234">Operacja **Zarządzaj opłatami dodatkowymi** (142) powinna zostać dodana do [układu ekranu POS](/dynamics365/unified-operations/retail/pos-screen-layouts), aby umożliwić wyświetlanie i edytowanie lub zastępowanie wszelkich opłat na poziomie nagłówka lub wiersza obliczanych przez system lub ręcznie.</span><span class="sxs-lookup"><span data-stu-id="61dca-234">The **Manage charges** operation (142) should be added to the [POS screen layout](/dynamics365/unified-operations/retail/pos-screen-layouts) so that a user can view and edit or override any system-calculated or manually created header or line-level charges.</span></span> <span data-ttu-id="61dca-235">Jeśli operacja nie zostanie dodana, użytkownicy nie będą mogli zmienić wartości opłat w transakcji POS ani wyświetlać szczegółów opłat, takich jak typ kodu opłaty powiązany z opłatą.</span><span class="sxs-lookup"><span data-stu-id="61dca-235">If the operation is not added, users will not be able to adjust the value of the charges on the POS transaction, nor will they be able to view the details of the charges such as the type of charges code tied to the charge.</span></span>

<span data-ttu-id="61dca-236">Na stronie **Zarządzaj opłatami dodatkowymi** w POS użytkownik może wyświetlić zarówno nagłówek, jak i szczegóły opłaty na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="61dca-236">On the **Manage charges** page in POS, the user can view both header and line-level charges details.</span></span> <span data-ttu-id="61dca-237">Użytkownik może użyć funkcji **Edytuj** na tej stronie, aby wprowadzić zmiany do kwoty pobieranej z konkretnego wiersza opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-237">The user can use the **Edit** function available on this page to make changes to the amount charged to a specific charges line.</span></span> <span data-ttu-id="61dca-238">Po ręcznym nadpisaniu wiersza opłat nie będzie on systemowo obliczany ponownie, chyba że użytkownik zainicjuje operację **Ponownie oblicz opłaty**.</span><span class="sxs-lookup"><span data-stu-id="61dca-238">Once a charges line is overwritten manually, it will not be systematically recalculated unless the user initiates the **Recalculate charges** operation.</span></span>

<span data-ttu-id="61dca-239">Jeśli **Kod przyczyny zastąpienia opłat** został skonfigurowane na stronie konfiguracji **Parametry sieci sprzedaży komercyjnej**, użytkownik będzie monitowany o podanie kodu przyczyny, kiedy opłaty są modyfikowane w aplikacji POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-239">If the **Charge override reason code** has been configured on the **Commerce parameters** setup page, the user will be prompted to provide a reason code when charges have been modified in the POS application.</span></span>

<span data-ttu-id="61dca-240">Jeśli kod przyczyny został zarejestrowany dla nadpisanych opłat, nowy raport również jest dostępny do sprawdzenia i kontroli tych nadpisań.</span><span class="sxs-lookup"><span data-stu-id="61dca-240">If reason codes have been captured for overwritten charges, a new report is also available to review and audit these overrides.</span></span> <span data-ttu-id="61dca-241">Raport można znaleźć w menu **Handel detaliczny i komercyjny \> Zapytania i raporty \> Historia zastąpień opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-241">The report can be found in **Retail and Commerce \> Inquiries and reports \> Charge override history**.</span></span>

### <a name="refunding-charges-on-a-pos-return-transaction"></a><span data-ttu-id="61dca-242">Zwracanie opłat w ramach transakcji zwrotu POS</span><span class="sxs-lookup"><span data-stu-id="61dca-242">Refunding charges on a POS return transaction</span></span>

<span data-ttu-id="61dca-243">Jeśli parametr **Użyj zaawansowanego automatycznego naliczania opłat dodatkowych** jest ustawiony na **Tak**, istniejący parametr sieci sprzedaży komercyjnej dla **Zwróć opłaty transportowe** nie ma już zastosowania.</span><span class="sxs-lookup"><span data-stu-id="61dca-243">If the **Use advanced auto-charges** parameter is set to **Yes**, the existing Commerce parameter for **Refund shipping charges** is no longer applicable.</span></span> <span data-ttu-id="61dca-244">Aby wskazać, które opłaty mają być systemowo zwracane odbiorcy w kontekście zaawansowanych automatycznych opłat dodatkowych, należy upewnić się, że odpowiedni kod opłat został skonfigurowany jako **Zwrot** na stronie konfiguracji **Kod opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-244">To indicate which charges should be systematically refunded to a customer when using advanced auto charges, ensure the related charges code has been configured as **Refundable** on the **Charges code** setup page.</span></span> <span data-ttu-id="61dca-245">Upewnij się, że ustawienia zostały zsynchronizowane z bazami danych kanału Commerce za pomocą przetwarzania harmonogramu dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="61dca-245">Make sure that the settings have been synchronized to your Commerce channel databases through distribution schedule processing.</span></span>

### <a name="refunding-charges-on-a-return-order-transaction"></a><span data-ttu-id="61dca-246">Zwracanie opłat w ramach transakcji zamówienia</span><span class="sxs-lookup"><span data-stu-id="61dca-246">Refunding charges on a return order transaction</span></span>

<span data-ttu-id="61dca-247">Opłaty nie są systemowo zwracane do **Zamówień zwrotu** utworzonych w Commerce.</span><span class="sxs-lookup"><span data-stu-id="61dca-247">Charges are not systematically refunded to **Return orders** created in Commerce.</span></span> <span data-ttu-id="61dca-248">Użytkownicy muszą wybrać opcję **Kopiuj opłaty** podczas tworzenia **Zamówienia zwrotu**.</span><span class="sxs-lookup"><span data-stu-id="61dca-248">Users are required to select the **Copy charges** option when creating the **Return order**.</span></span> <span data-ttu-id="61dca-249">Jeśli opcja **Kopiuj opłaty** jest została zaznaczona, opłaty z pierwotnej transakcji sprzedaży nie zostaną automatycznie zwrócone.</span><span class="sxs-lookup"><span data-stu-id="61dca-249">If **Copy charges** is not selected, charges from the original sales transaction will not be automatically refunded.</span></span> <span data-ttu-id="61dca-250">Jeśli opcja **Kopiuj opłaty** jest zaznaczona, wszystkie opłaty zostaną skopiowane do zamówienia zwrotu, a użytkownik może ręcznie edytować lub usunąć wszelkie opłaty, które nie mają zostać zwrócone.</span><span class="sxs-lookup"><span data-stu-id="61dca-250">If **Copy charges** is selected, all charges will be copied to the return order and the user can manually edit or remove any charges they do not want to have refunded.</span></span> <span data-ttu-id="61dca-251">Proces zamówienia zwroty z biura obsługi obecnie nie zatwierdza flagi **Zwrot** w konfiguracji **Kod opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-251">The call center return order process currently does not acknowledge the **Refundable** flag on the **Charges code** setup.</span></span>

### <a name="configuring-pos-receipts-to-show-charges"></a><span data-ttu-id="61dca-252">Konfigurowanie przyjęć POS, aby pokazywały opłaty</span><span class="sxs-lookup"><span data-stu-id="61dca-252">Configuring POS receipts to show charges</span></span>

<span data-ttu-id="61dca-253">Dodano następujące elementy przyjęcia do wiersza przyjęcia i stopki do obsługi funkcji zaawansowanych automatycznych opłat dodatkowych.</span><span class="sxs-lookup"><span data-stu-id="61dca-253">The following receipt elements have been added to the receipt line and footer to support the advanced auto charges functionality.</span></span>

- <span data-ttu-id="61dca-254">**Opłaty transportowe w wierszach** — ten element poziomu wiersza może służyć do podsumowania określonych kodów opłat, które zostały zastosowane do wiersza sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-254">**Line Shipping Charges** – This line-level element can be used to recap specific charges codes that have been applied to the sales line.</span></span> <span data-ttu-id="61dca-255">Tylko kody opłat, które zostały oflagowane jako opłaty **Transportowe** na stronie **Kod opłat** zostaną tutaj wyświetlone.</span><span class="sxs-lookup"><span data-stu-id="61dca-255">Only charges codes that have been flagged as **Shipping** charges on the **Charges code** page will be displayed here.</span></span>
- <span data-ttu-id="61dca-256">**Inne opłaty w wierszach** — ten element poziomu wiersza może służyć do podsumowania wszelkich kodów opłat niezwiązanych z wysyłką, które zostały zastosowane do wiersza sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="61dca-256">**Line Other Charges** – This line-level element can be used to recap any non-shipping specific charge codes that have been applied to the sales line.</span></span> <span data-ttu-id="61dca-257">**Inne opłaty w wierszach** są to kody opłat, dla których flaga **Transportowe** na stronie **Kod opłat** nie została włączona.</span><span class="sxs-lookup"><span data-stu-id="61dca-257">**Line Other Charges** are charges codes where the **Shipping** flag on the **Charges code** page has not been enabled.</span></span>
- <span data-ttu-id="61dca-258">**Szczegóły opłat transportowych w zamówieniach** — ten element poziomu stopki wyświetla opisy kodów opłat stosowanych do zamówienia, które zostało oflagowane jako opłaty **Transportowe** na stronie **Kody opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-258">**Order Shipping Charges Details** – This footer-level element displays the descriptions of the charge codes applied to the order that have been flagged as **Shipping** charges on the **Charges code** setup page.</span></span>
- <span data-ttu-id="61dca-259">**Opłaty transportowe w zamówieniach** — ten element poziomu stopki pokazuje wartość w dolarach opłat związanych z wysyłką.</span><span class="sxs-lookup"><span data-stu-id="61dca-259">**Order Shipping Charges** – This footer-level element shows the dollar value of the shipping-related charges.</span></span>
- <span data-ttu-id="61dca-260">**Szczegóły innych opłat w zamówieniach** — ten element poziomu stopki wyświetla opis kodów opłat stosowanych do zamówienia, które nie zostało oflagowane jako związane z opłatami transportowymi.</span><span class="sxs-lookup"><span data-stu-id="61dca-260">**Order Other Charges Details** – This footer-level element displays the description of the charges codes applied to the order that have not been flagged as shipping-related charges.</span></span>
- <span data-ttu-id="61dca-261">**Inne opłaty w zamówieniach** — ten element poziomu stopki wyświetla wartość w dolarach innych opłat, które nie są związane z wysyłką.</span><span class="sxs-lookup"><span data-stu-id="61dca-261">**Order Other Charges** – This footer-level element displays the dollar value of the other charges that are not shipping-related.</span></span>

<span data-ttu-id="61dca-262">Zalecane jest, aby organizacja także dodała pola dowolnego tekstu do stopki przyjęcia, aby zdefiniować obszary, w których opłaty będą podsumowywane.</span><span class="sxs-lookup"><span data-stu-id="61dca-262">It is recommended that the organization also add free text fields to the receipt footer, in order to define the areas where charges will be recapped.</span></span>

### <a name="preventing-charges-from-being-calculated-until-the-pos-order-is-completed"></a><span data-ttu-id="61dca-263">Uniemożliwienie obliczania opłat aż do zamknięcia zamówienia POS</span><span class="sxs-lookup"><span data-stu-id="61dca-263">Preventing charges from being calculated until the POS order is completed</span></span>

<span data-ttu-id="61dca-264">Niektóre organizacje mogą woleć czekać, aż użytkownik zakończy dodawanie wszystkich wierszy sprzedaży do transakcji POS przed obliczeniem opłat.</span><span class="sxs-lookup"><span data-stu-id="61dca-264">Some organizations may prefer to wait until the user has finished adding all of the sales lines to the POS transaction before calculating charges.</span></span> <span data-ttu-id="61dca-265">Aby zapobiec obliczaniu opłat w trakcie dodawania pozycji do transakcji POS, włącz parametr **Ręczne obliczanie opłat** w **Profilu funkcjonalnym** używanym w danym sklepie.</span><span class="sxs-lookup"><span data-stu-id="61dca-265">To prevent calculation of charges as items are added to the POS transaction, turn on the **Manual charge calculation** parameter in the **Functionality profile** used by the store.</span></span> <span data-ttu-id="61dca-266">Włączenie tego parametru będzie wymagać od użytkownika POS użycia operacji **Oblicz sumy** po zakończeniu dodawania produktów do transakcji POS.</span><span class="sxs-lookup"><span data-stu-id="61dca-266">Enabling this parameter will require the POS user to use the **Calculate totals** operation when they have completed adding the products to the POS transaction.</span></span> <span data-ttu-id="61dca-267">Operacja **Oblicz sumy** spowoduje następnie obliczenie wszelkich automatycznych opłat dodatkowych dla nagłówka lub wierszy zamówienia, stosownie do przypadku.</span><span class="sxs-lookup"><span data-stu-id="61dca-267">The **Calculate totals** operation will then trigger the calculation of any auto charges for the order header or lines as applicable.</span></span>

### <a name="charges-override-reports"></a><span data-ttu-id="61dca-268">Raporty zastępowania opłat</span><span class="sxs-lookup"><span data-stu-id="61dca-268">Charges override reports</span></span>

<span data-ttu-id="61dca-269">Jeśli użytkownik ręcznie zastąpi obliczone opłaty lub doda ręcznie opłatę do transakcji, te dane będą dostępne na potrzeby audytu w raporcie **Historia zastąpień opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-269">If users manually override the calculated charges or add a manual charge to the transaction, this data will be available for auditing in the **Charge Override History** report.</span></span> <span data-ttu-id="61dca-270">Raport można uzyskać dostęp w menu **Handel detaliczny i komercyjny \> Zapytania i raporty \> Historia zastąpień opłat**.</span><span class="sxs-lookup"><span data-stu-id="61dca-270">The report can be accessed from **Retail and Commerce \> Inquiries and reports \> Charge Override History**.</span></span> <span data-ttu-id="61dca-271">Należy pamiętać, że dane potrzebne dla tego raportu będą importowane z bazy danych kanałów do Centrali za pośrednictwem zadań harmonogramu dystrybucji „P”.</span><span class="sxs-lookup"><span data-stu-id="61dca-271">It is important to note that the data needed for this report is imported from the channel database into HQ through the "P" distribution schedule jobs.</span></span> <span data-ttu-id="61dca-272">W związku z tym informacje o zastąpieniach właśnie wprowadzonych w punkcie sprzedaży mogą nie być natychmiast dostępne w tym raporcie, chyba że to zadanie przesłało dane o transakcjach w sklepie do centrali.</span><span class="sxs-lookup"><span data-stu-id="61dca-272">Therefore, information about overrides just performed in the POS may not be immediately available on this report until this job has uploaded the store transaction data into HQ.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="61dca-273">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="61dca-273">Additional resources</span></span>

[<span data-ttu-id="61dca-274">Włączanie i konfigurowanie opłat automatycznych według kanałów</span><span class="sxs-lookup"><span data-stu-id="61dca-274">Enable and configure auto charges by channel</span></span>](auto-charges-by-channel.md)

[<span data-ttu-id="61dca-275">Proporcjonalne dzielenie opłat z nagłówka między pasujące wiersze sprzedaży</span><span class="sxs-lookup"><span data-stu-id="61dca-275">Prorate header charges to matching sales lines</span></span>](pro-rate-charges-matching-lines.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
