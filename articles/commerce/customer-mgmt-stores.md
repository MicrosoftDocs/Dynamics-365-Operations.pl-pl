---
title: Zarządzanie klientami w sklepach
description: W tym temacie wyjaśniono, w jaki sposób detaliści mogą włączyć funkcje zarządzania klientami w punkcie sprzedaży (POS) w Microsoft Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 03/05/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: 8a1b360ba6a2d32e38e101f25f108094a00190c8
ms.sourcegitcommit: 8a14eac1c27f10c2b1b02ac9ad82339f5e127602
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/05/2021
ms.locfileid: "5555054"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="09534-103">Zarządzanie klientami w sklepach</span><span class="sxs-lookup"><span data-stu-id="09534-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="09534-104">W tym temacie wyjaśniono, w jaki sposób detaliści mogą włączyć funkcje zarządzania klientami w punkcie sprzedaży (POS) w Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="09534-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="09534-105">Bardzo ważne jest, aby skojarzyć ze sklepem możliwość tworzenia i edytowania rekordów odbiorcy w POS.</span><span class="sxs-lookup"><span data-stu-id="09534-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="09534-106">W ten sposób mogą przechwytywać wszelkie aktualizacje informacji o odbiorcy, takie jak adres e-mail, numer telefonu i adres.</span><span class="sxs-lookup"><span data-stu-id="09534-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="09534-107">Te informacje są pomocne w przypadku systemów przetwarzania od odbiorcy do odbiorcy, takich jak marketing, ponieważ ich efektywność zależy od dokładności danych klientów.</span><span class="sxs-lookup"><span data-stu-id="09534-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="09534-108">Skojarzenia sprzedaży mogą wyzwalać przepływ pracy tworzenia odbiorcy z dwóch punktów wejścia punktu sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="09534-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="09534-109">Mogą wybrać przycisk zamapowany na operację **Dodawania odbiorcy** lub wybrać pozycję **Utwórz klienta** na pasku aplikacji na stronie wyników wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="09534-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="09534-110">W obu wypadkach zostanie wyświetlone okno dialogowe **Nowy odbiorca**, w którym skojarzeń ze sprzedażą może wprowadzić wymagane dane odbiorcy, takie jak imię i nazwisko, adres e-mail, numer telefonu, adres oraz wszelkie dodatkowe informacje związane z firmą.</span><span class="sxs-lookup"><span data-stu-id="09534-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="09534-111">Te dodatkowe informacje można przechwytywać przy użyciu atrybutów odbiorcy, które są skojarzone z tym klientem.</span><span class="sxs-lookup"><span data-stu-id="09534-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="09534-112">Aby uzyskać więcej informacji o atrybutach odbiorcy, zobacz temat [Atrybuty odbiorcy](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="09534-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="09534-113">Skojarzenia sprzedaży mogą także przechwytywać pomocnicze adresy e-mail i numery telefonów.</span><span class="sxs-lookup"><span data-stu-id="09534-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="09534-114">Ponadto mogą przechwytywać preferencje odbiorcy dotyczące otrzymywania informacji marketingowych za pośrednictwem dowolnego z tych pomocniczych adresów e-mail lub numerów telefonów.</span><span class="sxs-lookup"><span data-stu-id="09534-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="09534-115">Aby włączyć tę funkcję, sprzedawcy detaliczni muszą włączyć funkcję **Przechwytywanie wielu wiadomości e-mail i numerów telefonów oraz zgody na marketing dla tych kontaktów** w obszarze roboczym **Zarządzanie funkcjami** w programie Commerce Headquarters (**Administrowanie systemem \> Obszary robocze \> Zarządzanie funkcjami**).</span><span class="sxs-lookup"><span data-stu-id="09534-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="09534-116">Domyślne właściwości odbiorcy</span><span class="sxs-lookup"><span data-stu-id="09534-116">Default customer properties</span></span>

<span data-ttu-id="09534-117">Sprzedawcy detaliczni mogą używać strony **Wszystkie sklepy** w programie Commerce Headquarters (**Retail i Commerce \> Kanały \> Sklepy**), aby skojarzyć domyślnego klienta z każdym sklepem.</span><span class="sxs-lookup"><span data-stu-id="09534-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="09534-118">Następnie program Commerce kopiuje właściwości zdefiniowane dla odbiorcy domyślnego do wszystkich utworzonych rekordów nowych klientów.</span><span class="sxs-lookup"><span data-stu-id="09534-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="09534-119">Na przykład w oknie dialogowym **Tworzenie odbiorcy** są wyświetlane właściwości dziedziczone po domyślnym odbiorcy skojarzonym ze sklepem.</span><span class="sxs-lookup"><span data-stu-id="09534-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="09534-120">Te właściwości obejmują typ odbiorcy, grupę klientów, preferencje dotyczące paragonu, walutę i język.</span><span class="sxs-lookup"><span data-stu-id="09534-120">Those properties include the customer type, customer group, receipt preference, currency, and language.</span></span> <span data-ttu-id="09534-121">Wszystkie przynależności (grupy odbiorców) są także dziedziczone po odbiorcy domyślnym.</span><span class="sxs-lookup"><span data-stu-id="09534-121">Any affiliations (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="09534-122">Wymiary finansowe są jednak dziedziczone po grupie klientów skojarzonej z domyślnym klientem, a nie po samym odbiorcy domyślnym.</span><span class="sxs-lookup"><span data-stu-id="09534-122">However, financial dimensions are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

<span data-ttu-id="09534-123">Skojarzenia sprzedaży mogą przechwytywać wiele adresów dla odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="09534-123">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="09534-124">Imię i nazwisko odbiorcy oraz numer telefonu są dziedziczone z informacji kontaktowych skojarzonych z każdym adresem.</span><span class="sxs-lookup"><span data-stu-id="09534-124">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="09534-125">Skrócona karta **Adresy** rekordu odbiorcy zawiera pole **Cel**, które mogą edytować skojarzenia sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="09534-125">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="09534-126">Jeśli typem odbiorcy jest **Osoba**, domyślną wartością jest **Strona główna**.</span><span class="sxs-lookup"><span data-stu-id="09534-126">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="09534-127">Jeśli typem odbiorcy jest **Organizacja**, domyślną wartością jest **Biznes**.</span><span class="sxs-lookup"><span data-stu-id="09534-127">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="09534-128">Inne wartości, które obsługuje to pole, obejmują: **Strona główna**, **Biuro** i **Poczta**.</span><span class="sxs-lookup"><span data-stu-id="09534-128">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="09534-129">Wartość pola **Kraj** w adresie jest dziedziczona z adresu podstawowego określonego na stronie **Jednostka operacyjna** w Commerce headquarters w **Administrowanie organizacją \> Organizacje \> Jednostki organizacyjne**.</span><span class="sxs-lookup"><span data-stu-id="09534-129">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="09534-130">Synchronizuj odbiorców i odbiorców asynchronicznych</span><span class="sxs-lookup"><span data-stu-id="09534-130">Sync customers and Async customers</span></span>

<span data-ttu-id="09534-131">W handlu istnieją dwa tryby tworzenia odbiorcy: Synchroniczny (lub Synchronizuj) i Asynchroniczny (lub Asynchroniczny).</span><span class="sxs-lookup"><span data-stu-id="09534-131">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="09534-132">Domyślnie odbiorcy są tworzona synchronicznie.</span><span class="sxs-lookup"><span data-stu-id="09534-132">By default, customers are created synchronously.</span></span> <span data-ttu-id="09534-133">Są one tworzone w programie Commerce Headquarters w czasie rzeczywistym.</span><span class="sxs-lookup"><span data-stu-id="09534-133">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="09534-134">Tryb tworzenia odbiorcy synchronizacji jest korzystne, ponieważ nowi odbiorcy mogą od razu podlegać wyszukiwaniu w różnych kanałach.</span><span class="sxs-lookup"><span data-stu-id="09534-134">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="09534-135">Ma jednak także minusy.</span><span class="sxs-lookup"><span data-stu-id="09534-135">However, it also has a drawback.</span></span> <span data-ttu-id="09534-136">Ponieważ generuje on wywołania usługi [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) może to mieć wpływ na wydajność, jeśli wywołanych jest wiele równoczesnych wywołań tworzenia klientów.</span><span class="sxs-lookup"><span data-stu-id="09534-136">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="09534-137">Jeśli dla opcji **Utwórz odbiorcy w trybie asynchronicznym** jest ustawiona wartość **Tak** w profilu funkcji sklepu (**Retail i Commerce \> Ustawienia kanału \> Ustawienia sklepu online \> Profile funkcji**), wywołania usługi Real-time Service nie są używane do tworzenia rekordów klientów w bazie danych kanału</span><span class="sxs-lookup"><span data-stu-id="09534-137">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="09534-138">Tryb tworzenia usługi Async Customer nie ma wpływu na wydajność centrali w programie Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="09534-138">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="09534-139">Tymczasowy unikatowy identyfikator GUID jest przypisywany do każdego nowego rekordu usługi Async Customer i używany jako identyfikator konta odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="09534-139">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="09534-140">Ten identyfikator GUID nie jest wyświetlany użytkownikom w POS.</span><span class="sxs-lookup"><span data-stu-id="09534-140">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="09534-141">Zamiast tego ci użytkownicy zobaczą identyfikator konta odbiorcy **Oczekująca synchronizacja**.</span><span class="sxs-lookup"><span data-stu-id="09534-141">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="09534-142">Chociaż ta konfiguracja wymusza asynchroniczne tworzenia odbiorców, należy pamiętać, że edycja rekordów odbiorców jest zawsze wykonywana synchronicznie.</span><span class="sxs-lookup"><span data-stu-id="09534-142">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="09534-143">Konwertuj klientów Async na klientów synchronizacji</span><span class="sxs-lookup"><span data-stu-id="09534-143">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="09534-144">Aby przekonwertować odbiorców asynchronicznych na odbiorców synchronizacji, należy najpierw uruchomić zadanie P, aby wysłać odbiorców asynchronicznych do programu Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="09534-144">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="09534-145">Następnie uruchom zadanie **Synchronizuj odbiorców i partnerów biznesowych z zadania w trybie asynchronicznym**, aby utworzyć identyfikatory kont odbiorców.</span><span class="sxs-lookup"><span data-stu-id="09534-145">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="09534-146">Na koniec uruchom zadanie **1010**, aby zsynchronizować identyfikatory nowych kont odbiorcy z kanałami.</span><span class="sxs-lookup"><span data-stu-id="09534-146">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="09534-147">Ograniczenia dotyczące odbiorcy usługi Async</span><span class="sxs-lookup"><span data-stu-id="09534-147">Async customer limitations</span></span>

<span data-ttu-id="09534-148">Funkcje usługi Async Customer mają obecnie następujące ograniczenia:</span><span class="sxs-lookup"><span data-stu-id="09534-148">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="09534-149">Nie można edytować rekordów odbiorcy asynchronicznego, jeśli odbiorca nie zostanie utworzony w programie Commerce Headquarters i nowy identyfikator konta odbiorcy zostanie zsynchronizowany z powrotem z kanałem.</span><span class="sxs-lookup"><span data-stu-id="09534-149">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="09534-150">Przynależności nie można skojarzyć z klientami asynchronicznym.</span><span class="sxs-lookup"><span data-stu-id="09534-150">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="09534-151">Dlatego nowi odbiorcy asynchroniczni nie dziedziczą przynależności po odbiorcy domyślnym.</span><span class="sxs-lookup"><span data-stu-id="09534-151">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="09534-152">Nie można wystawiać kart lojalnościowych dla odbiorców asynchronicznych, chyba że nowy identyfikator konta odbiorcy zostanie zsynchronizowany z powrotem z kanałem.</span><span class="sxs-lookup"><span data-stu-id="09534-152">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="09534-153">Nie można przechwycić pomocniczych adresów e-mail i numerów telefonów dla odbiorców asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="09534-153">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="09534-154">Tworzenie klienta w trybie offline POS</span><span class="sxs-lookup"><span data-stu-id="09534-154">Customer creation in POS offline mode</span></span>

<span data-ttu-id="09534-155">Jeśli program POS przechodzi w tryb offline, gdy jest włączony tryb tworzenia usługi Async Customer, rekordy nowych klientów są tworzone asynchronicznie.</span><span class="sxs-lookup"><span data-stu-id="09534-155">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="09534-156">Jeśli POS działa w trybie offline, gdy tryb tworzenia asynchronicznego odbiorcy jest wyłączony, system automatycznie przełącza się do trybu tworzenia asynchronicznego odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="09534-156">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="09534-157">Innymi słowy, rekordy klientów mogą być tworzone asynchronicznie, nawet jeśli tryb asynchronicznego tworzenia klientów jest wyłączony.</span><span class="sxs-lookup"><span data-stu-id="09534-157">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="09534-158">Dlatego administratorzy Commerce headquarters muszą tworzyć i planować cykliczne zadanie wsadowe dla zadania P, **Synchronizuj odbiorców i partnerów biznesowych z zadania w trybie asynchronicznym** oraz zadanie **1010**, aby dowolni odbiorcy asynchroniczni są konwertowani na odbiorców synchronizacji w centrali Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="09534-158">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="09534-159">Jeśli dla opcji **Filtruj udostępnione tabele danych klientów** jest ustawiona wartość **Tak** na stronie **Schematu kanału sprzedaży** (**Retail i Commerce \> ustawienia Headquarters \> Harmonogram handlu \> Grupy baz danych kanału**), rekordy klientów nie są tworzone w trybie offline w punktach sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="09534-159">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="09534-160">Aby uzyskać więcej informacji, zobacz [Wykluczenie danych offline](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="09534-160">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="09534-161">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="09534-161">Additional resources</span></span>

[<span data-ttu-id="09534-162">Atrybuty odbiorcy</span><span class="sxs-lookup"><span data-stu-id="09534-162">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="09534-163">Wykluczanie danych w trybie offline</span><span class="sxs-lookup"><span data-stu-id="09534-163">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
