---
title: Optymalizacja zadań wsadowych BYOD w harmonogramie
description: W tym temacie wyjaśniono, jak optymalizować wydajność, gdy jest używana funkcja „Dobierz własną bazę danych (BYOD)” w rozwiązaniu Microsoft Dynamics 365 Human Resources.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: ed3ebbf09403090a1173c3cda1a4b11b74419b90
ms.sourcegitcommit: 879ee8a10e6158885795dce4b3db5077540eec41
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/18/2021
ms.locfileid: "6052680"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="69074-103">Optymalizacja zadań wsadowych BYOD w harmonogramie</span><span class="sxs-lookup"><span data-stu-id="69074-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="69074-104">W tym temacie wyjaśniono, jak optymalizować wydajność, gdy jest używana funkcja „Dobierz własną bazę danych (BYOD)”.</span><span class="sxs-lookup"><span data-stu-id="69074-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="69074-105">Aby uzyskać więcej informacji o BYOD, zapoznaj się z tematem [Dobierz własną bazę danych (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="69074-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="69074-106">Zagadnienia dotyczące wydajności eksportu danych</span><span class="sxs-lookup"><span data-stu-id="69074-106">Performance considerations for data export</span></span>

<span data-ttu-id="69074-107">Po opublikowaniu jednostek w docelowej bazie danych można skorzystać z funkcji eksportu w obszarze roboczym **Zarządzanie danymi**, aby przenieść dane.</span><span class="sxs-lookup"><span data-stu-id="69074-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="69074-108">Funkcja eksportu umożliwia zdefiniowanie zadania przenoszenia danych, które zawiera jedną lub więcej encji.</span><span class="sxs-lookup"><span data-stu-id="69074-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="69074-109">Aby uzyskać więcej informacji o funkcji zarządzania danymi do eksportowania danych, zapoznaj się z [Omówieniem importowania i eksportowania danych](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="69074-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="69074-110">Strony **Eksport** można używać do eksportowania danych do różnych docelowych formatów danych, takich jak plik CSV (wartości rozdzielane przecinkami).</span><span class="sxs-lookup"><span data-stu-id="69074-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="69074-111">Ta strona obsługuje również bazy danych SQL jako inne miejsce docelowe.</span><span class="sxs-lookup"><span data-stu-id="69074-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="69074-112">Istnieje możliwość utworzenia projektu danych, który ma wiele jednostek, i użycia zadania wsadowego w celu zaplanowania działania tego projektu danych.</span><span class="sxs-lookup"><span data-stu-id="69074-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="69074-113">W przypadku wybrania opcji **Eksportuj w partii** można zaplanować zadanie eksportu danych, które będzie uruchamiane okresowo.</span><span class="sxs-lookup"><span data-stu-id="69074-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="69074-114">Aby zachować ogólną wiarygodność eksportu BYOD, należy zachować ostrożność podczas dodawania wielu jednostek do projektu eksportu.</span><span class="sxs-lookup"><span data-stu-id="69074-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="69074-115">Podczas określania liczby jednostek, które mają zostać dodane do tego samego projektu, należy wziąć pod uwagę następujące parametry:</span><span class="sxs-lookup"><span data-stu-id="69074-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="69074-116">Złożoność encji</span><span class="sxs-lookup"><span data-stu-id="69074-116">The complexity of the entities</span></span>
- <span data-ttu-id="69074-117">Oczekiwany wolumen danych na jednostkę</span><span class="sxs-lookup"><span data-stu-id="69074-117">The expected data volume per entity</span></span>
- <span data-ttu-id="69074-118">Całkowity czas wymagany do zakończenia eksportu na poziomie zadania</span><span class="sxs-lookup"><span data-stu-id="69074-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="69074-119">Aby osiągnąć najlepszą wydajność, należy unikać dodawania setek jednostek do jednego projektu.</span><span class="sxs-lookup"><span data-stu-id="69074-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="69074-120">Zaleca się utworzenie wielu zadań, z których każdy zawiera mniej jednostek.</span><span class="sxs-lookup"><span data-stu-id="69074-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="69074-121">Planowanie zadań wsadowych BYOD</span><span class="sxs-lookup"><span data-stu-id="69074-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="69074-122">Aby zmniejszyć wpływ na użytkowników systemu Microsoft Dynamics 365 Human Resources, należy uruchomić zadania wsadowe BYOD w nocy lub po godzinach.</span><span class="sxs-lookup"><span data-stu-id="69074-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="69074-123">Należy sprawdzić strefę czasową cyklicznych zadań wsadowych.</span><span class="sxs-lookup"><span data-stu-id="69074-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="69074-124">Niektóre zadania wsadowe mogą wykorzystywać standardowy czas pacyficzny (PST).</span><span class="sxs-lookup"><span data-stu-id="69074-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="69074-125">Aby uniknąć problemów z wydajnością, podczas konfigurowania częstotliwości planowania dla zadań wsadowych BYOD należy wziąć pod uwagę następujące czynniki:</span><span class="sxs-lookup"><span data-stu-id="69074-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="69074-126">Czas wymagany do ukończenia każdego zadania wsadowego</span><span class="sxs-lookup"><span data-stu-id="69074-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="69074-127">Zapotrzebowanie na firmę dla danych w BYOD</span><span class="sxs-lookup"><span data-stu-id="69074-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="69074-128">Umożliwia ustawienie częstotliwości dla każdego zadania wsadowego na wartość, która zapewnia, że zadanie będzie można zakończyć przed następnym zaplanowanym czasem uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="69074-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="69074-129">Unikaj uruchamiania wielu zadań równolegle, ponieważ może to mieć negatywny wpływ na wydajność Human Resources.</span><span class="sxs-lookup"><span data-stu-id="69074-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="69074-130">Aby uzyskać najlepszą wydajność, należy zawsze stosować opcję **Eksportuj w partii** na stronie **Eksport**, aby zaplanować zadania wsadowe BYOD.</span><span class="sxs-lookup"><span data-stu-id="69074-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="69074-131">Unikaj planowania cyklicznych eksportów poprzez **Zarządzanie \> Zarządzanie cyklicznymi zadaniami danych**.</span><span class="sxs-lookup"><span data-stu-id="69074-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="69074-132">Eksportowanie przyrostowe</span><span class="sxs-lookup"><span data-stu-id="69074-132">Incremental export</span></span>

<span data-ttu-id="69074-133">Podczas dodawania jednostki do eksportu danych można wykonać zarówno operację przyrostową (eksport), jak i pełne wypychanie.</span><span class="sxs-lookup"><span data-stu-id="69074-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="69074-134">Pełna wypychanie powoduje usunięcie wszystkich istniejących rekordów z jednostki w bazie danych BYOD.</span><span class="sxs-lookup"><span data-stu-id="69074-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="69074-135">Następnie wstawia bieżący zbiór rekordów z encji Human Resources.</span><span class="sxs-lookup"><span data-stu-id="69074-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="69074-136">Aby wykonać operację wypychania przyrostowego, należy włączyć śledzenie zmian dla każdej encji na stronie **Encje**.</span><span class="sxs-lookup"><span data-stu-id="69074-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="69074-137">Aby uzyskać więcej informacji, przejrzyj temat [Włączanie śledzenia zmian dla encji](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="69074-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="69074-138">W przypadku wybrania opcji wypychania przyrostowego pierwszy punkt wypychania będzie zawsze pełnym wypychaniem.</span><span class="sxs-lookup"><span data-stu-id="69074-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="69074-139">Program SQL śledzi te zmiany z pierwszego pełnego wypychania.</span><span class="sxs-lookup"><span data-stu-id="69074-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="69074-140">Po wstawieniu nowego rekordu lub po zaktualizowaniu lub usunięciu rekordu, zmiana jest odzwierciedlana w encji docelowej.</span><span class="sxs-lookup"><span data-stu-id="69074-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="69074-141">Limity czasu</span><span class="sxs-lookup"><span data-stu-id="69074-141">Time-outs</span></span>

<span data-ttu-id="69074-142">Oto domyślne limity czasu dla eksportu BYOD:</span><span class="sxs-lookup"><span data-stu-id="69074-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="69074-143">Dziesięć minut dla operacji obcinania</span><span class="sxs-lookup"><span data-stu-id="69074-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="69074-144">Jedna godzina dla operacji wstawiania zbiorczego</span><span class="sxs-lookup"><span data-stu-id="69074-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="69074-145">Gdy ilość danych jest bardzo duża, te ustawienia limitu czasu mogą być niewystarczające.</span><span class="sxs-lookup"><span data-stu-id="69074-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="69074-146">Aby je zaktualizować, przejdź do **Zarządzania danymi \> Ustawienia ramowe \> Wprowadzanie własnej bazy danych**.</span><span class="sxs-lookup"><span data-stu-id="69074-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="69074-147">Te limity czasu są specyficzne dla firmy i muszą być ustawiane osobno dla każdej firmy.</span><span class="sxs-lookup"><span data-stu-id="69074-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="69074-148">Znane ograniczenia</span><span class="sxs-lookup"><span data-stu-id="69074-148">Known limitations</span></span>

<span data-ttu-id="69074-149">Funkcja BYOD ma następujące ograniczenia:</span><span class="sxs-lookup"><span data-stu-id="69074-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="69074-150">Podczas synchronizacji nie powinno być aktywnych blokad w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="69074-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="69074-151">Aktywne blokady mogą powodować powolne zapisy lub nawet niepowodzenie w eksportowaniu danych do bazy danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="69074-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="69074-152">Nie można eksportować jednostek złożonych do własnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="69074-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="69074-153">Obecnie jednostki złożone nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="69074-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="69074-154">Należy eksportować poszczególne jednostki składające się na jednostkę złożoną.</span><span class="sxs-lookup"><span data-stu-id="69074-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="69074-155">Można jednak eksportować obie jednostki z tego samego projektu danych.</span><span class="sxs-lookup"><span data-stu-id="69074-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="69074-156">Jednostki, które nie mają unikatowych kluczy, nie mogą być eksportowane za pomocą polecenia wypychania przyrostowego.</span><span class="sxs-lookup"><span data-stu-id="69074-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="69074-157">Ograniczenie to może być szczególnie przydatne podczas próby stopniowego eksportowania rekordów z kilku gotowych jednostek.</span><span class="sxs-lookup"><span data-stu-id="69074-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="69074-158">Ponieważ te jednostki zostały zaprojektowane w celu umożliwienia importowania danych, nie mają unikatowego klucza.</span><span class="sxs-lookup"><span data-stu-id="69074-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="69074-159">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="69074-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="69074-160">Wypychanie przyrostowe nie działa poprawnie</span><span class="sxs-lookup"><span data-stu-id="69074-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="69074-161">**Problem:** Podczas wykonywania pełnego wypychania dla danej encji widoczne jest wiele rekordów BYOD po wybraniu instrukcji **wybierz**.</span><span class="sxs-lookup"><span data-stu-id="69074-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="69074-162">Jednak w przypadku wypychania przyrostowego widoczna jest tylko liczba rekordów w BYOD.</span><span class="sxs-lookup"><span data-stu-id="69074-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="69074-163">Wygląda na to, jakby przyrostowa metoda wypychania usunęła wszystkie rekordy i dodała tylko zmienione rekordy w BYOD.</span><span class="sxs-lookup"><span data-stu-id="69074-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="69074-164">**Rozwiązanie:** tabele śledzenia zmian SQL mogą nie znajdować się w oczekiwanym stanie.</span><span class="sxs-lookup"><span data-stu-id="69074-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="69074-165">W przypadku tego typu sytuacji zaleca się wyłączenie śledzenia zmian dla jednostki, a następnie włączenie funkcji z powrotem.</span><span class="sxs-lookup"><span data-stu-id="69074-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="69074-166">Aby uzyskać więcej informacji, przejrzyj temat [Włączanie śledzenia zmian dla encji](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="69074-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="69074-167">Tabele przemieszczania nie są czyszczone</span><span class="sxs-lookup"><span data-stu-id="69074-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="69074-168">**Problem:** Podczas korzystania z funkcji przemieszczania w projekcie tabele przemieszczania nie są poprawnie czyszczone.</span><span class="sxs-lookup"><span data-stu-id="69074-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="69074-169">Dane w tabelach wciąż przyrastają, powodując problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="69074-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="69074-170">**Rozwiązanie:** W tabelach przemieszczania jest zachowywanych siedem dni historii.</span><span class="sxs-lookup"><span data-stu-id="69074-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="69074-171">Dane historyczne starsze niż siedem dni są automatycznie usuwane z tabel przemieszczania przez zadanie **Oczyszczanie przemieszczania importu i eksportu**.</span><span class="sxs-lookup"><span data-stu-id="69074-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="69074-172">Jeśli to zadanie zostanie zablokowane, tabele nie będą poprawnie czyszczone.</span><span class="sxs-lookup"><span data-stu-id="69074-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="69074-173">Ponowne uruchomienie tego zadania wsadowego spowoduje automatyczne wyczyszczenie tabel przemieszczania.</span><span class="sxs-lookup"><span data-stu-id="69074-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="69074-174">Informacje dodatkowe</span><span class="sxs-lookup"><span data-stu-id="69074-174">See also</span></span>

[<span data-ttu-id="69074-175">Omówienie zarządzania danymi</span><span class="sxs-lookup"><span data-stu-id="69074-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="69074-176">Używanie własnej bazy danych (BYOD)</span><span class="sxs-lookup"><span data-stu-id="69074-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="69074-177">Omówienie zadań importowania i eksportowania danych</span><span class="sxs-lookup"><span data-stu-id="69074-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="69074-178">Włączanie śledzenia zmian dla jednostek</span><span class="sxs-lookup"><span data-stu-id="69074-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
